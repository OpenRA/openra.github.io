/* Javascript plotting library for jQuery, version 0.8.3.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/
/*
 * BinaryFile over XMLHttpRequest
 * Part of the javascriptRRD package
 * Copyright (c) 2009 Frank Wuerthwein, fkw@ucsd.edu
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 *
 * Based on:
 *   Binary Ajax 0.1.5
 *   Copyright (c) 2008 Jacob Seidelin, cupboy@gmail.com, http://blog.nihilogic.dk/
 *   MIT License [http://www.opensource.org/licenses/mit-license.php]
 */
function InvalidBinaryFile(t){this.message=t,this.name="Invalid BinaryFile"}function BinaryFile(t,e,i){var r=t,n=e||0,o=0,p=Math.pow(2,-28),f=Math.pow(2,-52),l=Math.pow(2,-20);if(this.getRawData=function(){return r},"string"==typeof t)o=i||r.length,this.getByteAt=function(t){return 255&r.charCodeAt(t+n)};else{if("unknown"!=typeof t)throw new InvalidBinaryFile("Unsupported type "+typeof t);o=i||IEBinary_getLength(r),this.getByteAt=function(t){return IEBinary_getByteAt(r,t+n)}}this.getEndianByteAt=function(t,e,i){return this.switch_endian?this.getByteAt(t+e-i-1):this.getByteAt(t+i)},this.getLength=function(){return o},this.getSByteAt=function(t){var e=this.getByteAt(t);return 127<e?e-256:e},this.getShortAt=function(t){var e=(this.getEndianByteAt(t,2,1)<<8)+this.getEndianByteAt(t,2,0);return e<0&&(e+=65536),e},this.getSShortAt=function(t){var e=this.getShortAt(t);return 32767<e?e-65536:e},this.getLongAt=function(t){var e=this.getEndianByteAt(t,4,0),i=this.getEndianByteAt(t,4,1),r=this.getEndianByteAt(t,4,2),n=(((this.getEndianByteAt(t,4,3)<<8)+r<<8)+i<<8)+e;return n<0&&(n+=4294967296),n},this.getSLongAt=function(t){var e=this.getLongAt(t);return 2147483647<e?e-4294967296:e},this.getStringAt=function(t,e){for(var i=[],r=t,n=0;r<t+e;r++,n++)i[n]=String.fromCharCode(this.getByteAt(r));return i.join("")},this.getCStringAt=function(t,e){for(var i=[],r=t,n=0;r<t+e&&0<this.getByteAt(r);r++,n++)i[n]=String.fromCharCode(this.getByteAt(r));return i.join("")},this.getDoubleAt=function(t){var e=this.getEndianByteAt(t,8,0),i=this.getEndianByteAt(t,8,1),r=this.getEndianByteAt(t,8,2),n=this.getEndianByteAt(t,8,3),o=this.getEndianByteAt(t,8,4),s=this.getEndianByteAt(t,8,5),a=this.getEndianByteAt(t,8,6),l=this.getEndianByteAt(t,8,7),d=((127&l)<<4)+(a>>4),h=((((15&a)<<8)+s<<8)+o<<8)+n,c=((r<<8)+i<<8)+e;if(0==d)return 0;if(2047==d)return undefined;var u=(2047&d)-1023;return(1==l>>7?-1:1)*Math.pow(2,u)*(1+c*f+h*p)},this.getFastDoubleAt=function(t){var e=this.getEndianByteAt(t,8,4),i=this.getEndianByteAt(t,8,5),r=this.getEndianByteAt(t,8,6),n=this.getEndianByteAt(t,8,7),o=((127&n)<<4)+(r>>4),s=(((15&r)<<8)+i<<8)+e;if(0==o)return 0;if(2047==o)return undefined;var a=(2047&o)-1023;return(1==n>>7?-1:1)*Math.pow(2,a)*(1+s*l)},this.getCharAt=function(t){return String.fromCharCode(this.getByteAt(t))}}function FetchBinaryURL(t){var e=new XMLHttpRequest;e.open("GET",t,!1);try{e.overrideMimeType("text/plain; charset=x-user-defined")}catch(r){}e.send(null);var i=this.responseText;try{0<IEBinary_getLength(this.responseBody)&&(i=this.responseBody)}catch(r){}return new BinaryFile(i)}function FetchBinaryURLAsync(t,r,n){var e=function(){if(4==this.readyState){var t=this.responseText;try{0<IEBinary_getLength(this.responseBody)&&(t=this.responseBody)}catch(i){}var e=new BinaryFile(t);null!=n?r(e,n):r(e)}},i=new XMLHttpRequest;i.onreadystatechange=e,i.open("GET",t,!0);try{i.overrideMimeType("text/plain; charset=x-user-defined")}catch(o){}return i.send(null),i}
/*
 * Client library for access to RRD archive files
 * Part of the javascriptRRD package
 * Copyright (c) 2009-2010 Frank Wuerthwein, fkw@ucsd.edu
 *                         Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */function InvalidRRD(t){this.message=t,this.name="Invalid RRD"}function RRDDS(t,e,i){this.rrd_data=t,this.rrd_data_idx=e,this.my_idx=i}function RRDRRAInfo(t,e,i,r,n,o){this.rrd_data=t,this.rra_def_idx=e,this.int_align=i,this.row_cnt=r,this.pdp_step=n,this.my_idx=o,this.rra_pdp_cnt_idx=e+Math.ceil(20/i)*i+i}function RRDRRA(t,e,i,r,n,o){this.rrd_data=t,this.rra_info=i,this.row_cnt=i.row_cnt;var s=8*(this.ds_cnt=o);this.base_rrd_db_idx=r+n*s,this.cur_row=t.getLongAt(e),this.calc_idx=function(t,e){if(0<=t&&t<this.row_cnt){if(0<=e&&e<o){var i=t+this.cur_row+1;return i>=this.row_cnt&&(i-=this.row_cnt),s*i+8*e}throw RangeError("DS idx ("+t+") out of range [0-"+o+").")}throw RangeError("Row idx ("+t+") out of range [0-"+this.row_cnt+").")}}function RRDHeader(t){this.rrd_data=t,this.validate_rrd(),this.calc_idxs()}function RRDFile(t,e){this.file_options=e;var i=t;this.rrd_header=new RRDHeader(i),this.rrd_header.load_row_cnts(),this.getMinStep=function(){return this.rrd_header.getMinStep()},this.getLastUpdate=function(){return this.rrd_header.getLastUpdate()},this.getNrDSs=function(){return this.rrd_header.getNrDSs()},this.getDSNames=function(){return this.rrd_header.getDSNames()},this.getDS=function(t){return"number"==typeof t?this.rrd_header.getDSbyIdx(t):this.rrd_header.getDSbyName(t)},this.getNrRRAs=function(){return this.rrd_header.getNrRRAs()},this.getRRAInfo=function(t){return this.rrd_header.getRRAInfo(t)},this.getRRA=function(t){return rra_info=this.rrd_header.getRRAInfo(t),new RRDRRA(i,this.rrd_header.rra_ptr_idx+t*this.rrd_header.rra_ptr_el_size,rra_info,this.rrd_header.header_size,this.rrd_header.rra_def_row_cnt_sums[t],this.rrd_header.ds_cnt)}}
/*
 * Support library aimed at providing commonly used functions and classes
 * that may be used while plotting RRD files with Flot
 *
 * Part of the javascriptRRD package
 * Copyright (c) 2009 Frank Wuerthwein, fkw@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */function rrdDS2FlotSeries(t,e,i,r){var n=t.getDS(e),o=n.getName(),s=n.getIdx(),a=t.getRRA(i),l=a.getNrRows(),d=t.getLastUpdate(),h=a.getStep();0!=r&&(d-=d%h);for(var c=d-(l-1)*h,u=c,p=[],f=0;f<l;f++){var _=a.getEl(f,s);_!=undefined&&p.push([1e3*u,_]),u+=h}return{label:o,data:p,min:1e3*c,max:1e3*d}}function rrdRRA2FlotObj(t,e,i,r,n){var o=t.getRRA(e),s=o.getNrRows(),a=t.getLastUpdate(),l=o.getStep();0!=n&&(a-=a%l);for(var d=a-(s-1)*l,h={data:[],min:1e3*d,max:1e3*a},c=i.length,u=0;u<c;++u){for(var p=i[u],f=t.getDS(p),_=f.getName(),g=f.getIdx(),m=d,x=[],v=0;v<s;v++){var R=o.getEl(v,g);R!=undefined&&x.push([1e3*m,R]),m+=l}var y={data:x};if(0!=r){_=f.getName();y.label=_}h.data.push(y)}return h}function rrdRRAStackFlotObj(t,e,i,r,n,o,s,a,l){var d=t.getRRA(e),h=d.getNrRows(),c=t.getLastUpdate(),u=d.getStep();0!=a&&(c-=c%u),1!=l&&(l=!1);for(var p=c-(h-1)*u,f={data:[],min:1e3*(p+o),max:1e3*(c+o)},_=[i,r],g=_.length,m=0;m<g;++m){for(var x=_[m],v=[],R=[],y=x.length,b=x.length,w=0;w<b;++w){var S=x[w],k=(z=t.getDS(S)).getName(),D=z.getIdx();R.push(D);var F={data:[]};if(0!=s){k=z.getName();F.label=k}v.push(F)}for(var A=p,C=0;C<h;C++){for(var M=[],I=!0,N=!0,T=0;T<y;T++){D=R[T];(j=d.getEl(C,D))!=undefined?(I=!1,M.push(j)):(N=!1,M.push(0))}if(!I&&(N||!l)){for(T=1;T<y;T++)M[T]+=M[T-1];for(T=0;T<y;T++)v[T].data.push([1e3*(A+o),M[T]])}A+=u}for(T=0;T<y;T++)f.data.push(v[y-T-1])}var E=n.length;for(w=0;w<E;++w){S=n[w],k=(z=t.getDS(S)).getName(),D=z.getIdx(),A=p;for(var z,O=[],B=0;B<h;B++){var j;(j=d.getEl(B,D))!=undefined&&O.push([1e3*(A+o),j]),A+=u}F={data:O};if(0!=s){k=z.getName();F.label=k}f.data.push(F)}return f}function rrdRRAMultiStackFlotObj(t,e,i,r,n,o){for(var s=t[0][1].getRRA(e),a=s.getNrRows(),l=s.getStep(),d=t[0][1].getDS(i).getIdx(),h=null,c=null,u=[],p=[],f=[],_=t.length,g=0;g<_;g++){var m=t[g][1],x=m.getRRA(e),v=m.getLastUpdate();0!=n&&(v-=v%l),f.push(v);var R=v-(a-1)*l;(null==h||h<v)&&(h=v),(null==c||R<c)&&(c=R),p.push(x);var y={data:[]};if(0!=r){var b=t[g][0];y.label=b}u.push(y)}for(var w={data:[],min:1e3*c,max:1e3*h},S=c;S<=h;S+=l){var k=[],D=!0,F=!0;for(g=0;g<_;g++){x=p[g],v=f[g];var A=Math.round((v-S)/l),C=undefined;0<=A&&A<a&&(C=x.getEl(a-A-1,d)),C!=undefined?(D=!1,k.push(C)):(F=!1,k.push(0))}if(!D&&(F||!o)){for(g=1;g<_;g++)k[g]+=k[g-1];for(g=0;g<_;g++)u[g].data.push([1e3*S,k[g]])}}for(g=0;g<_;g++)w.data.push(u[_-g-1]);return w}function rrdFlotSelection(){this.selection_min=null,this.selection_max=null}function rfs_format_time(t){if(t<120)return t+"s";var e=t%60,i=(t-e)/60;if(i<10&&9<e)return i+":"+e+"min";if(i<120)return i+"min";var r=i%60,n=(i-r)/60;if(n<12&&9<r)return n+":"+r+"h";if(n<48)return n+"h";var o=n%24,s=(n-o)/24;return s<7&&0<o?s+" days "+o+"h":s<60?s+" days":(s-s%30)/30+" months"}
/*
 * RRD graphing libraries, based on Flot
 * Part of the javascriptRRD package
 * Copyright (c) 2010 Frank Wuerthwein, fkw@ucsd.edu
 *                    Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */function rrdFlot(t,e,i,r,n){this.html_id=t,this.rrd_file=e,this.graph_options=i,this.rrdflot_defaults=null==n?new Object:n,this.ds_graph_options=null==r?new Object:r,this.selection_range=new rrdFlotSelection,graph_info={},this.createHTML(),this.populateRes(),this.populateDScb(),this.drawFlotGraph(),1==this.rrdflot_defaults.graph_only&&this.cleanHTMLCruft()}function getGraphInfo(){var t={};return t.dss=local_checked_DSs,t.rra=selected_rra,t.window_min=window_min,t.window_max=window_max,t.timezone=timezone_shift,t}function resetWindow(){window_max=window_min=0}function populateGraphOptions(t,i){for(e in i)t[e]!=undefined?"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions(t[e],i[e]):t[e]=i[e]:"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions({},i[e]):t[e]=i[e];return t}function rrdFlotMatrix(t,e,i,r,n,o){if(this.html_id=t,this.rrd_files=e,this.rrdflot_defaults=null==o?new Object:o,null==i){this.ds_list=[];for(var s=this.rrd_files[0][1].getNrDSs(),a=0;a<s;a++){var l=this.rrd_files[0][1].getDS(a).getName();this.ds_list.push([l,l])}}else this.ds_list=i;this.graph_options=r,this.rrd_graph_options=null==n?new Object:n,this.selection_range=new rrdFlotSelection,this.createHTML(),this.populateDS(),this.populateRes(),this.populateRRDcb(),this.drawFlotGraph(),1==this.rrdflot_defaults.graph_only&&this.cleanHTMLCruft()}function populateGraphOptions(t,i){for(e in i)t[e]!=undefined?"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions(t[e],i[e]):t[e]=i[e]:"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions({},i[e]):t[e]=i[e];return t}
/*
 * Filter classes for rrdFile
 * They implement the same interface, but changing the content
 * 
 * Part of the javascriptRRD package
 * Copyright (c) 2009 Frank Wuerthwein, fkw@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
function RRDRRAFilterDS(t,e){this.rrd_rra=t,this.ds_list=e}function RRDFilterDS(t,e){this.rrd_file=t,this.ds_list=[];for(var i=0;i<e.length;i++){var r=t.getDS(e[i]),n=new RRDDS(r.rrd_data,r.rrd_data_idx,i);n.real_ds_idx=r.my_idx,this.ds_list.push(n)}}function RRDFltOpIdent(t){this.getName=function(){return t},this.getDSNames=function(){return[t]},this.computeResult=function(t){return t[0]}}function RRDFltOpIdentId(t,e){this.ds_name=t.getDS(e).getName(),this.getName=function(){return this.ds_name},this.getDSNames=function(){return[this.ds_name]},this.computeResult=function(t){return t[0]}}function RRDDSFilterOp(t,e,i){this.rrd_file=t,this.op_obj=e,this.my_idx=i;for(var r=e.getDSNames(),n=[],o=0;o<r.length;o++)n.push(t.getDS(r[o]).getIdx());this.ds_idx_list=n}function RRDRRAFilterOp(t,e){this.rrd_rra=t,this.ds_list=e}function RRDFilterOp(t,e){for(i in this.rrd_file=t,this.ds_list=[],e){var r=e[i],n=null;n="string"==typeof r?new RRDFltOpIdent(r):"number"==typeof r?new RRDFltOpIdentId(this.rrd_file,r):r,this.ds_list.push(new RRDDSFilterOp(t,n,i))}}function RRAFilterShift(t,e,i){this.rrd_file=t,this.shift_int=e,this.rra_list=i,this.shift_in_seconds=3600*this.shift_int}function RRDRRAFltAvgOpNewStep(t,e){this.getIdx=function(){return t},this.getStep=function(){return e}}function RRAInfoFilterAvg(t,e,i,r){this.rrd_file=t,this.op_obj=i,this.base_rra=t.getRRA(this.op_obj.getIdx()),this.rra=e,this.idx=r;var n=1;null!=this.op_obj.getStep()&&(n=this.op_obj.getStep()/this.base_rra.getStep()),this.scaler=n}function RRAFilterAvg(t,e){this.rrd_file=t,this.op_obj=e,this.base_rra=t.getRRA(e.getIdx());var i=1;null!=e.getStep()&&(i=e.getStep()/this.base_rra.getStep()),this.scaler=Math.floor(i)}function RRDRRAFilterAvg(t,e){for(var i in this.rrd_file=t,this.op_obj_list=new Array,this.rra_list=[],e){var r=e[i],n=null;n="[object Number]"==Object.prototype.toString.call(r)?new RRDRRAFltAvgOpNewStep(r,null):"[object Array]"==Object.prototype.toString.call(r)?new RRDRRAFltAvgOpNewStep(r[0],r[1]):r,this.op_obj_list.push(n),this.rra_list.push(new RRAFilterAvg(t,n))}}
/*
 * Combine multiple rrdFiles into one object
 * It implements the same interface, but changing the content
 * 
 * Part of the javascriptRRD package
 * Copyright (c) 2010 Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
function RRDRRASum(t,e,i){this.rra_list=t,this.offset_list=e,this.treat_undefined_as_zero=i,this.row_cnt=this.rra_list[0].getNrRows()}function rrdFileSort(t,e){return e.getLastUpdate()-t.getLastUpdate()}function RRDFileSum(s,t){t==undefined?t={}:"boolean"==typeof t&&(t={treat_undefined_as_zero:t}),this.sumfile_options=t,this.sumfile_options.treat_undefined_as_zero==undefined?this.treat_undefined_as_zero=!0:this.treat_undefined_as_zero=this.sumfile_options.treat_undefined_as_zero,this.file_list=s,this.file_list.sort(),this.getMinStep=function(){return this.file_list[0].getMinStep()},this.getLastUpdate=function(){return this.file_list[0].getLastUpdate()},this.getNrDSs=function(){return this.file_list[0].getNrDSs()},this.getDSNames=function(){return this.file_list[0].getDSNames()},this.getDS=function(t){return this.file_list[0].getDS(t)},this.getNrRRAs=function(){return this.file_list[0].getNrRRAs()},this.getRRAInfo=function(t){return this.file_list[0].getRRAInfo(t)},this.getRRA=function(t){var e=this.getRRAInfo(t).getStep(),i=undefined,r=new Array,n=new Array;for(var o in this.file_list)file=s[o],fileLastUpdate=file.getLastUpdate(),i!=undefined?fileSkrew=Math.floor((i-fileLastUpdate)/e):(fileSkrew=0,firstLastUpdate=fileLastUpdate),n.push(fileSkrew),fileRRA=file.getRRA(t),r.push(fileRRA);return new RRDRRASum(r,n,this.treat_undefined_as_zero)}}
/*
 * Async versions of the rrdFlot class
 * Part of the javascriptRRD package
 * Copyright (c) 2013 Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */function rrdFlotAsyncCallback(t,e){var i=undefined;if(t.getLength()<1)return alert("File "+e.url+" is empty (possibly loading failed)!"),1;try{i=new RRDFile(t,e.file_options)}catch(r){alert("File "+e.url+" is not a valid RRD archive!\n"+r)}i!=undefined&&(null!=e.rrd_data&&delete e.rrd_data,e.rrd_data=i,e.callback())}function rrdFlotAsync(t,e,i,r,n,o,s,a,l){this.html_id=t,this.url=e,this.file_options=i,this.graph_options=r,this.ds_graph_options=n,this.rrdflot_defaults=o,this.ds_op_list=s,this.rra_op_list=a,this.customization_callback=l,this.rrd_flot_obj=null,(this.rrd_data=null)!=e&&this.reload(e)}function rrdFlotMultiAsyncCallback(t,e){var i=e[0],r=e[1];i.files_loaded++;var n=undefined;if(t.getLength()<1)alert("File "+i.url_list[r]+" is empty (possibly loading failed)! You may get a parial result in the graph.");else try{n=new RRDFile(t,i.file_options)}catch(o){alert("File "+i.url_list[r]+" is not a valid RRD archive! You may get a partial result in the graph.\n"+o)}n!=undefined&&(i.loaded_data[r]=n),i.files_loaded==i.files_needed&&i.callback()}function rrdFlotMultiAsyncReload(t,e){for(i in t.files_needed=e.length,t.url_list=e,delete t.loaded_data,t.loaded_data=[],t.files_loaded=0,e)try{FetchBinaryURLAsync(e[i],rrdFlotMultiAsyncCallback,[t,i])}catch(r){alert("Failed loading "+e[i]+". You may get a partial result in the graph.\n"+r),t.files_needed--}}function rrdFlotSumAsync(t,e,i,r,n,o,s,a,l,d){this.html_id=t,this.url_list=e,this.file_options=i,this.sumfile_options=r,this.graph_options=n,this.ds_graph_options=o,this.rrdflot_defaults=s,this.ds_op_list=a,this.rra_op_list=l,this.customization_callback=d,this.rrd_flot_obj=null,this.rrd_data=null,(this.loaded_data=null)!=e&&this.reload(e)}function rrdFlotMatrixAsync(t,e,i,r,n,o,s,a,l,d){this.html_id=t,this.url_pair_list=e,this.file_options=i,this.ds_list=r,this.graph_options=n,this.rrd_graph_options=o,this.rrdflot_defaults=s,this.ds_op_list=a,this.rra_op_list=l,this.customization_callback=d,this.rrd_flot_obj=null,this.rrd_data=null,this.loaded_data=null,(this.url_list=null)!=e&&this.reload(e)}function rrdFlot(t,e,i,r,n){this.html_id=t,this.rrd_file=e,this.graph_options=i,this.rrdflot_defaults=null==n?new Object:n,this.ds_graph_options=null==r?new Object:r,this.selection_range=new rrdFlotSelection,graph_info={},this.createHTML(),this.populateRes(),this.populateDScb(),this.drawFlotGraph(),1==this.rrdflot_defaults.graph_only&&this.cleanHTMLCruft()}function getGraphInfo(){var t={};return t.dss=local_checked_DSs,t.rra=selected_rra,t.window_min=window_min,t.window_max=window_max,t.timezone=timezone_shift,t}function resetWindow(){window_max=window_min=0}function populateGraphOptions(t,i){for(e in i)t[e]!=undefined?"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions(t[e],i[e]):t[e]=i[e]:"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions({},i[e]):t[e]=i[e];return t}
/*
 * Async versions of the rrdFlot class
 * Part of the javascriptRRD package
 * Copyright (c) 2013 Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
function rrdFlotAsyncCallback(t,e){var i=undefined;if(t.getLength()<1)return alert("File "+e.url+" is empty (possibly loading failed)!"),1;try{i=new RRDFile(t,e.file_options)}catch(r){alert("File "+e.url+" is not a valid RRD archive!\n"+r)}i!=undefined&&(null!=e.rrd_data&&delete e.rrd_data,e.rrd_data=i,e.callback())}function rrdFlotAsync(t,e,i,r,n,o,s,a,l){this.html_id=t,this.url=e,this.file_options=i,this.graph_options=r,this.ds_graph_options=n,this.rrdflot_defaults=o,this.ds_op_list=s,this.rra_op_list=a,this.customization_callback=l,this.rrd_flot_obj=null,(this.rrd_data=null)!=e&&this.reload(e)}function rrdFlotMultiAsyncCallback(t,e){var i=e[0],r=e[1];i.files_loaded++;var n=undefined;if(t.getLength()<1)alert("File "+i.url_list[r]+" is empty (possibly loading failed)! You may get a parial result in the graph.");else try{n=new RRDFile(t,i.file_options)}catch(o){alert("File "+i.url_list[r]+" is not a valid RRD archive! You may get a partial result in the graph.\n"+o)}n!=undefined&&(i.loaded_data[r]=n),i.files_loaded==i.files_needed&&i.callback()}function rrdFlotMultiAsyncReload(t,e){for(i in t.files_needed=e.length,t.url_list=e,delete t.loaded_data,t.loaded_data=[],t.files_loaded=0,e)try{FetchBinaryURLAsync(e[i],rrdFlotMultiAsyncCallback,[t,i])}catch(r){alert("Failed loading "+e[i]+". You may get a partial result in the graph.\n"+r),t.files_needed--}}function rrdFlotSumAsync(t,e,i,r,n,o,s,a,l,d){this.html_id=t,this.url_list=e,this.file_options=i,this.sumfile_options=r,this.graph_options=n,this.ds_graph_options=o,this.rrdflot_defaults=s,this.ds_op_list=a,this.rra_op_list=l,this.customization_callback=d,this.rrd_flot_obj=null,this.rrd_data=null,(this.loaded_data=null)!=e&&this.reload(e)}function rrdFlotMatrixAsync(t,e,i,r,n,o,s,a,l,d){this.html_id=t,this.url_pair_list=e,this.file_options=i,this.ds_list=r,this.graph_options=n,this.rrd_graph_options=o,this.rrdflot_defaults=s,this.ds_op_list=a,this.rra_op_list=l,this.customization_callback=d,this.rrd_flot_obj=null,this.rrd_data=null,this.loaded_data=null,(this.url_list=null)!=e&&this.reload(e)}!function(o){o.color={},o.color.make=function(t,e,i,r){var n={};return n.r=t||0,n.g=e||0,n.b=i||0,n.a=null!=r?r:1,n.add=function(t,e){for(var i=0;i<t.length;++i)n[t.charAt(i)]+=e;return n.normalize()},n.scale=function(t,e){for(var i=0;i<t.length;++i)n[t.charAt(i)]*=e;return n.normalize()},n.toString=function(){return 1<=n.a?"rgb("+[n.r,n.g,n.b].join(",")+")":"rgba("+[n.r,n.g,n.b,n.a].join(",")+")"},n.normalize=function(){function t(t,e,i){return e<t?t:i<e?i:e}return n.r=t(0,parseInt(n.r),255),n.g=t(0,parseInt(n.g),255),n.b=t(0,parseInt(n.b),255),n.a=t(0,n.a,1),n},n.clone=function(){return o.color.make(n.r,n.b,n.g,n.a)},n.normalize()},o.color.extract=function(t,e){var i;do{if(""!=(i=t.css(e).toLowerCase())&&"transparent"!=i)break;t=t.parent()}while(t.length&&!o.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),o.color.parse(i)},o.color.parse=function(t){var e,i=o.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return i(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return i(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));var r=o.trim(t).toLowerCase();return"transparent"==r?i(255,255,255,0):i((e=n[r]||[0,0,0])[0],e[1],e[2])};var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(gt){function mt(t,e){var i=e.children("."+t)[0];if(null==i&&((i=document.createElement("canvas")).className=t,gt(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(e),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var r=this.context=i.getContext("2d"),n=window.devicePixelRatio||1,o=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=n/o,this.resize(e.width(),e.height()),this.textContainer=null,this.text={},this._textCache={}}function r(g,t,e,r){function S(t,e){e=[pt].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function i(){for(var t={Canvas:mt},e=0;e<r.length;++e){var i=r[e];i.init(pt,t),i.options&&gt.extend(!0,et,i.options)}}function n(t){gt.extend(!0,et,t),t&&t.colors&&(et.colors=t.colors),null==et.xaxis.color&&(et.xaxis.color=gt.color.parse(et.grid.color).scale("a",.22).toString()),null==et.yaxis.color&&(et.yaxis.color=gt.color.parse(et.grid.color).scale("a",.22).toString()),null==et.xaxis.tickColor&&(et.xaxis.tickColor=et.grid.tickColor||et.xaxis.color),null==et.yaxis.tickColor&&(et.yaxis.tickColor=et.grid.tickColor||et.yaxis.color),null==et.grid.borderColor&&(et.grid.borderColor=et.grid.color),null==et.grid.tickColor&&(et.grid.tickColor=gt.color.parse(et.grid.color).scale("a",.22).toString());var e,i,r,n=g.css("font-size"),o=n?+n.replace("px",""):13,s={style:g.css("font-style"),size:Math.round(.8*o),variant:g.css("font-variant"),weight:g.css("font-weight"),family:g.css("font-family")};for(r=et.xaxes.length||1,e=0;e<r;++e)(i=et.xaxes[e])&&!i.tickColor&&(i.tickColor=i.color),i=gt.extend(!0,{},et.xaxis,i),(et.xaxes[e]=i).font&&(i.font=gt.extend({},s,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));for(r=et.yaxes.length||1,e=0;e<r;++e)(i=et.yaxes[e])&&!i.tickColor&&(i.tickColor=i.color),i=gt.extend(!0,{},et.yaxis,i),(et.yaxes[e]=i).font&&(i.font=gt.extend({},s,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));for(et.xaxis.noTicks&&null==et.xaxis.ticks&&(et.xaxis.ticks=et.xaxis.noTicks),et.yaxis.noTicks&&null==et.yaxis.ticks&&(et.yaxis.ticks=et.yaxis.noTicks),et.x2axis&&(et.xaxes[1]=gt.extend(!0,{},et.xaxis,et.x2axis),et.xaxes[1].position="top",null==et.x2axis.min&&(et.xaxes[1].min=null),null==et.x2axis.max&&(et.xaxes[1].max=null)),et.y2axis&&(et.yaxes[1]=gt.extend(!0,{},et.yaxis,et.y2axis),et.yaxes[1].position="right",null==et.y2axis.min&&(et.yaxes[1].min=null),null==et.y2axis.max&&(et.yaxes[1].max=null)),et.grid.coloredAreas&&(et.grid.markings=et.grid.coloredAreas),et.grid.coloredAreasColor&&(et.grid.markingsColor=et.grid.coloredAreasColor),et.lines&&gt.extend(!0,et.series.lines,et.lines),et.points&&gt.extend(!0,et.series.points,et.points),et.bars&&gt.extend(!0,et.series.bars,et.bars),null!=et.shadowSize&&(et.series.shadowSize=et.shadowSize),null!=et.highlightColor&&(et.series.highlightColor=et.highlightColor),e=0;e<et.xaxes.length;++e)f(at,e+1).options=et.xaxes[e];for(e=0;e<et.yaxes.length;++e)f(lt,e+1).options=et.yaxes[e];for(var a in ut)et.hooks[a]&&et.hooks[a].length&&(ut[a]=ut[a].concat(et.hooks[a]));S(ut.processOptions,[et])}function o(t){tt=s(t),l(),d()}function s(t){for(var e=[],i=0;i<t.length;++i){var r=gt.extend(!0,{},et.series);null!=t[i].data?(r.data=t[i].data,delete t[i].data,gt.extend(!0,r,t[i]),t[i].data=r.data):r.data=t[i],e.push(r)}return e}function p(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function k(){return gt.grep(at.concat(lt),function(t){return t})}function h(t){var e,i,r={};for(e=0;e<at.length;++e)(i=at[e])&&i.used&&(r["x"+i.n]=i.c2p(t.left));for(e=0;e<lt.length;++e)(i=lt[e])&&i.used&&(r["y"+i.n]=i.c2p(t.top));return r.x1!==undefined&&(r.x=r.x1),r.y1!==undefined&&(r.y=r.y1),r}function a(t){var e,i,r,n={};for(e=0;e<at.length;++e)if((i=at[e])&&i.used&&(null==t[r="x"+i.n]&&1==i.n&&(r="x"),null!=t[r])){n.left=i.p2c(t[r]);break}for(e=0;e<lt.length;++e)if((i=lt[e])&&i.used&&(null==t[r="y"+i.n]&&1==i.n&&(r="y"),null!=t[r])){n.top=i.p2c(t[r]);break}return n}function f(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==at?"x":"y",options:gt.extend(!0,{},t==at?et.xaxis:et.yaxis)}),t[e-1]}function l(){var t,e=tt.length,i=-1;for(t=0;t<tt.length;++t){var r=tt[t].color;null!=r&&(e--,"number"==typeof r&&i<r&&(i=r))}e<=i&&(e=i+1);var n,o=[],s=et.colors,a=s.length,l=0;for(t=0;t<e;t++)n=gt.color.parse(s[t%a]||"#666"),t%a==0&&t&&(l=0<=l?l<.5?-l-.2:0:-l),o[t]=n.scale("rgb",1+l);var d,h=0;for(t=0;t<tt.length;++t){if(null==(d=tt[t]).color?(d.color=o[h].toString(),++h):"number"==typeof d.color&&(d.color=o[d.color].toString()),null==d.lines.show){var c,u=!0;for(c in d)if(d[c]&&d[c].show){u=!1;break}u&&(d.lines.show=!0)}null==d.lines.zero&&(d.lines.zero=!!d.lines.fill),d.xaxis=f(at,p(d,"x")),d.yaxis=f(lt,p(d,"y"))}}function d(){function t(t,e,i){e<t.datamin&&e!=-_&&(t.datamin=e),i>t.datamax&&i!=_&&(t.datamax=i)}var e,i,r,n,o,s,a,l,d,h,c,u,p=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,_=Number.MAX_VALUE;for(gt.each(k(),function(t,e){e.datamin=p,e.datamax=f,e.used=!1}),e=0;e<tt.length;++e)(o=tt[e]).datapoints={points:[]},S(ut.processRawData,[o,o.data,o.datapoints]);for(e=0;e<tt.length;++e){if(c=(o=tt[e]).data,!(u=o.datapoints.format)){if((u=[]).push({x:!0,number:!0,required:!0}),u.push({y:!0,number:!0,required:!0}),o.bars.show||o.lines.show&&o.lines.fill){var g=!!(o.bars.show&&o.bars.zero||o.lines.show&&o.lines.zero);u.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:g}),o.bars.horizontal&&(delete u[u.length-1].y,u[u.length-1].x=!0)}o.datapoints.format=u}if(null==o.datapoints.pointsize){o.datapoints.pointsize=u.length,a=o.datapoints.pointsize,s=o.datapoints.points;var m=o.lines.show&&o.lines.steps;for(o.xaxis.used=o.yaxis.used=!0,i=r=0;i<c.length;++i,r+=a){var x=null==(h=c[i]);if(!x)for(n=0;n<a;++n)l=h[n],(d=u[n])&&(d.number&&null!=l&&(l=+l,isNaN(l)?l=null:l==Infinity?l=_:l==-Infinity&&(l=-_)),null==l&&(d.required&&(x=!0),null!=d.defaultValue&&(l=d.defaultValue))),s[r+n]=l;if(x)for(n=0;n<a;++n)null!=(l=s[r+n])&&!1!==(d=u[n]).autoscale&&(d.x&&t(o.xaxis,l,l),d.y&&t(o.yaxis,l,l)),s[r+n]=null;else if(m&&0<r&&null!=s[r-a]&&s[r-a]!=s[r]&&s[r-a+1]!=s[r+1]){for(n=0;n<a;++n)s[r+a+n]=s[r+n];s[r+1]=s[r-a+1],r+=a}}}}for(e=0;e<tt.length;++e)o=tt[e],S(ut.processDatapoints,[o,o.datapoints]);for(e=0;e<tt.length;++e){s=(o=tt[e]).datapoints.points,a=o.datapoints.pointsize,u=o.datapoints.format;var v=p,R=p,y=f,b=f;for(i=0;i<s.length;i+=a)if(null!=s[i])for(n=0;n<a;++n)l=s[i+n],(d=u[n])&&!1!==d.autoscale&&l!=_&&l!=-_&&(d.x&&(l<v&&(v=l),y<l&&(y=l)),d.y&&(l<R&&(R=l),b<l&&(b=l)));if(o.bars.show){var w;switch(o.bars.align){case"left":w=0;break;case"right":w=-o.bars.barWidth;break;default:w=-o.bars.barWidth/2}o.bars.horizontal?(R+=w,b+=w+o.bars.barWidth):(v+=w,y+=w+o.bars.barWidth)}t(o.xaxis,v,y),t(o.yaxis,R,b)}gt.each(k(),function(t,e){e.datamin==p&&(e.datamin=null),e.datamax==f&&(e.datamax=null)})}function c(){g.css("padding",0).children().filter(function(){return!gt(this).hasClass("flot-overlay")&&!gt(this).hasClass("flot-base")}).remove(),"static"==g.css("position")&&g.css("position","relative"),it=new mt("flot-base",g),rt=new mt("flot-overlay",g),ot=it.context,st=rt.context,nt=gt(rt.element).unbind();var t=g.data("plot");t&&(t.shutdown(),rt.clear()),g.data("plot",pt)}function u(){et.grid.hoverable&&(nt.mousemove(H),nt.bind("mouseleave",G)),et.grid.clickable&&nt.click($),S(ut.bindEvents,[nt])}function _(){_t&&clearTimeout(_t),nt.unbind("mousemove",H),nt.unbind("mouseleave",G),nt.unbind("click",$),S(ut.shutdown,[nt])}function m(t){function e(t){return t}var i,r,n=t.options.transform||e,o=t.options.inverseTransform;"x"==t.direction?(i=t.scale=ht/Math.abs(n(t.max)-n(t.min)),r=Math.min(n(t.max),n(t.min))):(i=-(i=t.scale=ct/Math.abs(n(t.max)-n(t.min))),r=Math.max(n(t.max),n(t.min))),t.p2c=n==e?function(t){return(t-r)*i}:function(t){return(n(t)-r)*i},t.c2p=o?function(t){return o(r+t/i)}:function(t){return r+t/i}}function x(t){for(var e=t.options,i=t.ticks||[],r=e.labelWidth||0,n=e.labelHeight||0,o=r||("x"==t.direction?Math.floor(it.width/(i.length||1)):null),s=t.direction+"Axis "+t.direction+t.n+"Axis",a="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+s,l=e.font||"flot-tick-label tickLabel",d=0;d<i.length;++d){var h=i[d];if(h.label){var c=it.getTextInfo(a,h.label,l,null,o);r=Math.max(r,c.width),n=Math.max(n,c.height)}}t.labelWidth=e.labelWidth||r,t.labelHeight=e.labelHeight||n}function v(i){var t=i.labelWidth,e=i.labelHeight,r=i.options.position,n="x"===i.direction,o=i.options.tickLength,s=et.grid.axisMargin,a=et.grid.labelMargin,l=!0,d=!0,h=!0,c=!1;gt.each(n?at:lt,function(t,e){e&&(e.show||e.reserveSpace)&&(e===i?c=!0:e.options.position===r&&(c?d=!1:l=!1),c||(h=!1))}),d&&(s=0),null==o&&(o=h?"full":5),isNaN(+o)||(a+=+o),n?(e+=a,"bottom"==r?(dt.bottom+=e+s,i.box={top:it.height-dt.bottom,height:e}):(i.box={top:dt.top+s,height:e},dt.top+=e+s)):(t+=a,"left"==r?(i.box={left:dt.left+s,width:t},dt.left+=t+s):(dt.right+=t+s,i.box={left:it.width-dt.right,width:t})),i.position=r,i.tickLength=o,i.box.padding=a,i.innermost=l}function R(t){"x"==t.direction?(t.box.left=dt.left-t.labelWidth/2,t.box.width=it.width-dt.left-dt.right+t.labelWidth):(t.box.top=dt.top-t.labelHeight/2,t.box.height=it.height-dt.bottom-dt.top+t.labelHeight)}function y(){var t,e=et.grid.minBorderMargin;if(null==e)for(t=e=0;t<tt.length;++t)e=Math.max(e,2*(tt[t].points.radius+tt[t].points.lineWidth/2));var i={left:e,right:e,top:e,bottom:e};gt.each(k(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(i.left=Math.max(i.left,e.labelWidth/2),i.right=Math.max(i.right,e.labelWidth/2)):(i.bottom=Math.max(i.bottom,e.labelHeight/2),i.top=Math.max(i.top,e.labelHeight/2)))}),dt.left=Math.ceil(Math.max(i.left,dt.left)),dt.right=Math.ceil(Math.max(i.right,dt.right)),dt.top=Math.ceil(Math.max(i.top,dt.top)),dt.bottom=Math.ceil(Math.max(i.bottom,dt.bottom))}function b(){var t,e=k(),i=et.grid.show;for(var r in dt){var n=et.grid.margin||0;dt[r]="number"==typeof n?n:n[r]||0}for(var r in S(ut.processOffset,[dt]),dt)"object"==typeof et.grid.borderWidth?dt[r]+=i?et.grid.borderWidth[r]:0:dt[r]+=i?et.grid.borderWidth:0;if(gt.each(e,function(t,e){var i=e.options;e.show=null==i.show?e.used:i.show,e.reserveSpace=null==i.reserveSpace?e.show:i.reserveSpace,w(e)}),i){var o=gt.grep(e,function(t){return t.show||t.reserveSpace});for(gt.each(o,function(t,e){D(e),F(e),A(e,e.ticks),x(e)}),t=o.length-1;0<=t;--t)v(o[t]);y(),gt.each(o,function(t,e){R(e)})}ht=it.width-dt.left-dt.right,ct=it.height-dt.bottom-dt.top,gt.each(e,function(t,e){m(e)}),i&&T(),W()}function w(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),r=+(null!=e.max?e.max:t.datamax),n=r-i;if(0==n){var o=0==r?1:.01;null==e.min&&(i-=o),null!=e.max&&null==e.min||(r+=o)}else{var s=e.autoscaleMargin;null!=s&&(null==e.min&&(i-=n*s)<0&&null!=t.datamin&&0<=t.datamin&&(i=0),null==e.max&&0<(r+=n*s)&&null!=t.datamax&&t.datamax<=0&&(r=0))}t.min=i,t.max=r}function D(t){var e,i=t.options;e="number"==typeof i.ticks&&0<i.ticks?i.ticks:.3*Math.sqrt("x"==t.direction?it.width:it.height);var r=(t.max-t.min)/e,n=-Math.floor(Math.log(r)/Math.LN10),o=i.tickDecimals;null!=o&&o<n&&(n=o);var s,a=Math.pow(10,-n),l=r/a;if(l<1.5?s=1:l<3?(s=2,2.25<l&&(null==o||n+1<=o)&&(s=2.5,++n)):s=l<7.5?5:10,s*=a,null!=i.minTickSize&&s<i.minTickSize&&(s=i.minTickSize),t.delta=r,t.tickDecimals=Math.max(0,null!=o?o:n),t.tickSize=i.tickSize||s,"time"==i.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(t){for(var e,i=[],r=xt(t.min,t.tickSize),n=0,o=Number.NaN;e=o,o=r+n*t.tickSize,i.push(o),++n,o<t.max&&o!=e;);return i},t.tickFormatter=function(t,e){var i=e.tickDecimals?Math.pow(10,e.tickDecimals):1,r=""+Math.round(t*i)/i;if(null!=e.tickDecimals){var n=r.indexOf("."),o=-1==n?0:r.length-n-1;if(o<e.tickDecimals)return(o?r:r+".")+(""+i).substr(1,e.tickDecimals-o)}return r}),gt.isFunction(i.tickFormatter)&&(t.tickFormatter=function(t,e){return""+i.tickFormatter(t,e)}),null!=i.alignTicksWithAxis){var d=("x"==t.direction?at:lt)[i.alignTicksWithAxis-1];if(d&&d.used&&d!=t){var h=t.tickGenerator(t);if(0<h.length&&(null==i.min&&(t.min=Math.min(t.min,h[0])),null==i.max&&1<h.length&&(t.max=Math.max(t.max,h[h.length-1]))),t.tickGenerator=function(t){var e,i,r=[];for(i=0;i<d.ticks.length;++i)e=(d.ticks[i].v-d.min)/(d.max-d.min),e=t.min+e*(t.max-t.min),r.push(e);return r},!t.mode&&null==i.tickDecimals){var c=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),u=t.tickGenerator(t);1<u.length&&/\..*0$/.test((u[1]-u[0]).toFixed(c))||(t.tickDecimals=c)}}}}function F(t){var e,i,r=t.options.ticks,n=[];for(null==r||"number"==typeof r&&0<r?n=t.tickGenerator(t):r&&(n=gt.isFunction(r)?r(t):r),t.ticks=[],e=0;e<n.length;++e){var o=null,s=n[e];"object"==typeof s?(i=+s[0],1<s.length&&(o=s[1])):i=+s,null==o&&(o=t.tickFormatter(i,t)),isNaN(i)||t.ticks.push({v:i,label:o})}}function A(t,e){t.options.autoscaleMargin&&0<e.length&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&1<e.length&&(t.max=Math.max(t.max,e[e.length-1].v)))}function C(){it.clear(),S(ut.drawBackground,[ot]);var t=et.grid;t.show&&t.backgroundColor&&I(),t.show&&!t.aboveData&&N();for(var e=0;e<tt.length;++e)S(ut.drawSeries,[ot,tt[e]]),E(tt[e]);S(ut.draw,[ot]),t.show&&t.aboveData&&N(),it.render(),Y()}function M(t,e){for(var i,r,n,o,s=k(),a=0;a<s.length;++a)if((i=s[a]).direction==e&&(t[o=e+i.n+"axis"]||1!=i.n||(o=e+"axis"),t[o])){r=t[o].from,n=t[o].to;break}if(t[o]||(i="x"==e?at[0]:lt[0],r=t[e+"1"],n=t[e+"2"]),null!=r&&null!=n&&n<r){var l=r;r=n,n=l}return{from:r,to:n,axis:i}}function I(){ot.save(),ot.translate(dt.left,dt.top),ot.fillStyle=Z(et.grid.backgroundColor,ct,0,"rgba(255, 255, 255, 0)"),ot.fillRect(0,0,ht,ct),ot.restore()}function N(){var t,e,i,r;ot.save(),ot.translate(dt.left,dt.top);var n=et.grid.markings;if(n)for(gt.isFunction(n)&&((e=pt.getAxes()).xmin=e.xaxis.min,e.xmax=e.xaxis.max,e.ymin=e.yaxis.min,e.ymax=e.yaxis.max,n=n(e)),t=0;t<n.length;++t){var o=n[t],s=M(o,"x"),a=M(o,"y");if(null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),!(s.to<s.axis.min||s.from>s.axis.max||a.to<a.axis.min||a.from>a.axis.max)){s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max);var l=s.from===s.to,d=a.from===a.to;if(!l||!d)if(s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),l||d){var h=o.lineWidth||et.grid.markingsLineWidth,c=h%2?.5:0;ot.beginPath(),ot.strokeStyle=o.color||et.grid.markingsColor,ot.lineWidth=h,l?(ot.moveTo(s.to+c,a.from),ot.lineTo(s.to+c,a.to)):(ot.moveTo(s.from,a.to+c),ot.lineTo(s.to,a.to+c)),ot.stroke()}else ot.fillStyle=o.color||et.grid.markingsColor,ot.fillRect(s.from,a.to,s.to-s.from,a.from-a.to)}}e=k(),i=et.grid.borderWidth;for(var u=0;u<e.length;++u){var p,f,_,g,m=e[u],x=m.box,v=m.tickLength;if(m.show&&0!=m.ticks.length){for(ot.lineWidth=1,"x"==m.direction?(p=0,f="full"==v?"top"==m.position?0:ct:x.top-dt.top+("top"==m.position?x.height:0)):(f=0,p="full"==v?"left"==m.position?0:ht:x.left-dt.left+("left"==m.position?x.width:0)),m.innermost||(ot.strokeStyle=m.options.color,ot.beginPath(),_=g=0,"x"==m.direction?_=ht+1:g=ct+1,1==ot.lineWidth&&("x"==m.direction?f=Math.floor(f)+.5:p=Math.floor(p)+.5),ot.moveTo(p,f),ot.lineTo(p+_,f+g),ot.stroke()),ot.strokeStyle=m.options.tickColor,ot.beginPath(),t=0;t<m.ticks.length;++t){var R=m.ticks[t].v;_=g=0,isNaN(R)||R<m.min||R>m.max||"full"==v&&("object"==typeof i&&0<i[m.position]||0<i)&&(R==m.min||R==m.max)||("x"==m.direction?(p=m.p2c(R),g="full"==v?-ct:v,"top"==m.position&&(g=-g)):(f=m.p2c(R),_="full"==v?-ht:v,"left"==m.position&&(_=-_)),1==ot.lineWidth&&("x"==m.direction?p=Math.floor(p)+.5:f=Math.floor(f)+.5),ot.moveTo(p,f),ot.lineTo(p+_,f+g))}ot.stroke()}}i&&(r=et.grid.borderColor,"object"==typeof i||"object"==typeof r?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof r&&(r={top:r,right:r,bottom:r,left:r}),0<i.top&&(ot.strokeStyle=r.top,ot.lineWidth=i.top,ot.beginPath(),ot.moveTo(0-i.left,0-i.top/2),ot.lineTo(ht,0-i.top/2),ot.stroke()),0<i.right&&(ot.strokeStyle=r.right,ot.lineWidth=i.right,ot.beginPath(),ot.moveTo(ht+i.right/2,0-i.top),ot.lineTo(ht+i.right/2,ct),ot.stroke()),0<i.bottom&&(ot.strokeStyle=r.bottom,ot.lineWidth=i.bottom,ot.beginPath(),ot.moveTo(ht+i.right,ct+i.bottom/2),ot.lineTo(0,ct+i.bottom/2),ot.stroke()),0<i.left&&(ot.strokeStyle=r.left,ot.lineWidth=i.left,ot.beginPath(),ot.moveTo(0-i.left/2,ct+i.bottom),ot.lineTo(0-i.left/2,0),ot.stroke())):(ot.lineWidth=i,ot.strokeStyle=et.grid.borderColor,ot.strokeRect(-i/2,-i/2,ht+i,ct+i))),ot.restore()}function T(){gt.each(k(),function(t,e){var i,r,n,o,s,a=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",d="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,h=e.options.font||"flot-tick-label tickLabel";if(it.removeText(d),e.show&&0!=e.ticks.length)for(var c=0;c<e.ticks.length;++c)!(i=e.ticks[c]).label||i.v<e.min||i.v>e.max||("x"==e.direction?(o="center",r=dt.left+e.p2c(i.v),"bottom"==e.position?n=a.top+a.padding:(n=a.top+a.height-a.padding,s="bottom")):(s="middle",n=dt.top+e.p2c(i.v),"left"==e.position?(r=a.left+a.width-a.padding,o="right"):r=a.left+a.padding),it.addText(d,r,n,i.label,h,null,null,o,s))})}function E(t){t.lines.show&&z(t),t.bars.show&&j(t),t.points.show&&O(t)}function z(t){function e(t,e,i,r,n){var o=t.points,s=t.pointsize,a=null,l=null;ot.beginPath();for(var d=s;d<o.length;d+=s){var h=o[d-s],c=o[d-s+1],u=o[d],p=o[d+1];if(null!=h&&null!=u){if(c<=p&&c<n.min){if(p<n.min)continue;h=(n.min-c)/(p-c)*(u-h)+h,c=n.min}else if(p<=c&&p<n.min){if(c<n.min)continue;u=(n.min-c)/(p-c)*(u-h)+h,p=n.min}if(p<=c&&c>n.max){if(p>n.max)continue;h=(n.max-c)/(p-c)*(u-h)+h,c=n.max}else if(c<=p&&p>n.max){if(c>n.max)continue;u=(n.max-c)/(p-c)*(u-h)+h,p=n.max}if(h<=u&&h<r.min){if(u<r.min)continue;c=(r.min-h)/(u-h)*(p-c)+c,h=r.min}else if(u<=h&&u<r.min){if(h<r.min)continue;p=(r.min-h)/(u-h)*(p-c)+c,u=r.min}if(u<=h&&h>r.max){if(u>r.max)continue;c=(r.max-h)/(u-h)*(p-c)+c,h=r.max}else if(h<=u&&u>r.max){if(h>r.max)continue;p=(r.max-h)/(u-h)*(p-c)+c,u=r.max}h==a&&c==l||ot.moveTo(r.p2c(h)+e,n.p2c(c)+i),a=u,l=p,ot.lineTo(r.p2c(u)+e,n.p2c(p)+i)}}ot.stroke()}function i(t,e,i){for(var r=t.points,n=t.pointsize,o=Math.min(Math.max(0,i.min),i.max),s=0,a=!1,l=1,d=0,h=0;!(0<n&&s>r.length+n);){var c=r[(s+=n)-n],u=r[s-n+l],p=r[s],f=r[s+l];if(a){if(0<n&&null!=c&&null==p){h=s,n=-n,l=2;continue}if(n<0&&s==d+n){ot.fill(),a=!1,l=1,s=d=h+(n=-n);continue}}if(null!=c&&null!=p){if(c<=p&&c<e.min){if(p<e.min)continue;u=(e.min-c)/(p-c)*(f-u)+u,c=e.min}else if(p<=c&&p<e.min){if(c<e.min)continue;f=(e.min-c)/(p-c)*(f-u)+u,p=e.min}if(p<=c&&c>e.max){if(p>e.max)continue;u=(e.max-c)/(p-c)*(f-u)+u,c=e.max}else if(c<=p&&p>e.max){if(c>e.max)continue;f=(e.max-c)/(p-c)*(f-u)+u,p=e.max}if(a||(ot.beginPath(),ot.moveTo(e.p2c(c),i.p2c(o)),a=!0),u>=i.max&&f>=i.max)ot.lineTo(e.p2c(c),i.p2c(i.max)),ot.lineTo(e.p2c(p),i.p2c(i.max));else if(u<=i.min&&f<=i.min)ot.lineTo(e.p2c(c),i.p2c(i.min)),ot.lineTo(e.p2c(p),i.p2c(i.min));else{var _=c,g=p;u<=f&&u<i.min&&f>=i.min?(c=(i.min-u)/(f-u)*(p-c)+c,u=i.min):f<=u&&f<i.min&&u>=i.min&&(p=(i.min-u)/(f-u)*(p-c)+c,f=i.min),f<=u&&u>i.max&&f<=i.max?(c=(i.max-u)/(f-u)*(p-c)+c,u=i.max):u<=f&&f>i.max&&u<=i.max&&(p=(i.max-u)/(f-u)*(p-c)+c,f=i.max),c!=_&&ot.lineTo(e.p2c(_),i.p2c(u)),ot.lineTo(e.p2c(c),i.p2c(u)),ot.lineTo(e.p2c(p),i.p2c(f)),p!=g&&(ot.lineTo(e.p2c(p),i.p2c(f)),ot.lineTo(e.p2c(g),i.p2c(f)))}}}}ot.save(),ot.translate(dt.left,dt.top),ot.lineJoin="round";var r=t.lines.lineWidth,n=t.shadowSize;if(0<r&&0<n){ot.lineWidth=n,ot.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;e(t.datapoints,Math.sin(o)*(r/2+n/2),Math.cos(o)*(r/2+n/2),t.xaxis,t.yaxis),ot.lineWidth=n/2,e(t.datapoints,Math.sin(o)*(r/2+n/4),Math.cos(o)*(r/2+n/4),t.xaxis,t.yaxis)}ot.lineWidth=r,ot.strokeStyle=t.color;var s=L(t.lines,t.color,0,ct);s&&(ot.fillStyle=s,i(t.datapoints,t.xaxis,t.yaxis)),0<r&&e(t.datapoints,0,0,t.xaxis,t.yaxis),ot.restore()}function O(t){function e(t,e,i,r,n,o,s,a){for(var l=t.points,d=t.pointsize,h=0;h<l.length;h+=d){var c=l[h],u=l[h+1];null==c||c<o.min||c>o.max||u<s.min||u>s.max||(ot.beginPath(),c=o.p2c(c),u=s.p2c(u)+r,"circle"==a?ot.arc(c,u,e,0,n?Math.PI:2*Math.PI,!1):a(ot,c,u,e,n),ot.closePath(),i&&(ot.fillStyle=i,ot.fill()),ot.stroke())}}ot.save(),ot.translate(dt.left,dt.top);var i=t.points.lineWidth,r=t.shadowSize,n=t.points.radius,o=t.points.symbol;if(0==i&&(i=1e-4),0<i&&0<r){var s=r/2;ot.lineWidth=s,ot.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,n,null,s+s/2,!0,t.xaxis,t.yaxis,o),ot.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,n,null,s/2,!0,t.xaxis,t.yaxis,o)}ot.lineWidth=i,ot.strokeStyle=t.color,e(t.datapoints,n,L(t.points,t.color),0,!1,t.xaxis,t.yaxis,o),ot.restore()}function B(t,e,i,r,n,o,s,a,l,d,h){var c,u,p,f,_,g,m,x,v;d?(x=g=m=!0,_=!1,f=e+r,p=e+n,(u=t)<(c=i)&&(v=u,u=c,c=v,g=!(_=!0))):(_=g=m=!0,x=!1,c=t+r,u=t+n,(f=e)<(p=i)&&(v=f,f=p,p=v,m=!(x=!0))),u<s.min||c>s.max||f<a.min||p>a.max||(c<s.min&&(c=s.min,_=!1),u>s.max&&(u=s.max,g=!1),p<a.min&&(p=a.min,x=!1),f>a.max&&(f=a.max,m=!1),c=s.p2c(c),p=a.p2c(p),u=s.p2c(u),f=a.p2c(f),o&&(l.fillStyle=o(p,f),l.fillRect(c,f,u-c,p-f)),0<h&&(_||g||m||x)&&(l.beginPath(),l.moveTo(c,p),_?l.lineTo(c,f):l.moveTo(c,f),m?l.lineTo(u,f):l.moveTo(u,f),g?l.lineTo(u,p):l.moveTo(u,p),x?l.lineTo(c,p):l.moveTo(c,p),l.stroke()))}function j(d){function t(t,e,i,r,n,o){for(var s=t.points,a=t.pointsize,l=0;l<s.length;l+=a)null!=s[l]&&B(s[l],s[l+1],s[l+2],e,i,r,n,o,ot,d.bars.horizontal,d.bars.lineWidth)}var e;switch(ot.save(),ot.translate(dt.left,dt.top),ot.lineWidth=d.bars.lineWidth,ot.strokeStyle=d.color,d.bars.align){case"left":e=0;break;case"right":e=-d.bars.barWidth;break;default:e=-d.bars.barWidth/2}var i=d.bars.fill?function(t,e){return L(d.bars,d.color,t,e)}:null;t(d.datapoints,e,e+d.bars.barWidth,i,d.xaxis,d.yaxis),ot.restore()}function L(t,e,i,r){var n=t.fill;if(!n)return null;if(t.fillColor)return Z(t.fillColor,i,r,e);var o=gt.color.parse(e);return o.a="number"==typeof n?n:.4,o.normalize(),o.toString()}function W(){if(null!=et.legend.container?gt(et.legend.container).html(""):g.find(".legend").remove(),et.legend.show){for(var t,e,i=[],r=[],n=!1,o=et.legend.labelFormatter,s=0;s<tt.length;++s)(t=tt[s]).label&&(e=o?o(t.label,t):t.label)&&r.push({label:e,color:t.color});if(et.legend.sorted)if(gt.isFunction(et.legend.sorted))r.sort(et.legend.sorted);else if("reverse"==et.legend.sorted)r.reverse();else{var a="descending"!=et.legend.sorted;r.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=a?1:-1})}for(s=0;s<r.length;++s){var l=r[s];s%et.legend.noColumns==0&&(n&&i.push("</tr>"),i.push("<tr>"),n=!0),i.push('<td class="legendColorBox"><div style="border:1px solid '+et.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+l.label+"</td>")}if(n&&i.push("</tr>"),0!=i.length){var d='<table style="font-size:smaller;color:'+et.grid.color+'">'+i.join("")+"</table>";if(null!=et.legend.container)gt(et.legend.container).html(d);else{var h="",c=et.legend.position,u=et.legend.margin;null==u[0]&&(u=[u,u]),"n"==c.charAt(0)?h+="top:"+(u[1]+dt.top)+"px;":"s"==c.charAt(0)&&(h+="bottom:"+(u[1]+dt.bottom)+"px;"),"e"==c.charAt(1)?h+="right:"+(u[0]+dt.right)+"px;":"w"==c.charAt(1)&&(h+="left:"+(u[0]+dt.left)+"px;");var p=gt('<div class="legend">'+d.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(g);if(0!=et.legend.backgroundOpacity){var f=et.legend.backgroundColor;null==f&&((f=(f=et.grid.backgroundColor)&&"string"==typeof f?gt.color.parse(f):gt.color.extract(p,"background-color")).a=1,f=f.toString());var _=p.children();gt('<div style="position:absolute;width:'+_.width()+"px;height:"+_.height()+"px;"+h+"background-color:"+f+';"> </div>').prependTo(p).css("opacity",et.legend.backgroundOpacity)}}}}}function P(t,e,i){var r,n,o,s=et.grid.mouseActiveRadius,a=s*s+1,l=null;for(r=tt.length-1;0<=r;--r)if(i(tt[r])){var d=tt[r],h=d.xaxis,c=d.yaxis,u=d.datapoints.points,p=h.c2p(t),f=c.c2p(e),_=s/h.scale,g=s/c.scale;if(o=d.datapoints.pointsize,h.options.inverseTransform&&(_=Number.MAX_VALUE),c.options.inverseTransform&&(g=Number.MAX_VALUE),d.lines.show||d.points.show)for(n=0;n<u.length;n+=o){var m=u[n],x=u[n+1];if(null!=m&&!(_<m-p||m-p<-_||g<x-f||x-f<-g)){var v=Math.abs(h.p2c(m)-t),R=Math.abs(c.p2c(x)-e),y=v*v+R*R;y<a&&(a=y,l=[r,n/o])}}if(d.bars.show&&!l){var b,w;switch(d.bars.align){case"left":b=0;break;case"right":b=-d.bars.barWidth;break;default:b=-d.bars.barWidth/2}for(w=b+d.bars.barWidth,n=0;n<u.length;n+=o){m=u[n],x=u[n+1];var S=u[n+2];null!=m&&((tt[r].bars.horizontal?p<=Math.max(S,m)&&p>=Math.min(S,m)&&x+b<=f&&f<=x+w:m+b<=p&&p<=m+w&&f>=Math.min(S,x)&&f<=Math.max(S,x))&&(l=[r,n/o]))}}}return l?(r=l[0],n=l[1],o=tt[r].datapoints.pointsize,{datapoint:tt[r].datapoints.points.slice(n*o,(n+1)*o),dataIndex:n,series:tt[r],seriesIndex:r}):null}function H(t){et.grid.hoverable&&U("plothover",t,function(t){return 0!=t.hoverable})}function G(t){et.grid.hoverable&&U("plothover",t,function(){return!1})}function $(t){U("plotclick",t,function(t){return 0!=t.clickable})}function U(t,e,i){var r=nt.offset(),n=e.pageX-r.left-dt.left,o=e.pageY-r.top-dt.top,s=h({left:n,top:o});s.pageX=e.pageX,s.pageY=e.pageY;var a=P(n,o,i);if(a&&(a.pageX=parseInt(a.series.xaxis.p2c(a.datapoint[0])+r.left+dt.left,10),a.pageY=parseInt(a.series.yaxis.p2c(a.datapoint[1])+r.top+dt.top,10)),et.grid.autoHighlight){for(var l=0;l<ft.length;++l){var d=ft[l];d.auto!=t||a&&d.series==a.series&&d.point[0]==a.datapoint[0]&&d.point[1]==a.datapoint[1]||V(d.series,d.point)}a&&X(a.series,a.datapoint,t)}g.trigger(t,[s,a])}function Y(){var t=et.interaction.redrawOverlayInterval;-1!=t?_t||(_t=setTimeout(q,t)):q()}function q(){var t,e;for(_t=null,st.save(),rt.clear(),st.translate(dt.left,dt.top),t=0;t<ft.length;++t)(e=ft[t]).series.bars.show?K(e.series,e.point):J(e.series,e.point);st.restore(),S(ut.drawOverlay,[st])}function X(t,e,i){if("number"==typeof t&&(t=tt[t]),"number"==typeof e){var r=t.datapoints.pointsize;e=t.datapoints.points.slice(r*e,r*(e+1))}var n=Q(t,e);-1==n?(ft.push({series:t,point:e,auto:i}),Y()):i||(ft[n].auto=!1)}function V(t,e){if(null==t&&null==e)return ft=[],void Y();if("number"==typeof t&&(t=tt[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var r=Q(t,e);-1!=r&&(ft.splice(r,1),Y())}function Q(t,e){for(var i=0;i<ft.length;++i){var r=ft[i];if(r.series==t&&r.point[0]==e[0]&&r.point[1]==e[1])return i}return-1}function J(t,e){var i=e[0],r=e[1],n=t.xaxis,o=t.yaxis,s="string"==typeof t.highlightColor?t.highlightColor:gt.color.parse(t.color).scale("a",.5).toString();if(!(i<n.min||i>n.max||r<o.min||r>o.max)){var a=t.points.radius+t.points.lineWidth/2;st.lineWidth=a,st.strokeStyle=s;var l=1.5*a;i=n.p2c(i),r=o.p2c(r),st.beginPath(),"circle"==t.points.symbol?st.arc(i,r,l,0,2*Math.PI,!1):t.points.symbol(st,i,r,l,!1),st.closePath(),st.stroke()}}function K(t,e){var i,r="string"==typeof t.highlightColor?t.highlightColor:gt.color.parse(t.color).scale("a",.5).toString(),n=r;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}
st.lineWidth=t.bars.lineWidth,st.strokeStyle=r,B(e[0],e[1],e[2]||0,i,i+t.bars.barWidth,function(){return n},t.xaxis,t.yaxis,st,t.bars.horizontal,t.bars.lineWidth)}function Z(t,e,i,r){if("string"==typeof t)return t;for(var n=ot.createLinearGradient(0,i,0,e),o=0,s=t.colors.length;o<s;++o){var a=t.colors[o];if("string"!=typeof a){var l=gt.color.parse(r);null!=a.brightness&&(l=l.scale("rgb",a.brightness)),null!=a.opacity&&(l.a*=a.opacity),a=l.toString()}n.addColorStop(o/(s-1),a)}return n}var tt=[],et={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},it=null,rt=null,nt=null,ot=null,st=null,at=[],lt=[],dt={left:0,right:0,top:0,bottom:0},ht=0,ct=0,ut={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},pt=this;pt.setData=o,pt.setupGrid=b,pt.draw=C,pt.getPlaceholder=function(){return g},pt.getCanvas=function(){return it.element},pt.getPlotOffset=function(){return dt},pt.width=function(){return ht},pt.height=function(){return ct},pt.offset=function(){var t=nt.offset();return t.left+=dt.left,t.top+=dt.top,t},pt.getData=function(){return tt},pt.getAxes=function(){var i={};return gt.each(at.concat(lt),function(t,e){e&&(i[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),i},pt.getXAxes=function(){return at},pt.getYAxes=function(){return lt},pt.c2p=h,pt.p2c=a,pt.getOptions=function(){return et},pt.highlight=X,pt.unhighlight=V,pt.triggerRedrawOverlay=Y,pt.pointOffset=function(t){return{left:parseInt(at[p(t,"x")-1].p2c(+t.x)+dt.left,10),top:parseInt(lt[p(t,"y")-1].p2c(+t.y)+dt.top,10)}},pt.shutdown=_,pt.destroy=function(){_(),g.removeData("plot").empty(),tt=[],at=[],lt=[],ft=[],pt=ut=st=ot=nt=rt=it=et=null},pt.resize=function(){var t=g.width(),e=g.height();it.resize(t,e),rt.resize(t,e)},pt.hooks=ut,i(pt),n(e),c(),o(t),b(),C(),u();var ft=[],_t=null}function xt(t,e){return e*Math.floor(t/e)}var p=Object.prototype.hasOwnProperty;gt.fn.detach||(gt.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),mt.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var i=this.element,r=this.context,n=this.pixelRatio;this.width!=t&&(i.width=t*n,i.style.width=t+"px",this.width=t),this.height!=e&&(i.height=e*n,i.style.height=e+"px",this.height=e),r.restore(),r.save(),r.scale(n,n)},mt.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},mt.prototype.render=function(){var t=this._textCache;for(var e in t)if(p.call(t,e)){var i=this.getTextLayer(e),r=t[e];for(var n in i.hide(),r)if(p.call(r,n)){var o=r[n];for(var s in o)if(p.call(o,s)){for(var a,l=o[s].positions,d=0;a=l[d];d++)a.active?a.rendered||(i.append(a.element),a.rendered=!0):(l.splice(d--,1),a.rendered&&a.element.detach());0==l.length&&delete o[s]}}i.show()}},mt.prototype.getTextLayer=function(t){var e=this.text[t];return null==e&&(null==this.textContainer&&(this.textContainer=gt("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),e=this.text[t]=gt("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),e},mt.prototype.getTextInfo=function(t,e,i,r,n){var o,s,a,l;if(e=""+e,o="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,null==(s=this._textCache[t])&&(s=this._textCache[t]={}),null==(a=s[o])&&(a=s[o]={}),null==(l=a[e])){var d=gt("<div></div>").html(e).css({position:"absolute","max-width":n,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof i?d.css({font:o,color:i.color}):"string"==typeof i&&d.addClass(i),l=a[e]={width:d.outerWidth(!0),height:d.outerHeight(!0),element:d,positions:[]},d.detach()}return l},mt.prototype.addText=function(t,e,i,r,n,o,s,a,l){var d=this.getTextInfo(t,r,n,o,s),h=d.positions;"center"==a?e-=d.width/2:"right"==a&&(e-=d.width),"middle"==l?i-=d.height/2:"bottom"==l&&(i-=d.height);for(var c,u=0;c=h[u];u++)if(c.x==e&&c.y==i)return void(c.active=!0);c={active:!0,rendered:!1,element:h.length?d.element.clone():d.element,x:e,y:i},h.push(c),c.element.css({top:Math.round(i),left:Math.round(e),"text-align":a})},mt.prototype.removeText=function(t,e,i,r,n,o){if(null==r){var s=this._textCache[t];if(null!=s)for(var a in s)if(p.call(s,a)){var l=s[a];for(var d in l)if(p.call(l,d))for(var h=l[d].positions,c=0;u=h[c];c++)u.active=!1}}else{var u;for(h=this.getTextInfo(t,r,n,o).positions,c=0;u=h[c];c++)u.x==e&&u.y==i&&(u.active=!1)}},gt.plot=function(t,e,i){return new r(gt(t),e,i,gt.plot.plugins)},gt.plot.version="0.8.3",gt.plot.plugins=[],gt.fn.plot=function(t,e){return this.each(function(){gt.plot(this,t,e)})}}(jQuery),
/* Flot plugin for selecting regions of a plot.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The plugin supports these options:

selection: {
	mode: null or "x" or "y" or "xy",
	color: color,
	shape: "round" or "miter" or "bevel",
	minSize: number of pixels
}

Selection support is enabled by setting the mode to one of "x", "y" or "xy".
In "x" mode, the user will only be able to specify the x range, similarly for
"y" mode. For "xy", the selection becomes a rectangle where both ranges can be
specified. "color" is color of the selection (if you need to change the color
later on, you can get to it with plot.getOptions().selection.color). "shape"
is the shape of the corners of the selection.

"minSize" is the minimum size a selection can be in pixels. This value can
be customized to determine the smallest size a selection can be and still
have the selection rectangle be displayed. When customizing this value, the
fact that it refers to pixels, not axis units must be taken into account.
Thus, for example, if there is a bar graph in time mode with BarWidth set to 1
minute, setting "minSize" to 1 will not make the minimum selection size 1
minute, but rather 1 pixel. Note also that setting "minSize" to 0 will prevent
"plotunselected" events from being fired when the user clicks the mouse without
dragging.

When selection support is enabled, a "plotselected" event will be emitted on
the DOM element you passed into the plot function. The event handler gets a
parameter with the ranges selected on the axes, like this:

	placeholder.bind( "plotselected", function( event, ranges ) {
		alert("You selected " + ranges.xaxis.from + " to " + ranges.xaxis.to)
		// similar for yaxis - with multiple axes, the extra ones are in
		// x2axis, x3axis, ...
	});

The "plotselected" event is only fired when the user has finished making the
selection. A "plotselecting" event is fired during the process with the same
parameters as the "plotselected" event, in case you want to know what's
happening while it's happening,

A "plotunselected" event with no arguments is emitted when the user clicks the
mouse to remove the selection. As stated above, setting "minSize" to 0 will
destroy this behavior.

The plugin allso adds the following methods to the plot object:

- setSelection( ranges, preventEvent )

  Set the selection rectangle. The passed in ranges is on the same form as
  returned in the "plotselected" event. If the selection mode is "x", you
  should put in either an xaxis range, if the mode is "y" you need to put in
  an yaxis range and both xaxis and yaxis if the selection mode is "xy", like
  this:

	setSelection({ xaxis: { from: 0, to: 10 }, yaxis: { from: 40, to: 60 } });

  setSelection will trigger the "plotselected" event when called. If you don't
  want that to happen, e.g. if you're inside a "plotselected" handler, pass
  true as the second parameter. If you are using multiple axes, you can
  specify the ranges on any of those, e.g. as x2axis/x3axis/... instead of
  xaxis, the plugin picks the first one it sees.

- clearSelection( preventEvent )

  Clear the selection rectangle. Pass in true to avoid getting a
  "plotunselected" event.

- getSelection()

  Returns the current selection in the same format as the "plotselected"
  event. If there's currently no selection, the function returns null.

*/
function(g){function t(d){function i(t){p.active&&(l(t),d.getPlaceholder().trigger("plotselecting",[n()]))}function r(t){1==t.which&&(document.body.focus(),document.onselectstart!==undefined&&null==f.onselectstart&&(f.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag!==undefined&&null==f.ondrag&&(f.ondrag=document.ondrag,document.ondrag=function(){return!1}),a(p.first,t),p.active=!0,_=function(t){e(t)},g(document).one("mouseup",_))}function e(t){return _=null,document.onselectstart!==undefined&&(document.onselectstart=f.onselectstart),document.ondrag!==undefined&&(document.ondrag=f.ondrag),p.active=!1,l(t),u()?o():(d.getPlaceholder().trigger("plotunselected",[]),d.getPlaceholder().trigger("plotselecting",[null])),!1}function n(){if(!u())return null;if(!p.show)return null;var n={},o=p.first,s=p.second;return g.each(d.getAxes(),function(t,e){if(e.used){var i=e.c2p(o[e.direction]),r=e.c2p(s[e.direction]);n[t]={from:Math.min(i,r),to:Math.max(i,r)}}}),n}function o(){var t=n();d.getPlaceholder().trigger("plotselected",[t]),t.xaxis&&t.yaxis&&d.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}function s(t,e,i){return e<t?t:i<e?i:e}function a(t,e){var i=d.getOptions(),r=d.getPlaceholder().offset(),n=d.getPlotOffset();t.x=s(0,e.pageX-r.left-n.left,d.width()),t.y=s(0,e.pageY-r.top-n.top,d.height()),"y"==i.selection.mode&&(t.x=t==p.first?0:d.width()),"x"==i.selection.mode&&(t.y=t==p.first?0:d.height())}function l(t){null!=t.pageX&&(a(p.second,t),u()?(p.show=!0,d.triggerRedrawOverlay()):h(!0))}function h(t){p.show&&(p.show=!1,d.triggerRedrawOverlay(),t||d.getPlaceholder().trigger("plotunselected",[]))}function c(t,e){var i,r,n,o,s=d.getAxes();for(var a in s)if((i=s[a]).direction==e&&(t[o=e+i.n+"axis"]||1!=i.n||(o=e+"axis"),t[o])){r=t[o].from,n=t[o].to;break}if(t[o]||(i="x"==e?d.getXAxes()[0]:d.getYAxes()[0],r=t[e+"1"],n=t[e+"2"]),null!=r&&null!=n&&n<r){var l=r;r=n,n=l}return{from:r,to:n,axis:i}}function t(t,e){var i,r=d.getOptions();"y"==r.selection.mode?(p.first.x=0,p.second.x=d.width()):(i=c(t,"x"),p.first.x=i.axis.p2c(i.from),p.second.x=i.axis.p2c(i.to)),"x"==r.selection.mode?(p.first.y=0,p.second.y=d.height()):(i=c(t,"y"),p.first.y=i.axis.p2c(i.from),p.second.y=i.axis.p2c(i.to)),p.show=!0,d.triggerRedrawOverlay(),!e&&u()&&o()}function u(){var t=d.getOptions().selection.minSize;return Math.abs(p.second.x-p.first.x)>=t&&Math.abs(p.second.y-p.first.y)>=t}var p={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},f={},_=null;d.clearSelection=h,d.setSelection=t,d.getSelection=n,d.hooks.bindEvents.push(function(t,e){null!=t.getOptions().selection.mode&&(e.mousemove(i),e.mousedown(r))}),d.hooks.drawOverlay.push(function(t,e){if(p.show&&u()){var i=t.getPlotOffset(),r=t.getOptions();e.save(),e.translate(i.left,i.top);var n=g.color.parse(r.selection.color);e.strokeStyle=n.scale("a",.8).toString(),e.lineWidth=1,e.lineJoin=r.selection.shape,e.fillStyle=n.scale("a",.4).toString();var o=Math.min(p.first.x,p.second.x)+.5,s=Math.min(p.first.y,p.second.y)+.5,a=Math.abs(p.second.x-p.first.x)-1,l=Math.abs(p.second.y-p.first.y)-1;e.fillRect(o,s,a,l),e.strokeRect(o,s,a,l),e.restore()}}),d.hooks.shutdown.push(function(t,e){e.unbind("mousemove",i),e.unbind("mousedown",r),_&&g(document).unbind("mouseup",_)})}g.plot.plugins.push({init:t,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),
/* Flot plugin for stacking data sets rather than overlyaing them.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The plugin assumes the data is sorted on x (or y if stacking horizontally).
For line charts, it is assumed that if a line has an undefined gap (from a
null point), then the line above it should have the same gap - insert zeros
instead of "null" if you want another behaviour. This also holds for the start
and end of the chart. Note that stacking a mix of positive and negative values
in most instances doesn't make sense (so it looks weird).

Two or more series are stacked when their "stack" attribute is set to the same
key (which can be any number or string or just "true"). To specify the default
stack, you can set the stack option like this:

	series: {
		stack: null/false, true, or a key (number/string)
	}

You can also specify it for a single series, like this:

	$.plot( $("#placeholder"), [{
		data: [ ... ],
		stack: true
	}])

The stacking order is determined by the order of the data series in the array
(later series end up on top of the previous).

Internally, the plugin modifies the datapoints in each series, adding an
offset to the y value. For line series, extra data points are inserted through
interpolation. If there's a second y value, it's also adjusted (e.g for bar
charts or filled areas).

*/
function(){function t(t){function D(t,e){for(var i=null,r=0;r<e.length&&t!=e[r];++r)e[r].stack==t.stack&&(i=e[r]);return i}function e(t,e,i){if(null!=e.stack&&!1!==e.stack){var r=D(e,t.getData());if(r){for(var n,o,s,a,l,d,h,c,u=i.pointsize,p=i.points,f=r.datapoints.pointsize,_=r.datapoints.points,g=[],m=e.lines.show,x=e.bars.horizontal,v=2<u&&(x?i.format[2].x:i.format[2].y),R=m&&e.lines.steps,y=!0,b=x?1:0,w=x?0:1,S=0,k=0;!(S>=p.length);){if(h=g.length,null==p[S]){for(c=0;c<u;++c)g.push(p[S+c]);S+=u}else if(k>=_.length){if(!m)for(c=0;c<u;++c)g.push(p[S+c]);S+=u}else if(null==_[k]){for(c=0;c<u;++c)g.push(null);y=!0,k+=f}else{if(n=p[S+b],o=p[S+w],a=_[k+b],l=_[k+w],d=0,n==a){for(c=0;c<u;++c)g.push(p[S+c]);g[h+w]+=l,d=l,S+=u,k+=f}else if(a<n){if(m&&0<S&&null!=p[S-u]){for(s=o+(p[S-u+w]-o)*(a-n)/(p[S-u+b]-n),g.push(a),g.push(s+l),c=2;c<u;++c)g.push(p[S+c]);d=l}k+=f}else{if(y&&m){S+=u;continue}for(c=0;c<u;++c)g.push(p[S+c]);m&&0<k&&null!=_[k-f]&&(d=l+(_[k-f+w]-l)*(n-a)/(_[k-f+b]-a)),g[h+w]+=d,S+=u}y=!1,h!=g.length&&v&&(g[h+2]+=d)}if(R&&h!=g.length&&0<h&&null!=g[h]&&g[h]!=g[h-u]&&g[h+1]!=g[h-u+1]){for(c=0;c<u;++c)g[h+u+c]=g[h+c];g[h+1]=g[h-u+1]}}i.points=g}}}t.hooks.processDatapoints.push(e)}var e={series:{stack:null}};jQuery.plot.plugins.push({init:t,options:e,name:"stack",version:"1.2"})}(),
/* Pretty handling of time axes.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

Set axis.mode to "time" to enable. See the section "Time series data" in
API.txt for details.

*/
function(e){function x(t,e){return e*Math.floor(t/e)}function l(t,e,i,r){if("function"==typeof t.strftime)return t.strftime(e);var n,o=function(t,e){return e=""+(null==e?"0":e),1==(t=""+t).length?e+t:t},s=[],a=!1,l=t.getHours(),d=l<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==r&&(r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),n=12<l?l-12:0==l?12:l;for(var h=0;h<e.length;++h){var c=e.charAt(h);if(a){switch(c){case"a":c=""+r[t.getDay()];break;case"b":c=""+i[t.getMonth()];break;case"d":c=o(t.getDate());break;case"e":c=o(t.getDate()," ");break;case"h":case"H":c=o(l);break;case"I":c=o(n);break;case"l":c=o(n," ");break;case"m":c=o(t.getMonth()+1);break;case"M":c=o(t.getMinutes());break;case"q":c=""+(Math.floor(t.getMonth()/3)+1);break;case"S":c=o(t.getSeconds());break;case"y":c=o(t.getFullYear()%100);break;case"Y":c=""+t.getFullYear();break;case"p":c=d?"am":"pm";break;case"P":c=d?"AM":"PM";break;case"w":c=""+t.getDay()}s.push(c),a=!1}else"%"==c?a=!0:s.push(c)}return s.join("")}function r(t){function e(t,e,i,r){t[e]=function(){return i[r].apply(i,arguments)}}var i={date:t};t.strftime!=undefined&&e(i,"strftime",t,"strftime"),e(i,"getTime",t,"getTime"),e(i,"setTime",t,"setTime");for(var r=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],n=0;n<r.length;n++)e(i,"get"+r[n],t,"getUTC"+r[n]),e(i,"set"+r[n],t,"setUTC"+r[n]);return i}function v(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(e.timezone),i.setTime(t),i}return r(new Date(t))}return r(new Date(t))}function t(t){t.hooks.processOptions.push(function(t){e.each(t.getAxes(),function(t,e){var m=e.options;"time"==m.mode&&(e.tickGenerator=function(t){var e=[],i=v(t.min,m),r=0,n=m.tickSize&&"quarter"===m.tickSize[1]||m.minTickSize&&"quarter"===m.minTickSize[1]?b:y;null!=m.minTickSize&&(r="number"==typeof m.tickSize?m.tickSize:m.minTickSize[0]*R[m.minTickSize[1]]);for(var o=0;o<n.length-1&&!(t.delta<(n[o][0]*R[n[o][1]]+n[o+1][0]*R[n[o+1][1]])/2&&n[o][0]*R[n[o][1]]>=r);++o);var s=n[o][0],a=n[o][1];if("year"==a){if(null!=m.minTickSize&&"year"==m.minTickSize[1])s=Math.floor(m.minTickSize[0]);else{var l=Math.pow(10,Math.floor(Math.log(t.delta/R.year)/Math.LN10)),d=t.delta/R.year/l;s=d<1.5?1:d<3?2:d<7.5?5:10,s*=l}s<1&&(s=1)}t.tickSize=m.tickSize||[s,a];var h=t.tickSize[0];a=t.tickSize[1];var c=h*R[a];"second"==a?i.setSeconds(x(i.getSeconds(),h)):"minute"==a?i.setMinutes(x(i.getMinutes(),h)):"hour"==a?i.setHours(x(i.getHours(),h)):"month"==a?i.setMonth(x(i.getMonth(),h)):"quarter"==a?i.setMonth(3*x(i.getMonth()/3,h)):"year"==a&&i.setFullYear(x(i.getFullYear(),h)),i.setMilliseconds(0),c>=R.minute&&i.setSeconds(0),c>=R.hour&&i.setMinutes(0),c>=R.day&&i.setHours(0),c>=4*R.day&&i.setDate(1),c>=2*R.month&&i.setMonth(x(i.getMonth(),3)),c>=2*R.quarter&&i.setMonth(x(i.getMonth(),6)),c>=R.year&&i.setMonth(0);var u,p=0,f=Number.NaN;do{if(u=f,f=i.getTime(),e.push(f),"month"==a||"quarter"==a)if(h<1){i.setDate(1);var _=i.getTime();i.setMonth(i.getMonth()+("quarter"==a?3:1));var g=i.getTime();i.setTime(f+p*R.hour+(g-_)*h),p=i.getHours(),i.setHours(0)}else i.setMonth(i.getMonth()+h*("quarter"==a?3:1));else"year"==a?i.setFullYear(i.getFullYear()+h):i.setTime(f+c)}while(f<t.max&&f!=u);return e},e.tickFormatter=function(t,e){var i=v(t,e.options);if(null!=m.timeformat)return l(i,m.timeformat,m.monthNames,m.dayNames);var r=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],n=e.tickSize[0]*R[e.tickSize[1]],o=e.max-e.min,s=m.twelveHourClock?" %p":"",a=m.twelveHourClock?"%I":"%H";return l(i,n<R.minute?a+":%M:%S"+s:n<R.day?o<2*R.day?a+":%M"+s:"%b %d "+a+":%M"+s:n<R.month?"%b %d":r&&n<R.quarter||!r&&n<R.year?o<R.year?"%b":"%b %Y":r&&n<R.year?o<R.year?"Q%q":"Q%q %Y":"%Y",m.monthNames,m.dayNames)})})})}var i={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},R={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},n=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],y=n.concat([[3,"month"],[6,"month"],[1,"year"]]),b=n.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:t,options:i,name:"time",version:"1.0"}),e.plot.formatDate=l,e.plot.dateGenerator=v}(jQuery),function(n){var t={tooltip:!1,tooltipOpts:{content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,shifts:{x:10,y:20},defaultTheme:!0,onHover:function(){}}},e=function(t){this.tipPosition={x:0,y:0},this.init(t)};e.prototype.init=function(t){function i(t){var e={};e.x=t.pageX,e.y=t.pageY,o.updateTooltipPosition(e)}function r(t,e,i){var r,n=o.getDomElement();i?(r=o.stringFormat(o.tooltipOptions.content,i),n.html(r),o.updateTooltipPosition({x:e.pageX,y:e.pageY}),n.css({left:o.tipPosition.x+o.tooltipOptions.shifts.x,top:o.tipPosition.y+o.tooltipOptions.shifts.y}).show(),"function"==typeof o.tooltipOptions.onHover&&o.tooltipOptions.onHover(i,n)):n.hide().html("")}var o=this;t.hooks.bindEvents.push(function(t,e){if(o.plotOptions=t.getOptions(),!1!==o.plotOptions.tooltip&&"undefined"!=typeof o.plotOptions.tooltip){o.tooltipOptions=o.plotOptions.tooltipOpts;o.getDomElement();n(t.getPlaceholder()).bind("plothover",r),n(e).bind("mousemove",i)}}),t.hooks.shutdown.push(function(t,e){n(t.getPlaceholder()).unbind("plothover",r),n(e).unbind("mousemove",i)})},e.prototype.getDomElement=function(){var t;return 0<n("#flotTip").length?t=n("#flotTip"):((t=n("<div />").attr("id","flotTip")).appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&t.css({background:"#fff","z-index":"100",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),t},e.prototype.updateTooltipPosition=function(t){var e=n("#flotTip").outerWidth()+this.tooltipOptions.shifts.x,i=n("#flotTip").outerHeight()+this.tooltipOptions.shifts.y;t.x-n(window).scrollLeft()>n(window).innerWidth()-e&&(t.x-=e),t.y-n(window).scrollTop()>n(window).innerHeight()-i&&(t.y-=i),this.tipPosition.x=t.x,this.tipPosition.y=t.y},e.prototype.stringFormat=function(t,e){var i=/%p\.{0,1}(\d{0,})/,r=/%s/,n=/%x\.{0,1}(?:\d{0,})/,o=/%y\.{0,1}(?:\d{0,})/;return"function"==typeof t&&(t=t(e.series.label,e.series.data[e.dataIndex][0],e.series.data[e.dataIndex][1],e)),"undefined"!=typeof e.series.percent&&(t=this.adjustValPrecision(i,t,e.series.percent)),"undefined"!=typeof e.series.label&&(t=t.replace(r,e.series.label)),this.isTimeMode("xaxis",e)&&this.isXDateFormat(e)&&(t=t.replace(n,this.timestampToDate(e.series.data[e.dataIndex][0],this.tooltipOptions.xDateFormat))),this.isTimeMode("yaxis",e)&&this.isYDateFormat(e)&&(t=t.replace(o,this.timestampToDate(e.series.data[e.dataIndex][1],this.tooltipOptions.yDateFormat))),"number"==typeof e.series.data[e.dataIndex][0]&&(t=this.adjustValPrecision(n,t,e.series.data[e.dataIndex][0])),"number"==typeof e.series.data[e.dataIndex][1]&&(t=this.adjustValPrecision(o,t,e.series.data[e.dataIndex][1])),"undefined"!=typeof e.series.xaxis.tickFormatter&&(t=t.replace(n,e.series.xaxis.tickFormatter(e.series.data[e.dataIndex][0],e.series.xaxis))),"undefined"!=typeof e.series.yaxis.tickFormatter&&(t=t.replace(o,e.series.yaxis.tickFormatter(e.series.data[e.dataIndex][1],e.series.yaxis))),t},e.prototype.isTimeMode=function(t,e){return"undefined"!=typeof e.series[t].options.mode&&"time"===e.series[t].options.mode},e.prototype.isXDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},e.prototype.isYDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},e.prototype.timestampToDate=function(t,e){var i=new Date(t);return n.plot.formatDate(i,e)},e.prototype.adjustValPrecision=function(t,e,i){var r;return null!==e.match(t)&&""!==RegExp.$1&&(r=RegExp.$1,i=i.toFixed(r),e=e.replace(t,i)),e};var i=function(t){new e(t)};n.plot.plugins.push({init:i,options:t,name:"tooltip",version:"0.6.1"})}(jQuery),InvalidBinaryFile.prototype.toString=function(){return this.name+': "'+this.message+'"'},document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n\tIEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n\tIEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n</script>\r\n"),InvalidRRD.prototype.toString=function(){return this.name+': "'+this.message+'"'},RRDDS.prototype.getIdx=function(){return this.my_idx},RRDDS.prototype.getName=function(){return this.rrd_data.getCStringAt(this.rrd_data_idx,20)},RRDDS.prototype.getType=function(){return this.rrd_data.getCStringAt(this.rrd_data_idx+20,20)},RRDDS.prototype.getMin=function(){return this.rrd_data.getDoubleAt(this.rrd_data_idx+48)},RRDDS.prototype.getMax=function(){return this.rrd_data.getDoubleAt(this.rrd_data_idx+56)},RRDRRAInfo.prototype.getIdx=function(){return this.my_idx},RRDRRAInfo.prototype.getNrRows=function(){return this.row_cnt},RRDRRAInfo.prototype.getPdpPerRow=function(){return this.rrd_data.getLongAt(this.rra_pdp_cnt_idx)},RRDRRAInfo.prototype.getStep=function(){return this.pdp_step*this.getPdpPerRow()},RRDRRAInfo.prototype.getCFName=function(){return this.rrd_data.getCStringAt(this.rra_def_idx,20)},RRDRRA.prototype.getIdx=function(){return this.rra_info.getIdx()},RRDRRA.prototype.getNrRows=function(){return this.row_cnt},RRDRRA.prototype.getNrDSs=function(){return this.ds_cnt},RRDRRA.prototype.getStep=function(){return this.rra_info.getStep()},RRDRRA.prototype.getCFName=function(){return this.rra_info.getCFName()},RRDRRA.prototype.getEl=function(t,e){return this.rrd_data.getDoubleAt(this.base_rrd_db_idx+this.calc_idx(t,e))},RRDRRA.prototype.getElFast=function(t,e){return this.rrd_data.getFastDoubleAt(this.base_rrd_db_idx+this.calc_idx(t,e))},RRDHeader.prototype.validate_rrd=function(){if(this.rrd_data.getLength()<1)throw new InvalidRRD("Empty file.");if(this.rrd_data.getLength()<16)throw new InvalidRRD("File too short.");if("RRD"!==this.rrd_data.getCStringAt(0,4))throw new InvalidRRD("Wrong magic id.");if(this.rrd_version=this.rrd_data.getCStringAt(4,5),"0003"!==this.rrd_version&&"0004"!==this.rrd_version&&"0001"!==this.rrd_version)throw new InvalidRRD("Unsupported RRD version "+this.rrd_version+".");if(this.float_width=8,0==this.rrd_data.getLongAt(12)){if(this.float_align=8,8.642135e130!=this.rrd_data.getDoubleAt(16)&&(this.rrd_data.switch_endian=!0),8.642135e130!=this.rrd_data.getDoubleAt(16))throw new InvalidRRD("Magic float not found at 16.");0==this.rrd_data.getLongAt(28)?(this.int_align=8,this.int_width=8):(this.int_align=4,this.int_width=4)}else{if(8.642135e130!=this.rrd_data.getDoubleAt(12)&&(this.rrd_data.switch_endian=!0),8.642135e130!=this.rrd_data.getDoubleAt(12))throw new InvalidRRD("Magic float not found at 12.");this.float_align=4,this.int_align=4,this.int_width=4}if(this.unival_width=this.float_width,this.unival_align=this.float_align,this.ds_cnt_idx=Math.ceil(9/this.float_align)*this.float_align+this.float_width,this.rra_cnt_idx=this.ds_cnt_idx+this.int_width,this.pdp_step_idx=this.rra_cnt_idx+this.int_width,this.ds_cnt=this.rrd_data.getLongAt(this.ds_cnt_idx),this.ds_cnt<1)throw new InvalidRRD("ds count less than 1.");if(this.rra_cnt=this.rrd_data.getLongAt(this.rra_cnt_idx),this.ds_cnt<1)throw new InvalidRRD("rra count less than 1.");if(this.pdp_step=this.rrd_data.getLongAt(this.pdp_step_idx),this.pdp_step<1)throw new InvalidRRD("pdp step less than 1.");if(this.top_header_size=Math.ceil((this.pdp_step_idx+this.int_width)/this.unival_align)*this.unival_align+10*this.unival_width,0==this.rrd_data.getLongAt(this.top_header_size))throw new InvalidRRD("Could not find first DS name.")},RRDHeader.prototype.calc_idxs=function(){this.ds_def_idx=this.top_header_size,this.ds_el_size=Math.ceil(40/this.unival_align)*this.unival_align+10*this.unival_width,this.rra_def_idx=this.ds_def_idx+this.ds_el_size*this.ds_cnt,this.row_cnt_idx=Math.ceil(20/this.int_align)*this.int_align,this.rra_def_el_size=Math.ceil((this.row_cnt_idx+2*this.int_width)/this.unival_align)*this.unival_align+10*this.unival_width,this.live_head_idx=this.rra_def_idx+this.rra_def_el_size*this.rra_cnt,this.live_head_size=2*this.int_width,this.pdp_prep_idx=this.live_head_idx+this.live_head_size,this.pdp_prep_el_size=Math.ceil(30/this.unival_align)*this.unival_align+10*this.unival_width,this.cdp_prep_idx=this.pdp_prep_idx+this.pdp_prep_el_size*this.ds_cnt,this.cdp_prep_el_size=10*this.unival_width,this.rra_ptr_idx=this.cdp_prep_idx+this.cdp_prep_el_size*this.ds_cnt*this.rra_cnt,this.rra_ptr_el_size=1*this.int_width,this.header_size=this.rra_ptr_idx+this.rra_ptr_el_size*this.rra_cnt},RRDHeader.prototype.load_row_cnts=function(){this.rra_def_row_cnts=[],this.rra_def_row_cnt_sums=[];for(var t=0;t<this.rra_cnt;t++)this.rra_def_row_cnts[t]=this.rrd_data.getLongAt(this.rra_def_idx+t*this.rra_def_el_size+this.row_cnt_idx,!1),this.rra_def_row_cnt_sums[t]=0==t?0:this.rra_def_row_cnt_sums[t-1]+this.rra_def_row_cnts[t-1]},RRDHeader.prototype.getMinStep=function(){return this.pdp_step},RRDHeader.prototype.getLastUpdate=function(){return this.rrd_data.getLongAt(this.live_head_idx,!1)},RRDHeader.prototype.getNrDSs=function(){return this.ds_cnt},RRDHeader.prototype.getDSNames=function(){for(var t=[],e=0;e<this.ds_cnt;e++){var i=this.getDSbyIdx(e).getName();t.push(i)}return t},RRDHeader.prototype.getDSbyIdx=function(t){if(0<=t&&t<this.ds_cnt)return new RRDDS(this.rrd_data,this.ds_def_idx+this.ds_el_size*t,t);throw RangeError("DS idx ("+t+") out of range [0-"+this.ds_cnt+").")},RRDHeader.prototype.getDSbyName=function(t){for(var e=0;e<this.ds_cnt;e++){var i=this.getDSbyIdx(e);if(i.getName()==t)return i}throw RangeError("DS name "+t+" unknown.")},RRDHeader.prototype.getNrRRAs=function(){return this.rra_cnt},RRDHeader.prototype.getRRAInfo=function(t){if(0<=t&&t<this.rra_cnt)return new RRDRRAInfo(this.rrd_data,this.rra_def_idx+t*this.rra_def_el_size,this.int_align,this.rra_def_row_cnts[t],this.pdp_step,t);throw RangeError("RRA idx ("+t+") out of range [0-"+this.rra_cnt+").")},rrdFlotSelection.prototype.reset=function(){this.selection_min=null,this.selection_max=null},rrdFlotSelection.prototype.setFromFlotRanges=function(t){this.selection_min=t.xaxis.from,this.selection_max=t.xaxis.to},rrdFlotSelection.prototype.getFlotRanges=function(){return{xaxis:{from:this.selection_min,to:this.selection_max}}},rrdFlotSelection.prototype.isSet=function(){return null!=this.selection_min},rrdFlotSelection.prototype.trim_flot_data=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];e.push({label:r.label,data:this.trim_data(r.data),color:r.color,lines:r.lines,yaxis:r.yaxis})}return e},rrdFlotSelection.prototype.trim_data=function(t){if(null==this.selection_min)return t;for(var e=[],i=0;i<t.length;i++)if(null!=t[i]){var r=t[i][0];r>=this.selection_min&&r<=this.selection_max&&e.push(t[i])}return e},rrdFlotSelection.prototype.trim_flot_timezone_data=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r];i.push({label:n.label,data:this.trim_timezone_data(n.data,e),color:n.color,lines:n.lines,yaxis:n.yaxis})}return i},rrdFlotSelection.prototype.trim_timezone_data=function(t,e){if(null==this.selection_min)return t;for(var i=[],r=0;r<t.length;r++)if(null!=t[r]){var n=t[r][0]+e;n>=this.selection_min&&n<=this.selection_max&&i.push(t[r])}return i};var local_checked_DSs=[],selected_rra=0,window_min=0,window_max=0,elem_group=null,timezone_shift=0;rrdFlot.prototype.createHTML=function(){var t=this,e=document.getElementById(this.html_id);for(this.res_id=this.html_id+"_res",this.ds_cb_id=this.html_id+"_ds_cb",this.graph_id=this.html_id+"_graph",this.scale_id=this.html_id+"_scale",this.legend_sel_id=this.html_id+"_legend_sel",this.time_sel_id=this.html_id+"_time_sel",this.elem_group_id=this.html_id+"_elem_group";null!=e.lastChild;)e.removeChild(e.lastChild);var i=document.createElement("Table"),r=(this.external_table=i).insertRow(-1),n=r.insertCell(-1);n.colSpan=3,n.appendChild(document.createTextNode("Resolution:"));var o=document.createElement("Select");o.id=this.res_id,o.onchange=function(){t.callback_res_changed()},n.appendChild(o),r.insertCell(-1).appendChild(document.createTextNode("Select elements to plot:"));var s=i.insertRow(-1),a=s.insertCell(-1);a.colSpan=3;var l=document.createElement("Div");null!=this.rrdflot_defaults.graph_width?l.style.width=this.rrdflot_defaults.graph_width:l.style.width="500px",null!=this.rrdflot_defaults.graph_height?l.style.height=this.rrdflot_defaults.graph_height:l.style.height="300px",l.id=this.graph_id,a.appendChild(l);var d=s.insertCell(-1);d.vAlign="top";var h=document.createElement("Form");h.id=this.ds_cb_id,h.onchange=function(){t.callback_ds_cb_changed()},d.appendChild(h);var c=i.insertRow(-1),u=c.insertCell(-1);u.vAlign="top",u.appendChild(document.createTextNode("Legend:")),u.appendChild(document.createElement("br"));var p=document.createElement("Select");p.id=this.legend_sel_id,p.appendChild(new Option("Top","nw","Top"==this.rrdflot_defaults.legend,"Top"==this.rrdflot_defaults.legend)),p.appendChild(new Option("Bottom","sw","Bottom"==this.rrdflot_defaults.legend,"Bottom"==this.rrdflot_defaults.legend)),p.appendChild(new Option("TopRight","ne","TopRight"==this.rrdflot_defaults.legend,"TopRight"==this.rrdflot_defaults.legend)),p.appendChild(new Option("BottomRight","se","BottomRight"==this.rrdflot_defaults.legend,"BottomRight"==this.rrdflot_defaults.legend)),p.appendChild(new Option("None","None","None"==this.rrdflot_defaults.legend,"None"==this.rrdflot_defaults.legend)),p.onchange=function(){t.callback_legend_changed()},u.appendChild(p),u.appendChild(document.createElement("br")),u.appendChild(document.createTextNode("Timezone:")),u.appendChild(document.createElement("br"));var f=document.createElement("Select");f.id=this.time_sel_id;for(var _,g=["+12","+11","+10","+9","+8","+7","+6","+5","+4","+3","+2","+1","0","-1","-2","-3","-4","-5","-6","-7","-8","-9","-10","-11","-12"],m=!1,x=0;x<24;x++)if(Math.ceil(this.rrdflot_defaults.timezone)==Math.ceil(g[x])){m=!0,_=Math.ceil(this.rrdflot_defaults.timezone);break}if(!m){var v=new Date;_=-Math.ceil(v.getTimezoneOffset()/60)}for(x=0;x<24;x++)f.appendChild(new Option(g[x],g[x],_==Math.ceil(g[x]),_==Math.ceil(g[x])));f.onchange=function(){t.callback_timezone_changed()},u.appendChild(f);var R=c.insertCell(-1);R.align="right";var y=document.createElement("Div");null!=this.rrdflot_defaults.scale_width?y.style.width=this.rrdflot_defaults.scale_width:y.style.width="250px",null!=this.rrdflot_defaults.scale_height?y.style.height=this.rrdflot_defaults.scale_height:y.style.height="110px",y.id=this.scale_id,R.appendChild(y);var b=c.insertCell(-1);b.vAlign="top",b.appendChild(document.createTextNode(" ")),b.appendChild(document.createElement("br"));var w=document.createElement("input");w.type="button",w.value="Reset selection",w.onclick=function(){t.callback_scale_reset()},b.appendChild(w),e.appendChild(i)},rrdFlot.prototype.cleanHTMLCruft=function(){this.external_table.deleteRow(-1),this.external_table.deleteRow(0);var t=document.getElementById(this.ds_cb_id);t.removeChild(t.lastChild)},rrdFlot.prototype.populateRes=function(){for(var t=document.getElementById(this.res_id);null!=t.lastChild;)t.removeChild(t.lastChild);for(var e=this.rrd_file.getNrRRAs(),i=0;i<e;i++){var r=this.rrd_file.getRRAInfo(i),n=r.getStep(),o=n*r.getNrRows(),s=rfs_format_time(n)+" ("+rfs_format_time(o)+" total)";this.rrdflot_defaults.multi_rra&&(s+=" "+r.getCFName()),t.appendChild(new Option(s,i))}this.rrdflot_defaults.use_rra&&(t.selectedIndex=this.rrdflot_defaults.rra)},rrdFlot.prototype.populateDScb=function(){var e=this,t=document.getElementById(this.ds_cb_id),i=document.createElement("Table"),r=i.insertRow(-1);r.vAlign="top";var n=null;null==this.rrdflot_defaults.num_cb_rows&&(this.rrdflot_defaults.num_cb_rows=12);for(var o=this.rrd_file.getNrDSs(),s=0,a=0;a<o;a++){if(a%this.rrdflot_defaults.num_cb_rows==0)if(this.rrdflot_defaults.use_element_buttons){if(n=r.insertCell(-1),o>this.rrdflot_defaults.num_cb_rows){s=a/this.rrdflot_defaults.num_cb_rows+1;var l=document.createElement("input");l.type="button",l.value="Group "+s,l.onclick=function(t){return function(){e.callback_elem_group_changed(t)}}(s),n.appendChild(l),n.appendChild(document.createElement("br"))}}else n=r.insertCell(-1);var d=this.rrd_file.getDS(a);if(this.rrdflot_defaults.multi_ds)var h=d.getName()+"-"+d.getType(),c=d.getName();else h=d.getName(),c=d.getName();var u=h;if(this.rrdflot_defaults.use_checked_DSs)if(0==this.rrdflot_defaults.checked_DSs.length)var p=0==a;else p=!1;else p=0==a;if(null!=this.ds_graph_options[h]){var f=this.ds_graph_options[h];null!=f.title?u=f.title:null!=f.label&&(u=f.label),this.rrdflot_defaults.use_checked_DSs?0==this.rrdflot_defaults.checked_DSs.length&&(p=f.checked):null!=f.checked&&(p=f.checked)}if(this.rrdflot_defaults.use_checked_DSs){if(null==this.rrdflot_defaults.checked_DSs)continue;for(var _=0;_<this.rrdflot_defaults.checked_DSs.length;_++)h==this.rrdflot_defaults.checked_DSs[_]&&(p=!0)}var g=document.createElement("input");g.type="checkbox",g.name="ds",g.value=c,g.checked=g.defaultChecked=p,n.appendChild(g),n.appendChild(document.createTextNode(u)),n.appendChild(document.createElement("br"))}t.appendChild(i)},rrdFlot.prototype.drawFlotGraph=function(){var t=document.getElementById(this.res_id),e=Number(t.options[t.selectedIndex].value);selected_rra=e,this.rrdflot_defaults.use_rra&&(t.options[t.selectedIndex].value=this.rrdflot_defaults.rra,e=this.rrdflot_defaults.rra);var i=[],r=[],n=[],o={},s=document.getElementById(this.ds_cb_id);s.ds.length;if(local_checked_DSs=[],0<s.ds.length){for(var a=0;a<s.ds.length;a++)if(1==s.ds[a].checked){var l=s.ds[a].value,d="none";if(local_checked_DSs.push(l),null!=this.ds_graph_options[l])if(null!=(u=this.ds_graph_options[l]).stack)d=u.stack;"positive"==d?i.push(l):"negative"==d?r.push(l):n.push(l),o[l]=a}}else if(1==s.ds.checked){l=s.ds.value;n.push(l),o[l]=0,local_checked_DSs.push(l)}var h=document.getElementById(this.time_sel_id);timezone_shift=h.options[h.selectedIndex].value;var c=rrdRRAStackFlotObj(this.rrd_file,e,i,r,n,3600*timezone_shift);for(a=0;a<c.data.length;a++){var u,p=c.data[a].label,f=o[p];if(null!=this.ds_graph_options[p])null!=(u=this.ds_graph_options[p]).color&&(f=u.color),null!=u.label?c.data[a].label=u.label:null!=u.title&&(c.data[a].label=u.title),null!=u.lines&&(c.data[a].lines=u.lines),null!=u.yaxis&&(c.data[a].yaxis=u.yaxis);c.data[a].color=f}this.bindFlotGraph(c)},rrdFlot.prototype.bindFlotGraph=function(t){var i=this,e=document.getElementById(this.legend_sel_id),r=e.options[e.selectedIndex].value,n="#"+this.graph_id,o="#"+this.scale_id,s={legend:{show:!1,position:"nw",noColumns:3},lines:{show:!0},xaxis:{mode:"time"},yaxis:{autoscaleMargin:.2},selection:{mode:"x"},tooltip:!0,tooltipOpts:{content:"<h4>%s</h4> Value: %y.3"},grid:{hoverable:!0}};if("None"==r||(s.legend.show=!0,s.legend.position=r),null!=this.graph_options&&(s=populateGraphOptions(s,this.graph_options)),0==s.tooltip&&(s.grid.hoverable=!1),this.selection_range.isSet()){var a=this.selection_range.getFlotRanges();this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=a.xaxis.from,s.xaxis.max=a.xaxis.to)}else this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=t.min,s.xaxis.max=t.max);var l={legend:{show:!1},lines:{show:!0},xaxis:{mode:"time",min:t.min,max:t.max},yaxis:s.yaxis,selection:{mode:"x"}},d=t.data,h=this.selection_range.trim_flot_data(d),c=d;this.graph=$.plot($(n),h,s),this.scale=$.plot($(o),c,l),this.rrdflot_defaults.use_windows&&(ranges={xaxis:[]},ranges.xaxis.from=this.rrdflot_defaults.window_min,ranges.xaxis.to=this.rrdflot_defaults.window_max,i.scale.setSelection(ranges,!0),window_min=ranges.xaxis.from,window_max=ranges.xaxis.to),this.selection_range.isSet()&&this.scale.setSelection(this.selection_range.getFlotRanges(),!0),$(n).unbind("plotselected"),$(n).bind("plotselected",function(t,e){i.selection_range.setFromFlotRanges(e),s.xaxis.min=e.xaxis.from,s.xaxis.max=e.xaxis.to,window_min=e.xaxis.from,window_max=e.xaxis.to,i.graph=$.plot($(n),i.selection_range.trim_flot_data(d),s),i.scale.setSelection(e,!0)}),$(o).unbind("plotselected"),$(o).bind("plotselected",function(t,e){i.graph.setSelection(e)}),$(o).bind("plotunselected",function(){i.selection_range.reset(),s.xaxis.min=t.min,s.xaxis.max=t.max,i.graph=$.plot($(n),i.selection_range.trim_flot_data(d),s),window_max=window_min=0})},rrdFlot.prototype.callback_res_changed=function(){this.rrdflot_defaults.use_rra=!1,this.drawFlotGraph()},rrdFlot.prototype.callback_ds_cb_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_scale_reset=function(){this.scale.clearSelection()},rrdFlot.prototype.callback_legend_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_timezone_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_elem_group_changed=function(t){var e=document.getElementById(this.ds_cb_id);e.ds.length;if(0<e.ds.length)for(var i=0;i<e.ds.length;i++)Math.floor(i/this.rrdflot_defaults.num_cb_rows)==t-1?e.ds[i].checked=!0:e.ds[i].checked=!1;this.drawFlotGraph()};
/*
 * RRD graphing libraries, based on Flot
 * Part of the javascriptRRD package
 * Copyright (c) 2010 Frank Wuerthwein, fkw@ucsd.edu
 *                    Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
var local_checked_RRDs=[];selected_rra=0,window_min=0,window_max=0,elem_group=null;rrdFlotMatrix.prototype.createHTML=function(){var t=this,e=document.getElementById(this.html_id);for(this.ds_id=this.html_id+"_ds",this.res_id=this.html_id+"_res",this.rrd_cb_id=this.html_id+"_rrd_cb",this.graph_id=this.html_id+"_graph",this.scale_id=this.html_id+"_scale",this.legend_sel_id=this.html_id+"_legend_sel";null!=e.lastChild;)e.removeChild(e.lastChild);var i=document.createElement("Table"),r=(this.external_table=i).insertRow(-1).insertCell(-1);r.colSpan=4,r.appendChild(document.createTextNode("Element:"));var n=document.createElement("Select");n.id=this.ds_id,n.onchange=function(){t.callback_ds_changed()},r.appendChild(n);var o=i.insertRow(-1),s=o.insertCell(-1);s.colSpan=3,s.appendChild(document.createTextNode("Resolution:"));var a=document.createElement("Select");a.id=this.res_id,a.onchange=function(){t.callback_res_changed()},s.appendChild(a),o.insertCell(-1).appendChild(document.createTextNode("Select RRDs to plot:"));var l=i.insertRow(-1),d=l.insertCell(-1);d.colSpan=3;var h=document.createElement("Div");null!=this.rrdflot_defaults.graph_width?h.style.width=this.rrdflot_defaults.graph_width:h.style.width="500px",null!=this.rrdflot_defaults.graph_height?h.style.height=this.rrdflot_defaults.graph_height:h.style.height="300px",h.id=this.graph_id,d.appendChild(h);var c=l.insertCell(-1);c.vAlign="top";var u=document.createElement("Form");u.id=this.rrd_cb_id,u.onchange=function(){t.callback_rrd_cb_changed()},c.appendChild(u);var p=i.insertRow(-1),f=p.insertCell(-1);f.vAlign="top",f.appendChild(document.createTextNode("Legend:")),f.appendChild(document.createElement("br"));var _=document.createElement("Select");_.id=this.legend_sel_id,_.appendChild(new Option("Top","nw","Top"==this.rrdflot_defaults.legend,"Top"==this.rrdflot_defaults.legend)),_.appendChild(new Option("Bottom","sw","Bottom"==this.rrdflot_defaults.legend,"Bottom"==this.rrdflot_defaults.legend)),_.appendChild(new Option("TopRight","ne","TopRight"==this.rrdflot_defaults.legend,"TopRight"==this.rrdflot_defaults.legend)),_.appendChild(new Option("BottomRight","se","BottomRight"==this.rrdflot_defaults.legend,"BottomRight"==this.rrdflot_defaults.legend)),_.appendChild(new Option("None","None","None"==this.rrdflot_defaults.legend,"None"==this.rrdflot_defaults.legend)),_.onchange=function(){t.callback_legend_changed()},f.appendChild(_);var g=p.insertCell(-1);g.align="right";var m=document.createElement("Div");null!=this.rrdflot_defaults.scale_width?m.style.width=this.rrdflot_defaults.scale_width:m.style.width="250px",null!=this.rrdflot_defaults.scale_height?m.style.height=this.rrdflot_defaults.scale_height:m.style.height="110px",m.id=this.scale_id,g.appendChild(m);var x=p.insertCell(-1);x.vAlign="top",x.appendChild(document.createTextNode(" ")),x.appendChild(document.createElement("br"));var v=document.createElement("input");v.type="button",v.value="Reset selection",v.onclick=function(){t.callback_scale_reset()},x.appendChild(v),e.appendChild(i)},rrdFlotMatrix.prototype.cleanHTMLCruft=function(){this.external_table.deleteRow(-1),this.external_table.deleteRow(0),this.external_table.deleteRow(0);var t=document.getElementById(this.rrd_cb_id);t.removeChild(t.lastChild)},rrdFlotMatrix.prototype.populateDS=function(){for(var t=document.getElementById(this.ds_id);null!=t.lastChild;)t.removeChild(t.lastChild);for(i in this.ds_list){var e=this.ds_list[i];t.appendChild(new Option(e[1],e[0]))}},rrdFlotMatrix.prototype.populateRes=function(){for(var t=document.getElementById(this.res_id);null!=t.lastChild;)t.removeChild(t.lastChild);for(var e=this.rrd_files[0][1],i=e.getNrRRAs(),r=0;r<i;r++){var n=e.getRRAInfo(r),o=n.getStep(),s=o*n.getNrRows(),a=rfs_format_time(o)+" ("+rfs_format_time(s)+" total)";this.rrdflot_defaults.multi_rra&&(a+=" "+n.getCFName()),t.appendChild(new Option(a,r))}this.rrdflot_defaults.use_rra&&(t.selectedIndex=this.rrdflot_defaults.rra)},rrdFlotMatrix.prototype.populateRRDcb=function(){var e=this,t=document.getElementById(this.rrd_cb_id),i=document.createElement("Table"),r=i.insertRow(-1);r.vAlign="top";var n=null;null==this.rrdflot_defaults.num_cb_rows&&(this.rrdflot_defaults.num_cb_rows=12);for(var o=this.rrd_files.length,s=0,a=0;a<o;a++){if(a%this.rrdflot_defaults.num_cb_rows==0)if(this.rrdflot_defaults.use_element_buttons){if(n=r.insertCell(-1),o>this.rrdflot_defaults.num_cb_rows){s=a/this.rrdflot_defaults.num_cb_rows+1;var l=document.createElement("input");l.type="button",l.value="Group "+s,l.onclick=function(t){return function(){e.callback_elem_group_changed(t)}}(s),n.appendChild(l),n.appendChild(document.createElement("br"))}}else n=r.insertCell(-1);var d=this.rrd_files[a],h=(d[1],d[0]),c=h;if(this.rrdflot_defaults.use_checked_RRDs)if(0==this.rrdflot_defaults.checked_RRDs.length)var u=0==a;else u=!1;else u=0==a;if(null!=this.rrd_graph_options[h]){var p=this.rrd_graph_options[h];null!=p.title?c=p.title:null!=p.label&&(c=p.label),this.rrdflot_defaults.use_checked_RRDs?0==this.rrdflot_defaults.checked_RRDs.length&&(u=p.checked):null!=p.checked&&(u=p.checked)}if(this.rrdflot_defaults.use_checked_RRDs){if(null==this.rrdflot_defaults.checked_RRDs)continue;for(var f=0;f<this.rrdflot_defaults.checked_RRDs.length;f++)h==this.rrdflot_defaults.checked_RRDs[f]&&(u=!0)}var _=document.createElement("input");_.type="checkbox",_.name="rrd",_.value=a,_.checked=_.defaultChecked=u,n.appendChild(_),n.appendChild(document.createTextNode(c)),n.appendChild(document.createElement("br"))}t.appendChild(i)},rrdFlotMatrix.prototype.drawFlotGraph=function(){var t=document.getElementById(this.ds_id),e=t.options[t.selectedIndex].value;t=document.getElementById(this.res_id);var i=Number(t.options[t.selectedIndex].value);selected_rra=i,this.rrdflot_defaults.use_rra&&(t.options[t.selectedIndex].value=this.rrdflot_defaults.rra,i=this.rrdflot_defaults.rra);var r=["#00ff00","#00ffff","#0000ff","#ff00ff","#808080","#ff0000","#ffff00","#e66266","#33cccc","#fff8a9","#ccffff","#a57e81","#7bea81","#8d4dff","#ffcc99","#000000"],n=[],o=[],s=document.getElementById(this.rrd_cb_id);s.rrd.length;if(0<s.rrd.length)for(var a=0;a<s.rrd.length;a++)1==s.rrd[a].checked&&(n.push(this.rrd_files[a]),h=r[a%r.length],1<=a/r.length&&(idiv=Math.floor(a/r.length),c1=parseInt(h[1]+h[2],16),c2=parseInt(h[3]+h[4],16),c3=parseInt(h[5]+h[6],16),m1=Math.floor((c1-128)/Math.sqrt(idiv+1))+128,m2=Math.floor((c2-128)/Math.sqrt(idiv+1))+128,m3=Math.floor((c3-128)/Math.sqrt(idiv+1))+128,15<m1?s1=m1.toString(16):s1="0"+m1.toString(16),15<m2?s2=m2.toString(16):s2="0"+m2.toString(16),15<m3?s3=m3.toString(16):s3="0"+m3.toString(16),h="#"+s1+s2+s3),o.push(h));else 1==s.rrd.checked&&(n.push(this.rrd_files[0]),o.push(r[0]));var l=rrdRRAMultiStackFlotObj(n,i,e);for(a=0;a<l.data.length;a++){var d=l.data[a].label,h=o[l.data.length-a-1],c=null;if(null!=this.rrd_graph_options[d]){var u=this.rrd_graph_options[d];null!=u.color&&(h=u.color),null!=u.label?l.data[a].label=u.label:null!=u.title&&(l.data[a].label=u.title),null!=u.lines&&(l.data[a].lines=u.lines)}null==c&&(l.data[a].lines={show:!0,fill:!0,fillColor:h}),l.data[a].color=h}this.bindFlotGraph(l)},rrdFlotMatrix.prototype.bindFlotGraph=function(t){var i=this,e=document.getElementById(this.legend_sel_id),r=e.options[e.selectedIndex].value,n="#"+this.graph_id,o="#"+this.scale_id,s={legend:{show:!1,position:"nw",noColumns:3},lines:{show:!0},xaxis:{mode:"time"},yaxis:{autoscaleMargin:.2},selection:{mode:"x"},tooltip:!0,tooltipOpts:{content:"<h4>%s</h4> Value: %y.3"},grid:{hoverable:!0}};if("None"==r||(s.legend.show=!0,s.legend.position=r),null!=this.graph_options&&(s=populateGraphOptions(s,this.graph_options)),0==s.tooltip&&(s.grid.hoverable=!1),this.selection_range.isSet()){var a=this.selection_range.getFlotRanges();this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=a.xaxis.from,s.xaxis.max=a.xaxis.to)}else this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=t.min,s.xaxis.max=t.max);var l={legend:{show:!1},lines:{show:!0},xaxis:{mode:"time",min:t.min,max:t.max},selection:{mode:"x"}},d=t.data,h=this.selection_range.trim_flot_data(d),c=d;this.graph=$.plot($(n),h,s),this.scale=$.plot($(o),c,l),this.rrdflot_defaults.use_windows&&(ranges={xaxis:[]},ranges.xaxis.from=this.rrdflot_defaults.window_min,ranges.xaxis.to=this.rrdflot_defaults.window_max,i.scale.setSelection(ranges,!0),window_min=ranges.xaxis.from,window_max=ranges.xaxis.to),this.selection_range.isSet()&&this.scale.setSelection(this.selection_range.getFlotRanges(),!0),$(n).bind("plotselected",function(t,e){i.selection_range.setFromFlotRanges(e),s.xaxis.min=e.xaxis.from,s.xaxis.max=e.xaxis.to,window_min=e.xaxis.from,window_max=e.xaxis.to,i.graph=$.plot($(n),i.selection_range.trim_flot_data(d),s),i.scale.setSelection(e,!0)}),$(o).bind("plotselected",function(t,e){i.graph.setSelection(e)}),$(o).bind("plotunselected",function(){i.selection_range.reset(),s.xaxis.min=t.min,s.xaxis.max=t.max,i.graph=$.plot($(n),i.selection_range.trim_flot_data(d),s)})},rrdFlotMatrix.prototype.callback_res_changed=function(){this.drawFlotGraph()},rrdFlotMatrix.prototype.callback_ds_changed=function(){this.drawFlotGraph()},rrdFlotMatrix.prototype.callback_rrd_cb_changed=function(){this.drawFlotGraph()},rrdFlotMatrix.prototype.callback_scale_reset=function(){this.scale.clearSelection()},rrdFlotMatrix.prototype.callback_legend_changed=function(){this.drawFlotGraph()},rrdFlotMatrix.prototype.callback_elem_group_changed=function(t){var e=document.getElementById(this.rrd_cb_id);e.rrd.length;if(0<e.rrd.length)for(var i=0;i<e.rrd.length;i++)Math.floor(i/this.rrdflot_defaults.num_cb_rows)==t-1?e.rrd[i].checked=!0:e.rrd[i].checked=!1;this.drawFlotGraph()},RRDRRAFilterDS.prototype.getIdx=function(){return this.rrd_rra.getIdx()},RRDRRAFilterDS.prototype.getNrRows=function(){return this.rrd_rra.getNrRows()},RRDRRAFilterDS.prototype.getNrDSs=function(){return this.ds_list.length},RRDRRAFilterDS.prototype.getStep=function(){return this.rrd_rra.getStep()},RRDRRAFilterDS.prototype.getCFName=function(){return this.rrd_rra.getCFName()},RRDRRAFilterDS.prototype.getEl=function(t,e){if(0<=e&&e<this.ds_list.length){var i=this.ds_list[e].real_ds_idx;return this.rrd_rra.getEl(t,i)}throw RangeError("DS idx ("+e+") out of range [0-"+this.ds_list.length+").")},RRDRRAFilterDS.prototype.getElFast=function(t,e){if(0<=e&&e<this.ds_list.length){var i=this.ds_list[e].real_ds_idx;return this.rrd_rra.getElFast(t,i)}throw RangeError("DS idx ("+e+") out of range [0-"+this.ds_list.length+").")},RRDFilterDS.prototype.getMinStep=function(){return this.rrd_file.getMinStep()},RRDFilterDS.prototype.getLastUpdate=function(){return this.rrd_file.getLastUpdate()},RRDFilterDS.prototype.getNrDSs=function(){return this.ds_list.length},RRDFilterDS.prototype.getDSNames=function(){for(var t=[],e=0;e<this.ds_list.length;e++)t.push(ds_list[e].getName());return t},RRDFilterDS.prototype.getDS=function(t){return"number"==typeof t?this.getDSbyIdx(t):this.getDSbyName(t)},RRDFilterDS.prototype.getDSbyIdx=function(t){if(0<=t&&t<this.ds_list.length)return this.ds_list[t];throw RangeError("DS idx ("+t+") out of range [0-"+this.ds_list.length+").")},RRDFilterDS.prototype.getDSbyName=function(t){for(var e=0;e<this.ds_list.length;e++){var i=this.ds_list[e];if(i.getName()==t)return i}throw RangeError("DS name "+t+" unknown.")},RRDFilterDS.prototype.getNrRRAs=function(){return this.rrd_file.getNrRRAs()},RRDFilterDS.prototype.getRRAInfo=function(t){return this.rrd_file.getRRAInfo(t)},RRDFilterDS.prototype.getRRA=function(t){return new RRDRRAFilterDS(this.rrd_file.getRRA(t),this.ds_list)},RRDDSFilterOp.prototype.getIdx=function(){return this.my_idx},RRDDSFilterOp.prototype.getName=function(){return this.op_obj.getName()},RRDDSFilterOp.prototype.getType=function(){return"function"},RRDDSFilterOp.prototype.getMin=function(){return undefined},RRDDSFilterOp.prototype.getMax=function(){return undefined},RRDDSFilterOp.prototype.getRealDSList=function(){return this.ds_idx_list},RRDDSFilterOp.prototype.computeResult=function(t){return this.op_obj.computeResult(t)},RRDRRAFilterOp.prototype.getIdx=function(){return this.rrd_rra.getIdx()},RRDRRAFilterOp.prototype.getNrRows=function(){return this.rrd_rra.getNrRows()},RRDRRAFilterOp.prototype.getNrDSs=function(){return this.ds_list.length},RRDRRAFilterOp.prototype.getStep=function(){return this.rrd_rra.getStep()},RRDRRAFilterOp.prototype.getCFName=function(){return this.rrd_rra.getCFName()},RRDRRAFilterOp.prototype.getEl=function(t,e){if(0<=e&&e<this.ds_list.length){for(var i=this.ds_list[e].getRealDSList(),r=[],n=0;n<i.length;n++)r.push(this.rrd_rra.getEl(t,i[n]));return this.ds_list[e].computeResult(r)}throw RangeError("DS idx ("+e+") out of range [0-"+this.ds_list.length+").")},RRDRRAFilterOp.prototype.getElFast=function(t,e){if(0<=e&&e<this.ds_list.length){for(var i=this.ds_list[e].getRealDSList(),r=[],n=0;n<i.length;n++)r.push(this.rrd_rra.getEl(t,i[n]));return this.ds_list[e].computeResult(r)}throw RangeError("DS idx ("+e+") out of range [0-"+this.ds_list.length+").")},RRDFilterOp.prototype.getMinStep=function(){return this.rrd_file.getMinStep()},RRDFilterOp.prototype.getLastUpdate=function(){return this.rrd_file.getLastUpdate()},RRDFilterOp.prototype.getNrDSs=function(){return this.ds_list.length},RRDFilterOp.prototype.getDSNames=function(){for(var t=[],e=0;e<this.ds_list.length;e++)t.push(ds_list[e].getName());return t},RRDFilterOp.prototype.getDS=function(t){return"number"==typeof t?this.getDSbyIdx(t):this.getDSbyName(t)},RRDFilterOp.prototype.getDSbyIdx=function(t){if(0<=t&&t<this.ds_list.length)return this.ds_list[t];throw RangeError("DS idx ("+t+") out of range [0-"+this.ds_list.length+").")},RRDFilterOp.prototype.getDSbyName=function(t){for(var e=0;e<this.ds_list.length;e++){var i=this.ds_list[e];if(i.getName()==t)return i}throw RangeError("DS name "+t+" unknown.")},RRDFilterOp.prototype.getNrRRAs=function(){return this.rrd_file.getNrRRAs()},RRDFilterOp.prototype.getRRAInfo=function(t){return this.rrd_file.getRRAInfo(t)},RRDFilterOp.prototype.getRRA=function(t){return new RRDRRAFilterOp(this.rrd_file.getRRA(t),this.ds_list)},RRAFilterShift.prototype.getMinStep=function(){return this.rrd_file.getMinStep()},RRAFilterShift.prototype.getLastUpdate=function(){return this.rrd_file.getLastUpdate()+this.shift_in_seconds},RRAFilterShift.prototype.getNrDSs=function(){return this.rrd_file.getNrDSs()},RRAFilterShift.prototype.getDSNames=function(){return this.rrd_file.getDSNames()},RRAFilterShift.prototype.getDS=function(t){return this.rrd_file.getDS(t)},RRAFilterShift.prototype.getNrRRAs=function(){return this.rra_list.length},RRAFilterShift.prototype.getRRAInfo=function(t){return this.rrd_file.getRRAInfo(t)},RRAFilterShift.prototype.getRRA=function(t){return this.rrd_file.getRRA(t)},RRAInfoFilterAvg.prototype.getIdx=function(){return this.idx},RRAInfoFilterAvg.prototype.getNrRows=function(){return this.rra.getNrRows()},RRAInfoFilterAvg.prototype.getStep=function(){return this.rra.getStep()},RRAInfoFilterAvg.prototype.getCFName=function(){return this.rra.getCFName()},RRAInfoFilterAvg.prototype.getPdpPerRow=function(){return this.rrd_file.getRRAInfo(this.op_obj.getIdx()).getPdpPerRow()*this.scaler},RRAFilterAvg.prototype.getIdx=function(){return this.op_obj.getIdx()},RRAFilterAvg.prototype.getCFName=function(){return this.base_rra.getCFName()},RRAFilterAvg.prototype.getNrRows=function(){return Math.floor(this.base_rra.getNrRows()/this.scaler)},RRAFilterAvg.prototype.getNrDSs=function(){return this.base_rra.getNrDSs()},RRAFilterAvg.prototype.getStep=function(){return null!=this.op_obj.getStep()?this.op_obj.getStep():this.base_rra.getStep()},RRAFilterAvg.prototype.getEl=function(t,e){for(var i=0,r=0;r<this.scaler;r++)i+=this.base_rra.getEl(this.scaler*t+r,e);return i/this.scaler},RRAFilterAvg.prototype.getElFast=function(t,e){for(var i=0,r=0;r<this.scaler;r++)i+=this.base_rra.getElFast(this.scaler*t+r,e);return i/this.scaler},RRDRRAFilterAvg.prototype.getMinStep=function(){return this.rrd_file.getMinStep()},RRDRRAFilterAvg.prototype.getLastUpdate=function(){return this.rrd_file.getLastUpdate()},RRDRRAFilterAvg.prototype.getNrDSs=function(){return this.rrd_file.getNrDSs()},RRDRRAFilterAvg.prototype.getDSNames=function(){return this.rrd_file.getDSNames()},RRDRRAFilterAvg.prototype.getDS=function(t){return this.rrd_file.getDS(t)},RRDRRAFilterAvg.prototype.getNrRRAs=function(){return this.rra_list.length},RRDRRAFilterAvg.prototype.getRRAInfo=function(t){return 0<=t&&t<this.rra_list.length?new RRAInfoFilterAvg(this.rrd_file,this.rra_list[t],this.op_obj_list[t],t):this.rrd_file.getRRAInfo(0)},RRDRRAFilterAvg.prototype.getRRA=function(t){if(0<=t&&t<this.rra_list.length)return this.rra_list[t]},RRDRRASum.prototype.getIdx=function(){return this.rra_list[0].getIdx()},RRDRRASum.prototype.getNrRows=function(){return this.row_cnt},RRDRRASum.prototype.getNrDSs=function(){return this.rra_list[0].getNrDSs()},RRDRRASum.prototype.getStep=function(){return this.rra_list[0].getStep()},RRDRRASum.prototype.getCFName=function(){return this.rra_list[0].getCFName()},RRDRRASum.prototype.getEl=function(t,e){var i=0;for(var r in this.rra_list){var n=this.offset_list[r];if(t+n<this.row_cnt){var o=this.rra_list[r];val=o.getEl(t+n,e)}else val=undefined;if(val==undefined){if(!this.treat_undefined_as_zero){i=undefined;break}val=0}i+=val}return i},RRDRRASum.prototype.getElFast=function(t,e){var i=0;for(var r in this.rra_list){var n=this.offset_list[r];if(row_id+n<this.row_cnt){var o=this.rra_list[r];val=o.getElFast(t+n,e)}else val=undefined;if(val==undefined){if(!this.treat_undefined_as_zero){i=undefined;break}val=0}i+=val}return i},rrdFlotAsync.prototype.reload=function(t){this.url=t;try{FetchBinaryURLAsync(t,rrdFlotAsyncCallback,this)}catch(e){alert("Failed loading "+t+"\n"+e)}},rrdFlotAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj,this.customization_callback!=undefined&&this.customization_callback(this);var t=this.rrd_data;this.ds_op_list!=undefined&&(t=new RRDFilterOp(t,this.ds_op_list)),this.rra_op_list!=undefined&&(t=new RRDRRAFilterAvg(t,this.rra_op_list)),this.rrd_flot_obj=new rrdFlot(this.html_id,t,this.graph_options,this.ds_graph_options,this.rrdflot_defaults)},rrdFlotSumAsync.prototype.reload=function(t){rrdFlotMultiAsyncReload(this,t)},rrdFlotSumAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj;var t=new Array;for(i in this.loaded_data){var e=this.loaded_data[i];e!=undefined&&t.push(e)}var r=new RRDFileSum(t,this.sumfile_options);null!=this.rrd_data&&delete this.rrd_data,this.rrd_data=r,this.customization_callback!=undefined&&this.customization_callback(this),r=this.rrd_data,this.ds_op_list!=undefined&&(r=new RRDFilterOp(r,this.ds_op_list)),this.rra_op_list!=undefined&&(r=new RRDRRAFilterAvg(r,this.rra_op_list)),this.rrd_flot_obj=new rrdFlot(this.html_id,r,this.graph_options,this.ds_graph_options,this.rrdflot_defaults)},rrdFlotMatrixAsync.prototype.reload=function(t){this.url_pair_list=t;var e=[];for(var i in this.url_pair_list)e.push(this.url_pair_list[i][1]);rrdFlotMultiAsyncReload(this,e)},rrdFlotMatrixAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj;var t=new Array;for(var e in this.loaded_data){var i=this.loaded_data[e];i!=undefined&&t.push([this.url_pair_list[e][0],i])}for(var e in this.rrd_data=t[0],this.customization_callback!=undefined&&this.customization_callback(this),t)this.ds_op_list!=undefined&&(t[e]=new RRDFilterOp(t[e],this.ds_op_list)),this.rra_op_list!=undefined&&(t[e]=new RRDRRAFilterAvg(t[e],this.rra_op_list));this.rrd_flot_obj=new rrdFlotMatrix(this.html_id,t,this.ds_list,this.graph_options,this.rrd_graph_options,this.rrdflot_defaults)};
/*
 * RRD graphing libraries, based on Flot
 * Part of the javascriptRRD package
 * Copyright (c) 2010 Frank Wuerthwein, fkw@ucsd.edu
 *                    Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
local_checked_DSs=[],selected_rra=0,window_min=0,window_max=0,elem_group=null,timezone_shift=0;rrdFlot.prototype.createHTML=function(){var t=this,e=document.getElementById(this.html_id);for(this.res_id=this.html_id+"_res",this.ds_cb_id=this.html_id+"_ds_cb",this.graph_id=this.html_id+"_graph",this.scale_id=this.html_id+"_scale",this.legend_sel_id=this.html_id+"_legend_sel",this.time_sel_id=this.html_id+"_time_sel",this.elem_group_id=this.html_id+"_elem_group";null!=e.lastChild;)e.removeChild(e.lastChild);var i=document.createElement("Table"),r=(this.external_table=i).insertRow(-1),n=r.insertCell(-1);n.colSpan=3,n.appendChild(document.createTextNode("Resolution:"));var o=document.createElement("Select");o.id=this.res_id,o.onchange=function(){t.callback_res_changed()},n.appendChild(o),r.insertCell(-1).appendChild(document.createTextNode("Select elements to plot:"));var s=i.insertRow(-1),a=s.insertCell(-1);a.colSpan=3;var l=document.createElement("Div");null!=this.rrdflot_defaults.graph_width?l.style.width=this.rrdflot_defaults.graph_width:l.style.width="500px",null!=this.rrdflot_defaults.graph_height?l.style.height=this.rrdflot_defaults.graph_height:l.style.height="300px",l.id=this.graph_id,a.appendChild(l);var d=s.insertCell(-1);d.vAlign="top";var h=document.createElement("Form");h.id=this.ds_cb_id,h.onchange=function(){t.callback_ds_cb_changed()},d.appendChild(h);var c=i.insertRow(-1),u=c.insertCell(-1);u.vAlign="top",u.appendChild(document.createTextNode("Legend:")),u.appendChild(document.createElement("br"));var p=document.createElement("Select");p.id=this.legend_sel_id,p.appendChild(new Option("Top","nw","Top"==this.rrdflot_defaults.legend,"Top"==this.rrdflot_defaults.legend)),p.appendChild(new Option("Bottom","sw","Bottom"==this.rrdflot_defaults.legend,"Bottom"==this.rrdflot_defaults.legend)),p.appendChild(new Option("TopRight","ne","TopRight"==this.rrdflot_defaults.legend,"TopRight"==this.rrdflot_defaults.legend)),p.appendChild(new Option("BottomRight","se","BottomRight"==this.rrdflot_defaults.legend,"BottomRight"==this.rrdflot_defaults.legend)),p.appendChild(new Option("None","None","None"==this.rrdflot_defaults.legend,"None"==this.rrdflot_defaults.legend)),p.onchange=function(){t.callback_legend_changed()},u.appendChild(p),u.appendChild(document.createElement("br")),u.appendChild(document.createTextNode("Timezone:")),u.appendChild(document.createElement("br"));var f=document.createElement("Select");f.id=this.time_sel_id;for(var _,g=["+12","+11","+10","+9","+8","+7","+6","+5","+4","+3","+2","+1","0","-1","-2","-3","-4","-5","-6","-7","-8","-9","-10","-11","-12"],m=!1,x=0;x<24;x++)if(Math.ceil(this.rrdflot_defaults.timezone)==Math.ceil(g[x])){m=!0,_=Math.ceil(this.rrdflot_defaults.timezone);break}if(!m){var v=new Date;_=-Math.ceil(v.getTimezoneOffset()/60)}for(x=0;x<24;x++)f.appendChild(new Option(g[x],g[x],_==Math.ceil(g[x]),_==Math.ceil(g[x])));f.onchange=function(){t.callback_timezone_changed()},u.appendChild(f);var R=c.insertCell(-1);R.align="right";var y=document.createElement("Div");null!=this.rrdflot_defaults.scale_width?y.style.width=this.rrdflot_defaults.scale_width:y.style.width="250px",null!=this.rrdflot_defaults.scale_height?y.style.height=this.rrdflot_defaults.scale_height:y.style.height="110px",y.id=this.scale_id,R.appendChild(y);var b=c.insertCell(-1);b.vAlign="top",b.appendChild(document.createTextNode(" ")),b.appendChild(document.createElement("br"));var w=document.createElement("input");w.type="button",w.value="Reset selection",w.onclick=function(){t.callback_scale_reset()},b.appendChild(w),e.appendChild(i)},rrdFlot.prototype.cleanHTMLCruft=function(){this.external_table.deleteRow(-1),this.external_table.deleteRow(0);var t=document.getElementById(this.ds_cb_id);t.removeChild(t.lastChild)},rrdFlot.prototype.populateRes=function(){for(var t=document.getElementById(this.res_id);null!=t.lastChild;)t.removeChild(t.lastChild);for(var e=this.rrd_file.getNrRRAs(),i=0;i<e;i++){var r=this.rrd_file.getRRAInfo(i),n=r.getStep(),o=n*r.getNrRows(),s=rfs_format_time(n)+" ("+rfs_format_time(o)+" total)";this.rrdflot_defaults.multi_rra&&(s+=" "+r.getCFName()),t.appendChild(new Option(s,i))}this.rrdflot_defaults.use_rra&&(t.selectedIndex=this.rrdflot_defaults.rra)},rrdFlot.prototype.populateDScb=function(){var e=this,t=document.getElementById(this.ds_cb_id),i=document.createElement("Table"),r=i.insertRow(-1);r.vAlign="top";var n=null;null==this.rrdflot_defaults.num_cb_rows&&(this.rrdflot_defaults.num_cb_rows=12);for(var o=this.rrd_file.getNrDSs(),s=0,a=0;a<o;a++){if(a%this.rrdflot_defaults.num_cb_rows==0)if(this.rrdflot_defaults.use_element_buttons){if(n=r.insertCell(-1),o>this.rrdflot_defaults.num_cb_rows){s=a/this.rrdflot_defaults.num_cb_rows+1;var l=document.createElement("input");l.type="button",l.value="Group "+s,l.onclick=function(t){return function(){e.callback_elem_group_changed(t)}}(s),n.appendChild(l),n.appendChild(document.createElement("br"))}}else n=r.insertCell(-1);var d=this.rrd_file.getDS(a);if(this.rrdflot_defaults.multi_ds)var h=d.getName()+"-"+d.getType(),c=d.getName();else h=d.getName(),c=d.getName();var u=h;if(this.rrdflot_defaults.use_checked_DSs)if(0==this.rrdflot_defaults.checked_DSs.length)var p=0==a;else p=!1;else p=0==a;if(null!=this.ds_graph_options[h]){var f=this.ds_graph_options[h];null!=f.title?u=f.title:null!=f.label&&(u=f.label),this.rrdflot_defaults.use_checked_DSs?0==this.rrdflot_defaults.checked_DSs.length&&(p=f.checked):null!=f.checked&&(p=f.checked)}if(this.rrdflot_defaults.use_checked_DSs){if(null==this.rrdflot_defaults.checked_DSs)continue;for(var _=0;_<this.rrdflot_defaults.checked_DSs.length;_++)h==this.rrdflot_defaults.checked_DSs[_]&&(p=!0)}var g=document.createElement("input");g.type="checkbox",g.name="ds",g.value=c,g.checked=g.defaultChecked=p,n.appendChild(g),n.appendChild(document.createTextNode(u)),n.appendChild(document.createElement("br"))}t.appendChild(i)},rrdFlot.prototype.drawFlotGraph=function(){var t=document.getElementById(this.res_id),e=Number(t.options[t.selectedIndex].value);selected_rra=e,this.rrdflot_defaults.use_rra&&(t.options[t.selectedIndex].value=this.rrdflot_defaults.rra,e=this.rrdflot_defaults.rra);var i=[],r=[],n=[],o={},s=document.getElementById(this.ds_cb_id);s.ds.length;if(local_checked_DSs=[],0<s.ds.length){for(var a=0;a<s.ds.length;a++)if(1==s.ds[a].checked){var l=s.ds[a].value,d="none";if(local_checked_DSs.push(l),null!=this.ds_graph_options[l])if(null!=(u=this.ds_graph_options[l]).stack)d=u.stack;"positive"==d?i.push(l):"negative"==d?r.push(l):n.push(l),o[l]=a}}else if(1==s.ds.checked){l=s.ds.value;n.push(l),o[l]=0,local_checked_DSs.push(l)}var h=document.getElementById(this.time_sel_id);timezone_shift=h.options[h.selectedIndex].value;var c=rrdRRAStackFlotObj(this.rrd_file,e,i,r,n,3600*timezone_shift);for(a=0;a<c.data.length;a++){var u,p=c.data[a].label,f=o[p];if(null!=this.ds_graph_options[p])null!=(u=this.ds_graph_options[p]).color&&(f=u.color),null!=u.label?c.data[a].label=u.label:null!=u.title&&(c.data[a].label=u.title),null!=u.lines&&(c.data[a].lines=u.lines),null!=u.yaxis&&(c.data[a].yaxis=u.yaxis);c.data[a].color=f}this.bindFlotGraph(c)},rrdFlot.prototype.bindFlotGraph=function(t){var i=this,e=document.getElementById(this.legend_sel_id),r=e.options[e.selectedIndex].value,n="#"+this.graph_id,o="#"+this.scale_id,s={legend:{show:!1,position:"nw",noColumns:3},lines:{show:!0},xaxis:{mode:"time"},yaxis:{autoscaleMargin:.2},selection:{mode:"x"},tooltip:!0,tooltipOpts:{content:"<h4>%s</h4> Value: %y.3"},grid:{hoverable:!0}};if("None"==r||(s.legend.show=!0,s.legend.position=r),null!=this.graph_options&&(s=populateGraphOptions(s,this.graph_options)),0==s.tooltip&&(s.grid.hoverable=!1),this.selection_range.isSet()){var a=this.selection_range.getFlotRanges();this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=a.xaxis.from,s.xaxis.max=a.xaxis.to)}else this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=t.min,s.xaxis.max=t.max);var l={legend:{show:!1},lines:{show:!0},xaxis:{mode:"time",min:t.min,max:t.max},yaxis:s.yaxis,selection:{mode:"x"}},d=t.data,h=this.selection_range.trim_flot_data(d),c=d;this.graph=$.plot($(n),h,s),this.scale=$.plot($(o),c,l),this.rrdflot_defaults.use_windows&&(ranges={xaxis:[]},ranges.xaxis.from=this.rrdflot_defaults.window_min,ranges.xaxis.to=this.rrdflot_defaults.window_max,i.scale.setSelection(ranges,!0),window_min=ranges.xaxis.from,window_max=ranges.xaxis.to),this.selection_range.isSet()&&this.scale.setSelection(this.selection_range.getFlotRanges(),!0),$(n).unbind("plotselected"),$(n).bind("plotselected",function(t,e){i.selection_range.setFromFlotRanges(e),s.xaxis.min=e.xaxis.from,s.xaxis.max=e.xaxis.to,window_min=e.xaxis.from,window_max=e.xaxis.to,i.graph=$.plot($(n),i.selection_range.trim_flot_data(d),s),i.scale.setSelection(e,!0)}),$(o).unbind("plotselected"),$(o).bind("plotselected",function(t,e){i.graph.setSelection(e)}),$(o).bind("plotunselected",function(){i.selection_range.reset(),s.xaxis.min=t.min,s.xaxis.max=t.max,i.graph=$.plot($(n),i.selection_range.trim_flot_data(d),s),window_max=window_min=0})},rrdFlot.prototype.callback_res_changed=function(){this.rrdflot_defaults.use_rra=!1,this.drawFlotGraph()},rrdFlot.prototype.callback_ds_cb_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_scale_reset=function(){this.scale.clearSelection()},rrdFlot.prototype.callback_legend_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_timezone_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_elem_group_changed=function(t){var e=document.getElementById(this.ds_cb_id);e.ds.length;if(0<e.ds.length)for(var i=0;i<e.ds.length;i++)Math.floor(i/this.rrdflot_defaults.num_cb_rows)==t-1?e.ds[i].checked=!0:e.ds[i].checked=!1;this.drawFlotGraph()},rrdFlotAsync.prototype.reload=function(t){this.url=t;try{FetchBinaryURLAsync(t,rrdFlotAsyncCallback,this)}catch(e){alert("Failed loading "+t+"\n"+e)}},rrdFlotAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj,this.customization_callback!=undefined&&this.customization_callback(this);var t=this.rrd_data;this.ds_op_list!=undefined&&(t=new RRDFilterOp(t,this.ds_op_list)),this.rra_op_list!=undefined&&(t=new RRDRRAFilterAvg(t,this.rra_op_list)),this.rrd_flot_obj=new rrdFlot(this.html_id,t,this.graph_options,this.ds_graph_options,this.rrdflot_defaults)},rrdFlotSumAsync.prototype.reload=function(t){rrdFlotMultiAsyncReload(this,t)},rrdFlotSumAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj;var t=new Array;for(i in this.loaded_data){var e=this.loaded_data[i];e!=undefined&&t.push(e)}var r=new RRDFileSum(t,this.sumfile_options);null!=this.rrd_data&&delete this.rrd_data,this.rrd_data=r,this.customization_callback!=undefined&&this.customization_callback(this),r=this.rrd_data,this.ds_op_list!=undefined&&(r=new RRDFilterOp(r,this.ds_op_list)),this.rra_op_list!=undefined&&(r=new RRDRRAFilterAvg(r,this.rra_op_list)),this.rrd_flot_obj=new rrdFlot(this.html_id,r,this.graph_options,this.ds_graph_options,this.rrdflot_defaults)},rrdFlotMatrixAsync.prototype.reload=function(t){this.url_pair_list=t;var e=[];for(var i in this.url_pair_list)e.push(this.url_pair_list[i][1]);rrdFlotMultiAsyncReload(this,e)},rrdFlotMatrixAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj;var t=new Array;for(var e in this.loaded_data){var i=this.loaded_data[e];i!=undefined&&t.push([this.url_pair_list[e][0],i])}for(var e in this.rrd_data=t[0],this.customization_callback!=undefined&&this.customization_callback(this),t)this.ds_op_list!=undefined&&(t[e]=new RRDFilterOp(t[e],this.ds_op_list)),this.rra_op_list!=undefined&&(t[e]=new RRDRRAFilterAvg(t[e],this.rra_op_list));this.rrd_flot_obj=new rrdFlotMatrix(this.html_id,t,this.ds_list,this.graph_options,this.rrd_graph_options,this.rrdflot_defaults)};