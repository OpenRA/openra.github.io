/* Javascript plotting library for jQuery, version 0.8.3.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/
/*
 * BinaryFile over XMLHttpRequest
 * Part of the javascriptRRD package
 * Copyright (c) 2009 Frank Wuerthwein, fkw@ucsd.edu
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 *
 * Based on:
 *   Binary Ajax 0.1.5
 *   Copyright (c) 2008 Jacob Seidelin, cupboy@gmail.com, http://blog.nihilogic.dk/
 *   MIT License [http://www.opensource.org/licenses/mit-license.php]
 */
function InvalidBinaryFile(t){this.message=t,this.name="Invalid BinaryFile"}function BinaryFile(t,e,i){var r=t,n=e||0,o=0,s=Math.pow(2,-28),a=Math.pow(2,-52),l=Math.pow(2,-20);if(this.getRawData=function(){return r},"string"==typeof t)o=i||r.length,this.getByteAt=function(t){return 255&r.charCodeAt(t+n)};else{if("unknown"!=typeof t)throw new InvalidBinaryFile("Unsupported type "+typeof t);o=i||IEBinary_getLength(r),this.getByteAt=function(t){return IEBinary_getByteAt(r,t+n)}}this.getEndianByteAt=function(t,e,i){return this.switch_endian?this.getByteAt(t+e-i-1):this.getByteAt(t+i)},this.getLength=function(){return o},this.getSByteAt=function(t){var e=this.getByteAt(t);return e>127?e-256:e},this.getShortAt=function(t){var e=(this.getEndianByteAt(t,2,1)<<8)+this.getEndianByteAt(t,2,0);return e<0&&(e+=65536),e},this.getSShortAt=function(t){var e=this.getShortAt(t);return e>32767?e-65536:e},this.getLongAt=function(t){var e=this.getEndianByteAt(t,4,0),i=this.getEndianByteAt(t,4,1),r=this.getEndianByteAt(t,4,2),n=(((this.getEndianByteAt(t,4,3)<<8)+r<<8)+i<<8)+e;return n<0&&(n+=4294967296),n},this.getSLongAt=function(t){var e=this.getLongAt(t);return e>2147483647?e-4294967296:e},this.getStringAt=function(t,e){for(var i=[],r=t,n=0;r<t+e;r++,n++)i[n]=String.fromCharCode(this.getByteAt(r));return i.join("")},this.getCStringAt=function(t,e){for(var i=[],r=t,n=0;r<t+e&&this.getByteAt(r)>0;r++,n++)i[n]=String.fromCharCode(this.getByteAt(r));return i.join("")},this.getDoubleAt=function(t){var e=this.getEndianByteAt(t,8,0),i=this.getEndianByteAt(t,8,1),r=this.getEndianByteAt(t,8,2),n=this.getEndianByteAt(t,8,3),o=this.getEndianByteAt(t,8,4),l=this.getEndianByteAt(t,8,5),d=this.getEndianByteAt(t,8,6),h=this.getEndianByteAt(t,8,7),c=((127&h)<<4)+(d>>4),u=((((15&d)<<8)+l<<8)+o<<8)+n,p=((r<<8)+i<<8)+e;if(0==c)return 0;if(2047==c)return undefined;var f=(2047&c)-1023;return(1==h>>7?-1:1)*Math.pow(2,f)*(1+p*a+u*s)},this.getFastDoubleAt=function(t){var e=this.getEndianByteAt(t,8,4),i=this.getEndianByteAt(t,8,5),r=this.getEndianByteAt(t,8,6),n=this.getEndianByteAt(t,8,7),o=((127&n)<<4)+(r>>4),s=(((15&r)<<8)+i<<8)+e;if(0==o)return 0;if(2047==o)return undefined;var a=(2047&o)-1023;return(1==n>>7?-1:1)*Math.pow(2,a)*(1+s*l)},this.getCharAt=function(t){return String.fromCharCode(this.getByteAt(t))}}function FetchBinaryURL(t){var e=new XMLHttpRequest;e.open("GET",t,!1);try{e.overrideMimeType("text/plain; charset=x-user-defined")}catch(r){}e.send(null);var i=this.responseText;try{IEBinary_getLength(this.responseBody)>0&&(i=this.responseBody)}catch(r){}return new BinaryFile(i)}function FetchBinaryURLAsync(t,e,i){var r=function(){if(4==this.readyState){var t=this.responseText;try{IEBinary_getLength(this.responseBody)>0&&(t=this.responseBody)}catch(n){}var r=new BinaryFile(t);null!=i?e(r,i):e(r)}},n=new XMLHttpRequest;n.onreadystatechange=r,n.open("GET",t,!0);try{n.overrideMimeType("text/plain; charset=x-user-defined")}catch(o){}return n.send(null),n}
/*
 * Client library for access to RRD archive files
 * Part of the javascriptRRD package
 * Copyright (c) 2009-2010 Frank Wuerthwein, fkw@ucsd.edu
 *                         Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */function InvalidRRD(t){this.message=t,this.name="Invalid RRD"}function RRDDS(t,e,i){this.rrd_data=t,this.rrd_data_idx=e,this.my_idx=i}function RRDRRAInfo(t,e,i,r,n,o){this.rrd_data=t,this.rra_def_idx=e,this.int_align=i,this.row_cnt=r,this.pdp_step=n,this.my_idx=o,this.rra_pdp_cnt_idx=e+Math.ceil(20/i)*i+i}function RRDRRA(t,e,i,r,n,o){this.rrd_data=t,this.rra_info=i,this.row_cnt=i.row_cnt,this.ds_cnt=o;var s=8*o;this.base_rrd_db_idx=r+n*s,this.cur_row=t.getLongAt(e),this.calc_idx=function(t,e){if(t>=0&&t<this.row_cnt){if(e>=0&&e<o){var i=t+this.cur_row+1;return i>=this.row_cnt&&(i-=this.row_cnt),s*i+8*e}throw RangeError("DS idx ("+t+") out of range [0-"+o+").")}throw RangeError("Row idx ("+t+") out of range [0-"+this.row_cnt+").")}}function RRDHeader(t){this.rrd_data=t,this.validate_rrd(),this.calc_idxs()}function RRDFile(t,e){this.file_options=e;var i=t;this.rrd_header=new RRDHeader(i),this.rrd_header.load_row_cnts(),this.getMinStep=function(){return this.rrd_header.getMinStep()},this.getLastUpdate=function(){return this.rrd_header.getLastUpdate()},this.getNrDSs=function(){return this.rrd_header.getNrDSs()},this.getDSNames=function(){return this.rrd_header.getDSNames()},this.getDS=function(t){return"number"==typeof t?this.rrd_header.getDSbyIdx(t):this.rrd_header.getDSbyName(t)},this.getNrRRAs=function(){return this.rrd_header.getNrRRAs()},this.getRRAInfo=function(t){return this.rrd_header.getRRAInfo(t)},this.getRRA=function(t){return rra_info=this.rrd_header.getRRAInfo(t),new RRDRRA(i,this.rrd_header.rra_ptr_idx+t*this.rrd_header.rra_ptr_el_size,rra_info,this.rrd_header.header_size,this.rrd_header.rra_def_row_cnt_sums[t],this.rrd_header.ds_cnt)}}
/*
 * Support library aimed at providing commonly used functions and classes
 * that may be used while plotting RRD files with Flot
 *
 * Part of the javascriptRRD package
 * Copyright (c) 2009 Frank Wuerthwein, fkw@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */function rrdDS2FlotSeries(t,e,i,r){var n=t.getDS(e),o=n.getName(),s=n.getIdx(),a=t.getRRA(i),l=a.getNrRows(),d=t.getLastUpdate(),h=a.getStep();0!=r&&(d-=d%h);for(var c=d-(l-1)*h,u=c,p=[],f=0;f<l;f++){var _=a.getEl(f,s);_!=undefined&&p.push([1e3*u,_]),u+=h}return{label:o,data:p,min:1e3*c,max:1e3*d}}function rrdRRA2FlotObj(t,e,i,r,n){var o=t.getRRA(e),s=o.getNrRows(),a=t.getLastUpdate(),l=o.getStep();0!=n&&(a-=a%l);for(var d=a-(s-1)*l,h={data:[],min:1e3*d,max:1e3*a},c=i.length,u=0;u<c;++u){for(var p=i[u],f=t.getDS(p),_=f.getName(),g=f.getIdx(),m=d,x=[],v=0;v<s;v++){var R=o.getEl(v,g);R!=undefined&&x.push([1e3*m,R]),m+=l}var y={data:x};if(0!=r){_=f.getName();y.label=_}h.data.push(y)}return h}function rrdRRAStackFlotObj(t,e,i,r,n,o,s,a,l){var d=t.getRRA(e),h=d.getNrRows(),c=t.getLastUpdate(),u=d.getStep();0!=a&&(c-=c%u),1!=l&&(l=!1);for(var p=c-(h-1)*u,f={data:[],min:1e3*(p+o),max:1e3*(c+o)},_=[i,r],g=_.length,m=0;m<g;++m){for(var x=_[m],v=[],R=[],y=x.length,b=x.length,w=0;w<b;++w){var S=x[w],k=(z=t.getDS(S)).getName(),D=z.getIdx();R.push(D);var F={data:[]};if(0!=s){k=z.getName();F.label=k}v.push(F)}for(var A=p,C=0;C<h;C++){for(var M=[],I=!0,N=!0,T=0;T<y;T++){D=R[T];(j=d.getEl(C,D))!=undefined?(I=!1,M.push(j)):(N=!1,M.push(0))}if(!I&&(N||!l)){for(T=1;T<y;T++)M[T]+=M[T-1];for(T=0;T<y;T++)v[T].data.push([1e3*(A+o),M[T]])}A+=u}for(T=0;T<y;T++)f.data.push(v[y-T-1])}var E=n.length;for(w=0;w<E;++w){S=n[w],k=(z=t.getDS(S)).getName(),D=z.getIdx(),A=p;for(var z,O=[],B=0;B<h;B++){var j;(j=d.getEl(B,D))!=undefined&&O.push([1e3*(A+o),j]),A+=u}F={data:O};if(0!=s){k=z.getName();F.label=k}f.data.push(F)}return f}function rrdRRAMultiStackFlotObj(t,e,i,r,n,o){for(var s=t[0][1].getRRA(e),a=s.getNrRows(),l=s.getStep(),d=t[0][1].getDS(i).getIdx(),h=null,c=null,u=[],p=[],f=[],_=t.length,g=0;g<_;g++){var m=t[g][1],x=m.getRRA(e),v=m.getLastUpdate();0!=n&&(v-=v%l),f.push(v);var R=v-(a-1)*l;(null==h||v>h)&&(h=v),(null==c||R<c)&&(c=R),p.push(x);var y={data:[]};if(0!=r){var b=t[g][0];y.label=b}u.push(y)}for(var w={data:[],min:1e3*c,max:1e3*h},S=c;S<=h;S+=l){var k=[],D=!0,F=!0;for(g=0;g<_;g++){x=p[g],v=f[g];var A=Math.round((v-S)/l),C=undefined;A>=0&&A<a&&(C=x.getEl(a-A-1,d)),C!=undefined?(D=!1,k.push(C)):(F=!1,k.push(0))}if(!D&&(F||!o)){for(g=1;g<_;g++)k[g]+=k[g-1];for(g=0;g<_;g++)u[g].data.push([1e3*S,k[g]])}}for(g=0;g<_;g++)w.data.push(u[_-g-1]);return w}function rrdFlotSelection(){this.selection_min=null,this.selection_max=null}function rfs_format_time(t){if(t<120)return t+"s";var e=t%60,i=(t-e)/60;if(i<10&&e>9)return i+":"+e+"min";if(i<120)return i+"min";var r=i%60,n=(i-r)/60;if(n<12&&r>9)return n+":"+r+"h";if(n<48)return n+"h";var o=n%24,s=(n-o)/24;return s<7&&o>0?s+" days "+o+"h":s<60?s+" days":(s-s%30)/30+" months"}
/*
 * RRD graphing libraries, based on Flot
 * Part of the javascriptRRD package
 * Copyright (c) 2010 Frank Wuerthwein, fkw@ucsd.edu
 *                    Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */function rrdFlot(t,e,i,r,n){this.html_id=t,this.rrd_file=e,this.graph_options=i,this.rrdflot_defaults=null==n?new Object:n,this.ds_graph_options=null==r?new Object:r,this.selection_range=new rrdFlotSelection,graph_info={},this.createHTML(),this.populateRes(),this.populateDScb(),this.drawFlotGraph(),1==this.rrdflot_defaults.graph_only&&this.cleanHTMLCruft()}function getGraphInfo(){var t={};return t.dss=local_checked_DSs,t.rra=selected_rra,t.window_min=window_min,t.window_max=window_max,t.timezone=timezone_shift,t}function resetWindow(){window_min=0,window_max=0}function populateGraphOptions(t,i){for(e in i)t[e]!=undefined?"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions(t[e],i[e]):t[e]=i[e]:"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions({},i[e]):t[e]=i[e];return t}function rrdFlotMatrix(t,e,i,r,n,o){if(this.html_id=t,this.rrd_files=e,this.rrdflot_defaults=null==o?new Object:o,null==i){this.ds_list=[];for(var s=this.rrd_files[0][1].getNrDSs(),a=0;a<s;a++){var l=this.rrd_files[0][1].getDS(a).getName();this.ds_list.push([l,l])}}else this.ds_list=i;this.graph_options=r,this.rrd_graph_options=null==n?new Object:n,this.selection_range=new rrdFlotSelection,this.createHTML(),this.populateDS(),this.populateRes(),this.populateRRDcb(),this.drawFlotGraph(),1==this.rrdflot_defaults.graph_only&&this.cleanHTMLCruft()}function populateGraphOptions(t,i){for(e in i)t[e]!=undefined?"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions(t[e],i[e]):t[e]=i[e]:"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions({},i[e]):t[e]=i[e];return t}
/*
 * Filter classes for rrdFile
 * They implement the same interface, but changing the content
 * 
 * Part of the javascriptRRD package
 * Copyright (c) 2009 Frank Wuerthwein, fkw@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
function RRDRRAFilterDS(t,e){this.rrd_rra=t,this.ds_list=e}function RRDFilterDS(t,e){this.rrd_file=t,this.ds_list=[];for(var i=0;i<e.length;i++){var r=t.getDS(e[i]),n=new RRDDS(r.rrd_data,r.rrd_data_idx,i);n.real_ds_idx=r.my_idx,this.ds_list.push(n)}}function RRDFltOpIdent(t){this.getName=function(){return t},this.getDSNames=function(){return[t]},this.computeResult=function(t){return t[0]}}function RRDFltOpIdentId(t,e){this.ds_name=t.getDS(e).getName(),this.getName=function(){return this.ds_name},this.getDSNames=function(){return[this.ds_name]},this.computeResult=function(t){return t[0]}}function RRDDSFilterOp(t,e,i){this.rrd_file=t,this.op_obj=e,this.my_idx=i;for(var r=e.getDSNames(),n=[],o=0;o<r.length;o++)n.push(t.getDS(r[o]).getIdx());this.ds_idx_list=n}function RRDRRAFilterOp(t,e){this.rrd_rra=t,this.ds_list=e}function RRDFilterOp(t,e){for(i in this.rrd_file=t,this.ds_list=[],e){var r=e[i],n=null;n="string"==typeof r?new RRDFltOpIdent(r):"number"==typeof r?new RRDFltOpIdentId(this.rrd_file,r):r,this.ds_list.push(new RRDDSFilterOp(t,n,i))}}function RRAFilterShift(t,e,i){this.rrd_file=t,this.shift_int=e,this.rra_list=i,this.shift_in_seconds=3600*this.shift_int}function RRDRRAFltAvgOpNewStep(t,e){this.getIdx=function(){return t},this.getStep=function(){return e}}function RRAInfoFilterAvg(t,e,i,r){this.rrd_file=t,this.op_obj=i,this.base_rra=t.getRRA(this.op_obj.getIdx()),this.rra=e,this.idx=r;var n=1;null!=this.op_obj.getStep()&&(n=this.op_obj.getStep()/this.base_rra.getStep()),this.scaler=n}function RRAFilterAvg(t,e){this.rrd_file=t,this.op_obj=e,this.base_rra=t.getRRA(e.getIdx());var i=1;null!=e.getStep()&&(i=e.getStep()/this.base_rra.getStep()),this.scaler=Math.floor(i)}function RRDRRAFilterAvg(t,e){for(var i in this.rrd_file=t,this.op_obj_list=new Array,this.rra_list=[],e){var r=e[i],n=null;n="[object Number]"==Object.prototype.toString.call(r)?new RRDRRAFltAvgOpNewStep(r,null):"[object Array]"==Object.prototype.toString.call(r)?new RRDRRAFltAvgOpNewStep(r[0],r[1]):r,this.op_obj_list.push(n),this.rra_list.push(new RRAFilterAvg(t,n))}}
/*
 * Combine multiple rrdFiles into one object
 * It implements the same interface, but changing the content
 * 
 * Part of the javascriptRRD package
 * Copyright (c) 2010 Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
function RRDRRASum(t,e,i){this.rra_list=t,this.offset_list=e,this.treat_undefined_as_zero=i,this.row_cnt=this.rra_list[0].getNrRows()}function rrdFileSort(t,e){return e.getLastUpdate()-t.getLastUpdate()}function RRDFileSum(t,e){e==undefined?e={}:"boolean"==typeof e&&(e={treat_undefined_as_zero:e}),this.sumfile_options=e,this.sumfile_options.treat_undefined_as_zero==undefined?this.treat_undefined_as_zero=!0:this.treat_undefined_as_zero=this.sumfile_options.treat_undefined_as_zero,this.file_list=t,this.file_list.sort(),this.getMinStep=function(){return this.file_list[0].getMinStep()},this.getLastUpdate=function(){return this.file_list[0].getLastUpdate()},this.getNrDSs=function(){return this.file_list[0].getNrDSs()},this.getDSNames=function(){return this.file_list[0].getDSNames()},this.getDS=function(t){return this.file_list[0].getDS(t)},this.getNrRRAs=function(){return this.file_list[0].getNrRRAs()},this.getRRAInfo=function(t){return this.file_list[0].getRRAInfo(t)},this.getRRA=function(e){var i=this.getRRAInfo(e).getStep(),r=undefined,n=new Array,o=new Array;for(var s in this.file_list)file=t[s],fileLastUpdate=file.getLastUpdate(),r!=undefined?fileSkrew=Math.floor((r-fileLastUpdate)/i):(fileSkrew=0,firstLastUpdate=fileLastUpdate),o.push(fileSkrew),fileRRA=file.getRRA(e),n.push(fileRRA);return new RRDRRASum(n,o,this.treat_undefined_as_zero)}}
/*
 * Async versions of the rrdFlot class
 * Part of the javascriptRRD package
 * Copyright (c) 2013 Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */function rrdFlotAsyncCallback(t,e){var i=undefined;if(t.getLength()<1)return alert("File "+e.url+" is empty (possibly loading failed)!"),1;try{i=new RRDFile(t,e.file_options)}catch(r){alert("File "+e.url+" is not a valid RRD archive!\n"+r)}i!=undefined&&(null!=e.rrd_data&&delete e.rrd_data,e.rrd_data=i,e.callback())}function rrdFlotAsync(t,e,i,r,n,o,s,a,l){this.html_id=t,this.url=e,this.file_options=i,this.graph_options=r,this.ds_graph_options=n,this.rrdflot_defaults=o,this.ds_op_list=s,this.rra_op_list=a,this.customization_callback=l,this.rrd_flot_obj=null,this.rrd_data=null,null!=e&&this.reload(e)}function rrdFlotMultiAsyncCallback(t,e){var i=e[0],r=e[1];i.files_loaded++;var n=undefined;if(t.getLength()<1)alert("File "+i.url_list[r]+" is empty (possibly loading failed)! You may get a parial result in the graph.");else try{n=new RRDFile(t,i.file_options)}catch(o){alert("File "+i.url_list[r]+" is not a valid RRD archive! You may get a partial result in the graph.\n"+o)}n!=undefined&&(i.loaded_data[r]=n),i.files_loaded==i.files_needed&&i.callback()}function rrdFlotMultiAsyncReload(t,e){for(i in t.files_needed=e.length,t.url_list=e,delete t.loaded_data,t.loaded_data=[],t.files_loaded=0,e)try{FetchBinaryURLAsync(e[i],rrdFlotMultiAsyncCallback,[t,i])}catch(r){alert("Failed loading "+e[i]+". You may get a partial result in the graph.\n"+r),t.files_needed--}}function rrdFlotSumAsync(t,e,i,r,n,o,s,a,l,d){this.html_id=t,this.url_list=e,this.file_options=i,this.sumfile_options=r,this.graph_options=n,this.ds_graph_options=o,this.rrdflot_defaults=s,this.ds_op_list=a,this.rra_op_list=l,this.customization_callback=d,this.rrd_flot_obj=null,this.rrd_data=null,this.loaded_data=null,null!=e&&this.reload(e)}function rrdFlotMatrixAsync(t,e,i,r,n,o,s,a,l,d){this.html_id=t,this.url_pair_list=e,this.file_options=i,this.ds_list=r,this.graph_options=n,this.rrd_graph_options=o,this.rrdflot_defaults=s,this.ds_op_list=a,this.rra_op_list=l,this.customization_callback=d,this.rrd_flot_obj=null,this.rrd_data=null,this.loaded_data=null,this.url_list=null,null!=e&&this.reload(e)}function rrdFlot(t,e,i,r,n){this.html_id=t,this.rrd_file=e,this.graph_options=i,this.rrdflot_defaults=null==n?new Object:n,this.ds_graph_options=null==r?new Object:r,this.selection_range=new rrdFlotSelection,graph_info={},this.createHTML(),this.populateRes(),this.populateDScb(),this.drawFlotGraph(),1==this.rrdflot_defaults.graph_only&&this.cleanHTMLCruft()}function getGraphInfo(){var t={};return t.dss=local_checked_DSs,t.rra=selected_rra,t.window_min=window_min,t.window_max=window_max,t.timezone=timezone_shift,t}function resetWindow(){window_min=0,window_max=0}function populateGraphOptions(t,i){for(e in i)t[e]!=undefined?"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions(t[e],i[e]):t[e]=i[e]:"[object Object]"==Object.prototype.toString.call(i[e])?t[e]=populateGraphOptions({},i[e]):t[e]=i[e];return t}
/*
 * Async versions of the rrdFlot class
 * Part of the javascriptRRD package
 * Copyright (c) 2013 Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
function rrdFlotAsyncCallback(t,e){var i=undefined;if(t.getLength()<1)return alert("File "+e.url+" is empty (possibly loading failed)!"),1;try{i=new RRDFile(t,e.file_options)}catch(r){alert("File "+e.url+" is not a valid RRD archive!\n"+r)}i!=undefined&&(null!=e.rrd_data&&delete e.rrd_data,e.rrd_data=i,e.callback())}function rrdFlotAsync(t,e,i,r,n,o,s,a,l){this.html_id=t,this.url=e,this.file_options=i,this.graph_options=r,this.ds_graph_options=n,this.rrdflot_defaults=o,this.ds_op_list=s,this.rra_op_list=a,this.customization_callback=l,this.rrd_flot_obj=null,this.rrd_data=null,null!=e&&this.reload(e)}function rrdFlotMultiAsyncCallback(t,e){var i=e[0],r=e[1];i.files_loaded++;var n=undefined;if(t.getLength()<1)alert("File "+i.url_list[r]+" is empty (possibly loading failed)! You may get a parial result in the graph.");else try{n=new RRDFile(t,i.file_options)}catch(o){alert("File "+i.url_list[r]+" is not a valid RRD archive! You may get a partial result in the graph.\n"+o)}n!=undefined&&(i.loaded_data[r]=n),i.files_loaded==i.files_needed&&i.callback()}function rrdFlotMultiAsyncReload(t,e){for(i in t.files_needed=e.length,t.url_list=e,delete t.loaded_data,t.loaded_data=[],t.files_loaded=0,e)try{FetchBinaryURLAsync(e[i],rrdFlotMultiAsyncCallback,[t,i])}catch(r){alert("Failed loading "+e[i]+". You may get a partial result in the graph.\n"+r),t.files_needed--}}function rrdFlotSumAsync(t,e,i,r,n,o,s,a,l,d){this.html_id=t,this.url_list=e,this.file_options=i,this.sumfile_options=r,this.graph_options=n,this.ds_graph_options=o,this.rrdflot_defaults=s,this.ds_op_list=a,this.rra_op_list=l,this.customization_callback=d,this.rrd_flot_obj=null,this.rrd_data=null,this.loaded_data=null,null!=e&&this.reload(e)}function rrdFlotMatrixAsync(t,e,i,r,n,o,s,a,l,d){this.html_id=t,this.url_pair_list=e,this.file_options=i,this.ds_list=r,this.graph_options=n,this.rrd_graph_options=o,this.rrdflot_defaults=s,this.ds_op_list=a,this.rra_op_list=l,this.customization_callback=d,this.rrd_flot_obj=null,this.rrd_data=null,this.loaded_data=null,this.url_list=null,null!=e&&this.reload(e)}!function(t){t.color={},t.color.make=function(e,i,r,n){var o={};return o.r=e||0,o.g=i||0,o.b=r||0,o.a=null!=n?n:1,o.add=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]+=e;return o.normalize()},o.scale=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]*=e;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,i){return e<t?t:e>i?i:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return t.color.make(o.r,o.b,o.g,o.a)},o.normalize()},t.color.extract=function(e,i){var r;do{if(""!=(r=e.css(i).toLowerCase())&&"transparent"!=r)break;e=e.parent()}while(e.length&&!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==r&&(r="transparent"),t.color.parse(r)},t.color.parse=function(i){var r,n=t.color.make;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return n(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return n(2.55*parseFloat(r[1]),2.55*parseFloat(r[2]),2.55*parseFloat(r[3]));if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(2.55*parseFloat(r[1]),2.55*parseFloat(r[2]),2.55*parseFloat(r[3]),parseFloat(r[4]));if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return n(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return n(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));var o=t.trim(i).toLowerCase();return"transparent"==o?n(255,255,255,0):n((r=e[o]||[0,0,0])[0],r[1],r[2])};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,i){var r=i.children("."+e)[0];if(null==r&&((r=document.createElement("canvas")).className=e,t(r).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!r.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");r=window.G_vmlCanvasManager.initElement(r)}this.element=r;var n=this.context=r.getContext("2d"),o=window.devicePixelRatio||1,s=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;this.pixelRatio=o/s,this.resize(i.width(),i.height()),this.textContainer=null,this.text={},this._textCache={}}function i(i,n,o,s){function a(t,e){e=[gt].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function l(){for(var i={Canvas:e},r=0;r<s.length;++r){var n=s[r];n.init(gt,i),n.options&&t.extend(!0,nt,n.options)}}function d(e){t.extend(!0,nt,e),e&&e.colors&&(nt.colors=e.colors),null==nt.xaxis.color&&(nt.xaxis.color=t.color.parse(nt.grid.color).scale("a",.22).toString()),null==nt.yaxis.color&&(nt.yaxis.color=t.color.parse(nt.grid.color).scale("a",.22).toString()),null==nt.xaxis.tickColor&&(nt.xaxis.tickColor=nt.grid.tickColor||nt.xaxis.color),null==nt.yaxis.tickColor&&(nt.yaxis.tickColor=nt.grid.tickColor||nt.yaxis.color),null==nt.grid.borderColor&&(nt.grid.borderColor=nt.grid.color),null==nt.grid.tickColor&&(nt.grid.tickColor=t.color.parse(nt.grid.color).scale("a",.22).toString());var r,n,o,s=i.css("font-size"),l=s?+s.replace("px",""):13,d={style:i.css("font-style"),size:Math.round(.8*l),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")};for(o=nt.xaxes.length||1,r=0;r<o;++r)(n=nt.xaxes[r])&&!n.tickColor&&(n.tickColor=n.color),n=t.extend(!0,{},nt.xaxis,n),nt.xaxes[r]=n,n.font&&(n.font=t.extend({},d,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(o=nt.yaxes.length||1,r=0;r<o;++r)(n=nt.yaxes[r])&&!n.tickColor&&(n.tickColor=n.color),n=t.extend(!0,{},nt.yaxis,n),nt.yaxes[r]=n,n.font&&(n.font=t.extend({},d,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(nt.xaxis.noTicks&&null==nt.xaxis.ticks&&(nt.xaxis.ticks=nt.xaxis.noTicks),nt.yaxis.noTicks&&null==nt.yaxis.ticks&&(nt.yaxis.ticks=nt.yaxis.noTicks),nt.x2axis&&(nt.xaxes[1]=t.extend(!0,{},nt.xaxis,nt.x2axis),nt.xaxes[1].position="top",null==nt.x2axis.min&&(nt.xaxes[1].min=null),null==nt.x2axis.max&&(nt.xaxes[1].max=null)),nt.y2axis&&(nt.yaxes[1]=t.extend(!0,{},nt.yaxis,nt.y2axis),nt.yaxes[1].position="right",null==nt.y2axis.min&&(nt.yaxes[1].min=null),null==nt.y2axis.max&&(nt.yaxes[1].max=null)),nt.grid.coloredAreas&&(nt.grid.markings=nt.grid.coloredAreas),nt.grid.coloredAreasColor&&(nt.grid.markingsColor=nt.grid.coloredAreasColor),nt.lines&&t.extend(!0,nt.series.lines,nt.lines),nt.points&&t.extend(!0,nt.series.points,nt.points),nt.bars&&t.extend(!0,nt.series.bars,nt.bars),null!=nt.shadowSize&&(nt.series.shadowSize=nt.shadowSize),null!=nt.highlightColor&&(nt.series.highlightColor=nt.highlightColor),r=0;r<nt.xaxes.length;++r)g(ht,r+1).options=nt.xaxes[r];for(r=0;r<nt.yaxes.length;++r)g(ct,r+1).options=nt.yaxes[r];for(var h in _t)nt.hooks[h]&&nt.hooks[h].length&&(_t[h]=_t[h].concat(nt.hooks[h]));a(_t.processOptions,[nt])}function h(t){rt=c(t),m(),x()}function c(e){for(var i=[],r=0;r<e.length;++r){var n=t.extend(!0,{},nt.series);null!=e[r].data?(n.data=e[r].data,delete e[r].data,t.extend(!0,n,e[r]),e[r].data=n.data):n.data=e[r],i.push(n)}return i}function u(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function p(){return t.grep(ht.concat(ct),function(t){return t})}function f(t){var e,i,r={};for(e=0;e<ht.length;++e)(i=ht[e])&&i.used&&(r["x"+i.n]=i.c2p(t.left));for(e=0;e<ct.length;++e)(i=ct[e])&&i.used&&(r["y"+i.n]=i.c2p(t.top));return r.x1!==undefined&&(r.x=r.x1),r.y1!==undefined&&(r.y=r.y1),r}function _(t){var e,i,r,n={};for(e=0;e<ht.length;++e)if((i=ht[e])&&i.used&&(null==t[r="x"+i.n]&&1==i.n&&(r="x"),null!=t[r])){n.left=i.p2c(t[r]);break}for(e=0;e<ct.length;++e)if((i=ct[e])&&i.used&&(null==t[r="y"+i.n]&&1==i.n&&(r="y"),null!=t[r])){n.top=i.p2c(t[r]);break}return n}function g(e,i){return e[i-1]||(e[i-1]={n:i,direction:e==ht?"x":"y",options:t.extend(!0,{},e==ht?nt.xaxis:nt.yaxis)}),e[i-1]}function m(){var e,i=rt.length,r=-1;for(e=0;e<rt.length;++e){var n=rt[e].color;null!=n&&(i--,"number"==typeof n&&n>r&&(r=n))}i<=r&&(i=r+1);var o,s=[],a=nt.colors,l=a.length,d=0;for(e=0;e<i;e++)o=t.color.parse(a[e%l]||"#666"),e%l==0&&e&&(d=d>=0?d<.5?-d-.2:0:-d),s[e]=o.scale("rgb",1+d);var h,c=0;for(e=0;e<rt.length;++e){if(null==(h=rt[e]).color?(h.color=s[c].toString(),++c):"number"==typeof h.color&&(h.color=s[h.color].toString()),null==h.lines.show){var p,f=!0;for(p in h)if(h[p]&&h[p].show){f=!1;break}f&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=g(ht,u(h,"x")),h.yaxis=g(ct,u(h,"y"))}}function x(){function e(t,e,i){e<t.datamin&&e!=-x&&(t.datamin=e),i>t.datamax&&i!=x&&(t.datamax=i)}var i,r,n,o,s,l,d,h,c,u,f,_,g=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,x=Number.MAX_VALUE;for(t.each(p(),function(t,e){e.datamin=g,e.datamax=m,e.used=!1}),i=0;i<rt.length;++i)(s=rt[i]).datapoints={points:[]},a(_t.processRawData,[s,s.data,s.datapoints]);for(i=0;i<rt.length;++i){if(f=(s=rt[i]).data,!(_=s.datapoints.format)){if((_=[]).push({x:!0,number:!0,required:!0}),_.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var v=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);_.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:v}),s.bars.horizontal&&(delete _[_.length-1].y,_[_.length-1].x=!0)}s.datapoints.format=_}if(null==s.datapoints.pointsize){s.datapoints.pointsize=_.length,d=s.datapoints.pointsize,l=s.datapoints.points;var R=s.lines.show&&s.lines.steps;for(s.xaxis.used=s.yaxis.used=!0,r=n=0;r<f.length;++r,n+=d){var y=null==(u=f[r]);if(!y)for(o=0;o<d;++o)h=u[o],(c=_[o])&&(c.number&&null!=h&&(h=+h,isNaN(h)?h=null:h==Infinity?h=x:h==-Infinity&&(h=-x)),null==h&&(c.required&&(y=!0),null!=c.defaultValue&&(h=c.defaultValue))),l[n+o]=h;if(y)for(o=0;o<d;++o)null!=(h=l[n+o])&&!1!==(c=_[o]).autoscale&&(c.x&&e(s.xaxis,h,h),c.y&&e(s.yaxis,h,h)),l[n+o]=null;else if(R&&n>0&&null!=l[n-d]&&l[n-d]!=l[n]&&l[n-d+1]!=l[n+1]){for(o=0;o<d;++o)l[n+d+o]=l[n+o];l[n+1]=l[n-d+1],n+=d}}}}for(i=0;i<rt.length;++i)s=rt[i],a(_t.processDatapoints,[s,s.datapoints]);for(i=0;i<rt.length;++i){l=(s=rt[i]).datapoints.points,d=s.datapoints.pointsize,_=s.datapoints.format;var b=g,w=g,S=m,k=m;for(r=0;r<l.length;r+=d)if(null!=l[r])for(o=0;o<d;++o)h=l[r+o],(c=_[o])&&!1!==c.autoscale&&h!=x&&h!=-x&&(c.x&&(h<b&&(b=h),h>S&&(S=h)),c.y&&(h<w&&(w=h),h>k&&(k=h)));if(s.bars.show){var D;switch(s.bars.align){case"left":D=0;break;case"right":D=-s.bars.barWidth;break;default:D=-s.bars.barWidth/2}s.bars.horizontal?(w+=D,k+=D+s.bars.barWidth):(b+=D,S+=D+s.bars.barWidth)}e(s.xaxis,b,S),e(s.yaxis,w,k)}t.each(p(),function(t,e){e.datamin==g&&(e.datamin=null),e.datamax==m&&(e.datamax=null)})}function v(){i.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==i.css("position")&&i.css("position","relative"),ot=new e("flot-base",i),st=new e("flot-overlay",i),lt=ot.context,dt=st.context,at=t(st.element).unbind();var r=i.data("plot");r&&(r.shutdown(),st.clear()),i.data("plot",gt)}function R(){nt.grid.hoverable&&(at.mousemove(U),at.bind("mouseleave",Y)),nt.grid.clickable&&at.click(q),a(_t.bindEvents,[at])}function y(){xt&&clearTimeout(xt),at.unbind("mousemove",U),at.unbind("mouseleave",Y),at.unbind("click",q),a(_t.shutdown,[at])}function b(t){function e(t){return t}var i,r,n=t.options.transform||e,o=t.options.inverseTransform;"x"==t.direction?(i=t.scale=pt/Math.abs(n(t.max)-n(t.min)),r=Math.min(n(t.max),n(t.min))):(i=-(i=t.scale=ft/Math.abs(n(t.max)-n(t.min))),r=Math.max(n(t.max),n(t.min))),t.p2c=n==e?function(t){return(t-r)*i}:function(t){return(n(t)-r)*i},t.c2p=o?function(t){return o(r+t/i)}:function(t){return r+t/i}}function w(t){for(var e=t.options,i=t.ticks||[],r=e.labelWidth||0,n=e.labelHeight||0,o=r||("x"==t.direction?Math.floor(ot.width/(i.length||1)):null),s=t.direction+"Axis "+t.direction+t.n+"Axis",a="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+s,l=e.font||"flot-tick-label tickLabel",d=0;d<i.length;++d){var h=i[d];if(h.label){var c=ot.getTextInfo(a,h.label,l,null,o);r=Math.max(r,c.width),n=Math.max(n,c.height)}}t.labelWidth=e.labelWidth||r,t.labelHeight=e.labelHeight||n}function S(e){var i=e.labelWidth,r=e.labelHeight,n=e.options.position,o="x"===e.direction,s=e.options.tickLength,a=nt.grid.axisMargin,l=nt.grid.labelMargin,d=!0,h=!0,c=!0,u=!1;t.each(o?ht:ct,function(t,i){i&&(i.show||i.reserveSpace)&&(i===e?u=!0:i.options.position===n&&(u?h=!1:d=!1),u||(c=!1))}),h&&(a=0),null==s&&(s=c?"full":5),isNaN(+s)||(l+=+s),o?(r+=l,"bottom"==n?(ut.bottom+=r+a,e.box={top:ot.height-ut.bottom,height:r}):(e.box={top:ut.top+a,height:r},ut.top+=r+a)):(i+=l,"left"==n?(e.box={left:ut.left+a,width:i},ut.left+=i+a):(ut.right+=i+a,e.box={left:ot.width-ut.right,width:i})),e.position=n,e.tickLength=s,e.box.padding=l,e.innermost=d}function k(t){"x"==t.direction?(t.box.left=ut.left-t.labelWidth/2,t.box.width=ot.width-ut.left-ut.right+t.labelWidth):(t.box.top=ut.top-t.labelHeight/2,t.box.height=ot.height-ut.bottom-ut.top+t.labelHeight)}function D(){var e,i=nt.grid.minBorderMargin;if(null==i)for(i=0,e=0;e<rt.length;++e)i=Math.max(i,2*(rt[e].points.radius+rt[e].points.lineWidth/2));var r={left:i,right:i,top:i,bottom:i};t.each(p(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(r.left=Math.max(r.left,e.labelWidth/2),r.right=Math.max(r.right,e.labelWidth/2)):(r.bottom=Math.max(r.bottom,e.labelHeight/2),r.top=Math.max(r.top,e.labelHeight/2)))}),ut.left=Math.ceil(Math.max(r.left,ut.left)),ut.right=Math.ceil(Math.max(r.right,ut.right)),ut.top=Math.ceil(Math.max(r.top,ut.top)),ut.bottom=Math.ceil(Math.max(r.bottom,ut.bottom))}function F(){var e,i=p(),r=nt.grid.show;for(var n in ut){var o=nt.grid.margin||0;ut[n]="number"==typeof o?o:o[n]||0}for(var n in a(_t.processOffset,[ut]),ut)"object"==typeof nt.grid.borderWidth?ut[n]+=r?nt.grid.borderWidth[n]:0:ut[n]+=r?nt.grid.borderWidth:0;if(t.each(i,function(t,e){var i=e.options;e.show=null==i.show?e.used:i.show,e.reserveSpace=null==i.reserveSpace?e.show:i.reserveSpace,A(e)}),r){var s=t.grep(i,function(t){return t.show||t.reserveSpace});for(t.each(s,function(t,e){C(e),M(e),I(e,e.ticks),w(e)}),e=s.length-1;e>=0;--e)S(s[e]);D(),t.each(s,function(t,e){k(e)})}pt=ot.width-ut.left-ut.right,ft=ot.height-ut.bottom-ut.top,t.each(i,function(t,e){b(e)}),r&&O(),G()}function A(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),r=+(null!=e.max?e.max:t.datamax),n=r-i;if(0==n){var o=0==r?1:.01;null==e.min&&(i-=o),null!=e.max&&null==e.min||(r+=o)}else{var s=e.autoscaleMargin;null!=s&&(null==e.min&&(i-=n*s)<0&&null!=t.datamin&&t.datamin>=0&&(i=0),null==e.max&&(r+=n*s)>0&&null!=t.datamax&&t.datamax<=0&&(r=0))}t.min=i,t.max=r}function C(e){var i,n=e.options;i="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==e.direction?ot.width:ot.height);var o=(e.max-e.min)/i,s=-Math.floor(Math.log(o)/Math.LN10),a=n.tickDecimals;null!=a&&s>a&&(s=a);var l,d=Math.pow(10,-s),h=o/d;if(h<1.5?l=1:h<3?(l=2,h>2.25&&(null==a||s+1<=a)&&(l=2.5,++s)):l=h<7.5?5:10,l*=d,null!=n.minTickSize&&l<n.minTickSize&&(l=n.minTickSize),e.delta=o,e.tickDecimals=Math.max(0,null!=a?a:s),e.tickSize=n.tickSize||l,"time"==n.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(e.tickGenerator||(e.tickGenerator=function(t){var e,i=[],n=r(t.min,t.tickSize),o=0,s=Number.NaN;do{e=s,s=n+o*t.tickSize,i.push(s),++o}while(s<t.max&&s!=e);return i},e.tickFormatter=function(t,e){var i=e.tickDecimals?Math.pow(10,e.tickDecimals):1,r=""+Math.round(t*i)/i;if(null!=e.tickDecimals){var n=r.indexOf("."),o=-1==n?0:r.length-n-1;if(o<e.tickDecimals)return(o?r:r+".")+(""+i).substr(1,e.tickDecimals-o)}return r}),t.isFunction(n.tickFormatter)&&(e.tickFormatter=function(t,e){return""+n.tickFormatter(t,e)}),null!=n.alignTicksWithAxis){var c=("x"==e.direction?ht:ct)[n.alignTicksWithAxis-1];if(c&&c.used&&c!=e){var u=e.tickGenerator(e);if(u.length>0&&(null==n.min&&(e.min=Math.min(e.min,u[0])),null==n.max&&u.length>1&&(e.max=Math.max(e.max,u[u.length-1]))),e.tickGenerator=function(t){var e,i,r=[];for(i=0;i<c.ticks.length;++i)e=(c.ticks[i].v-c.min)/(c.max-c.min),e=t.min+e*(t.max-t.min),r.push(e);return r},!e.mode&&null==n.tickDecimals){var p=Math.max(0,1-Math.floor(Math.log(e.delta)/Math.LN10)),f=e.tickGenerator(e);f.length>1&&/\..*0$/.test((f[1]-f[0]).toFixed(p))||(e.tickDecimals=p)}}}}function M(e){var i,r,n=e.options.ticks,o=[];for(null==n||"number"==typeof n&&n>0?o=e.tickGenerator(e):n&&(o=t.isFunction(n)?n(e):n),e.ticks=[],i=0;i<o.length;++i){var s=null,a=o[i];"object"==typeof a?(r=+a[0],a.length>1&&(s=a[1])):r=+a,null==s&&(s=e.tickFormatter(r,e)),isNaN(r)||e.ticks.push({v:r,label:s})}}function I(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function N(){ot.clear(),a(_t.drawBackground,[lt]);var t=nt.grid;t.show&&t.backgroundColor&&E(),t.show&&!t.aboveData&&z();for(var e=0;e<rt.length;++e)a(_t.drawSeries,[lt,rt[e]]),B(rt[e]);a(_t.draw,[lt]),t.show&&t.aboveData&&z(),ot.render(),V()}function T(t,e){for(var i,r,n,o,s=p(),a=0;a<s.length;++a)if((i=s[a]).direction==e&&(t[o=e+i.n+"axis"]||1!=i.n||(o=e+"axis"),t[o])){r=t[o].from,n=t[o].to;break}if(t[o]||(i="x"==e?ht[0]:ct[0],r=t[e+"1"],n=t[e+"2"]),null!=r&&null!=n&&r>n){var l=r;r=n,n=l}return{from:r,to:n,axis:i}}function E(){lt.save(),lt.translate(ut.left,ut.top),lt.fillStyle=it(nt.grid.backgroundColor,ft,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,pt,ft),lt.restore()}function z(){var e,i,r,n;lt.save(),lt.translate(ut.left,ut.top);var o=nt.grid.markings;if(o)for(t.isFunction(o)&&((i=gt.getAxes()).xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,o=o(i)),e=0;e<o.length;++e){var s=o[e],a=T(s,"x"),l=T(s,"y");if(null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),!(a.to<a.axis.min||a.from>a.axis.max||l.to<l.axis.min||l.from>l.axis.max)){a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max);var d=a.from===a.to,h=l.from===l.to;if(!d||!h)if(a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),d||h){var c=s.lineWidth||nt.grid.markingsLineWidth,u=c%2?.5:0;lt.beginPath(),lt.strokeStyle=s.color||nt.grid.markingsColor,lt.lineWidth=c,d?(lt.moveTo(a.to+u,l.from),lt.lineTo(a.to+u,l.to)):(lt.moveTo(a.from,l.to+u),lt.lineTo(a.to,l.to+u)),lt.stroke()}else lt.fillStyle=s.color||nt.grid.markingsColor,lt.fillRect(a.from,l.to,a.to-a.from,l.from-l.to)}}i=p(),r=nt.grid.borderWidth;for(var f=0;f<i.length;++f){var _,g,m,x,v=i[f],R=v.box,y=v.tickLength;if(v.show&&0!=v.ticks.length){for(lt.lineWidth=1,"x"==v.direction?(_=0,g="full"==y?"top"==v.position?0:ft:R.top-ut.top+("top"==v.position?R.height:0)):(g=0,_="full"==y?"left"==v.position?0:pt:R.left-ut.left+("left"==v.position?R.width:0)),v.innermost||(lt.strokeStyle=v.options.color,lt.beginPath(),m=x=0,"x"==v.direction?m=pt+1:x=ft+1,1==lt.lineWidth&&("x"==v.direction?g=Math.floor(g)+.5:_=Math.floor(_)+.5),lt.moveTo(_,g),lt.lineTo(_+m,g+x),lt.stroke()),lt.strokeStyle=v.options.tickColor,lt.beginPath(),e=0;e<v.ticks.length;++e){var b=v.ticks[e].v;m=x=0,isNaN(b)||b<v.min||b>v.max||"full"==y&&("object"==typeof r&&r[v.position]>0||r>0)&&(b==v.min||b==v.max)||("x"==v.direction?(_=v.p2c(b),x="full"==y?-ft:y,"top"==v.position&&(x=-x)):(g=v.p2c(b),m="full"==y?-pt:y,"left"==v.position&&(m=-m)),1==lt.lineWidth&&("x"==v.direction?_=Math.floor(_)+.5:g=Math.floor(g)+.5),lt.moveTo(_,g),lt.lineTo(_+m,g+x))}lt.stroke()}}r&&(n=nt.grid.borderColor,"object"==typeof r||"object"==typeof n?("object"!=typeof r&&(r={top:r,right:r,bottom:r,left:r}),"object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),r.top>0&&(lt.strokeStyle=n.top,lt.lineWidth=r.top,lt.beginPath(),lt.moveTo(0-r.left,0-r.top/2),lt.lineTo(pt,0-r.top/2),lt.stroke()),r.right>0&&(lt.strokeStyle=n.right,lt.lineWidth=r.right,lt.beginPath(),lt.moveTo(pt+r.right/2,0-r.top),lt.lineTo(pt+r.right/2,ft),lt.stroke()),r.bottom>0&&(lt.strokeStyle=n.bottom,lt.lineWidth=r.bottom,lt.beginPath(),lt.moveTo(pt+r.right,ft+r.bottom/2),lt.lineTo(0,ft+r.bottom/2),lt.stroke()),r.left>0&&(lt.strokeStyle=n.left,lt.lineWidth=r.left,lt.beginPath(),lt.moveTo(0-r.left/2,ft+r.bottom),lt.lineTo(0-r.left/2,0),lt.stroke())):(lt.lineWidth=r,lt.strokeStyle=nt.grid.borderColor,lt.strokeRect(-r/2,-r/2,pt+r,ft+r))),lt.restore()}function O(){t.each(p(),function(t,e){var i,r,n,o,s,a=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",d="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,h=e.options.font||"flot-tick-label tickLabel";if(ot.removeText(d),e.show&&0!=e.ticks.length)for(var c=0;c<e.ticks.length;++c)!(i=e.ticks[c]).label||i.v<e.min||i.v>e.max||("x"==e.direction?(o="center",r=ut.left+e.p2c(i.v),"bottom"==e.position?n=a.top+a.padding:(n=a.top+a.height-a.padding,s="bottom")):(s="middle",n=ut.top+e.p2c(i.v),"left"==e.position?(r=a.left+a.width-a.padding,o="right"):r=a.left+a.padding),ot.addText(d,r,n,i.label,h,null,null,o,s))})}function B(t){t.lines.show&&j(t),t.bars.show&&P(t),t.points.show&&L(t)}function j(t){function e(t,e,i,r,n){var o=t.points,s=t.pointsize,a=null,l=null;lt.beginPath();for(var d=s;d<o.length;d+=s){var h=o[d-s],c=o[d-s+1],u=o[d],p=o[d+1];if(null!=h&&null!=u){if(c<=p&&c<n.min){if(p<n.min)continue;h=(n.min-c)/(p-c)*(u-h)+h,c=n.min}else if(p<=c&&p<n.min){if(c<n.min)continue;u=(n.min-c)/(p-c)*(u-h)+h,p=n.min}if(c>=p&&c>n.max){if(p>n.max)continue;h=(n.max-c)/(p-c)*(u-h)+h,c=n.max}else if(p>=c&&p>n.max){if(c>n.max)continue;u=(n.max-c)/(p-c)*(u-h)+h,p=n.max}if(h<=u&&h<r.min){if(u<r.min)continue;c=(r.min-h)/(u-h)*(p-c)+c,h=r.min}else if(u<=h&&u<r.min){if(h<r.min)continue;p=(r.min-h)/(u-h)*(p-c)+c,u=r.min}if(h>=u&&h>r.max){if(u>r.max)continue;c=(r.max-h)/(u-h)*(p-c)+c,h=r.max}else if(u>=h&&u>r.max){if(h>r.max)continue;p=(r.max-h)/(u-h)*(p-c)+c,u=r.max}h==a&&c==l||lt.moveTo(r.p2c(h)+e,n.p2c(c)+i),a=u,l=p,lt.lineTo(r.p2c(u)+e,n.p2c(p)+i)}}lt.stroke()}function i(t,e,i){for(var r=t.points,n=t.pointsize,o=Math.min(Math.max(0,i.min),i.max),s=0,a=!1,l=1,d=0,h=0;!(n>0&&s>r.length+n);){var c=r[(s+=n)-n],u=r[s-n+l],p=r[s],f=r[s+l];if(a){if(n>0&&null!=c&&null==p){h=s,n=-n,l=2;continue}if(n<0&&s==d+n){lt.fill(),a=!1,l=1,s=d=h+(n=-n);continue}}if(null!=c&&null!=p){if(c<=p&&c<e.min){if(p<e.min)continue;u=(e.min-c)/(p-c)*(f-u)+u,c=e.min}else if(p<=c&&p<e.min){if(c<e.min)continue;f=(e.min-c)/(p-c)*(f-u)+u,p=e.min}if(c>=p&&c>e.max){if(p>e.max)continue;u=(e.max-c)/(p-c)*(f-u)+u,c=e.max}else if(p>=c&&p>e.max){if(c>e.max)continue;f=(e.max-c)/(p-c)*(f-u)+u,p=e.max}if(a||(lt.beginPath(),lt.moveTo(e.p2c(c),i.p2c(o)),a=!0),u>=i.max&&f>=i.max)lt.lineTo(e.p2c(c),i.p2c(i.max)),lt.lineTo(e.p2c(p),i.p2c(i.max));else if(u<=i.min&&f<=i.min)lt.lineTo(e.p2c(c),i.p2c(i.min)),lt.lineTo(e.p2c(p),i.p2c(i.min));else{var _=c,g=p;u<=f&&u<i.min&&f>=i.min?(c=(i.min-u)/(f-u)*(p-c)+c,u=i.min):f<=u&&f<i.min&&u>=i.min&&(p=(i.min-u)/(f-u)*(p-c)+c,f=i.min),u>=f&&u>i.max&&f<=i.max?(c=(i.max-u)/(f-u)*(p-c)+c,u=i.max):f>=u&&f>i.max&&u<=i.max&&(p=(i.max-u)/(f-u)*(p-c)+c,f=i.max),c!=_&&lt.lineTo(e.p2c(_),i.p2c(u)),lt.lineTo(e.p2c(c),i.p2c(u)),lt.lineTo(e.p2c(p),i.p2c(f)),p!=g&&(lt.lineTo(e.p2c(p),i.p2c(f)),lt.lineTo(e.p2c(g),i.p2c(f)))}}}}lt.save(),lt.translate(ut.left,ut.top),lt.lineJoin="round";var r=t.lines.lineWidth,n=t.shadowSize;if(r>0&&n>0){lt.lineWidth=n,lt.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;e(t.datapoints,Math.sin(o)*(r/2+n/2),Math.cos(o)*(r/2+n/2),t.xaxis,t.yaxis),lt.lineWidth=n/2,e(t.datapoints,Math.sin(o)*(r/2+n/4),Math.cos(o)*(r/2+n/4),t.xaxis,t.yaxis)}lt.lineWidth=r,lt.strokeStyle=t.color;var s=H(t.lines,t.color,0,ft);s&&(lt.fillStyle=s,i(t.datapoints,t.xaxis,t.yaxis)),r>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),lt.restore()}function L(t){function e(t,e,i,r,n,o,s,a){for(var l=t.points,d=t.pointsize,h=0;h<l.length;h+=d){var c=l[h],u=l[h+1];null==c||c<o.min||c>o.max||u<s.min||u>s.max||(lt.beginPath(),c=o.p2c(c),u=s.p2c(u)+r,"circle"==a?lt.arc(c,u,e,0,n?Math.PI:2*Math.PI,!1):a(lt,c,u,e,n),lt.closePath(),i&&(lt.fillStyle=i,lt.fill()),lt.stroke())}}lt.save(),lt.translate(ut.left,ut.top);var i=t.points.lineWidth,r=t.shadowSize,n=t.points.radius,o=t.points.symbol;if(0==i&&(i=1e-4),i>0&&r>0){var s=r/2;lt.lineWidth=s,lt.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,n,null,s+s/2,!0,t.xaxis,t.yaxis,o),lt.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,n,null,s/2,!0,t.xaxis,t.yaxis,o)}lt.lineWidth=i,lt.strokeStyle=t.color,e(t.datapoints,n,H(t.points,t.color),0,!1,t.xaxis,t.yaxis,o),lt.restore()}function W(t,e,i,r,n,o,s,a,l,d,h){var c,u,p,f,_,g,m,x,v;d?(x=g=m=!0,_=!1,f=e+r,p=e+n,(u=t)<(c=i)&&(v=u,u=c,c=v,_=!0,g=!1)):(_=g=m=!0,x=!1,c=t+r,u=t+n,(f=e)<(p=i)&&(v=f,f=p,p=v,x=!0,m=!1)),u<s.min||c>s.max||f<a.min||p>a.max||(c<s.min&&(c=s.min,_=!1),u>s.max&&(u=s.max,g=!1),p<a.min&&(p=a.min,x=!1),f>a.max&&(f=a.max,m=!1),c=s.p2c(c),p=a.p2c(p),u=s.p2c(u),f=a.p2c(f),o&&(l.fillStyle=o(p,f),l.fillRect(c,f,u-c,p-f)),h>0&&(_||g||m||x)&&(l.beginPath(),l.moveTo(c,p),_?l.lineTo(c,f):l.moveTo(c,f),m?l.lineTo(u,f):l.moveTo(u,f),g?l.lineTo(u,p):l.moveTo(u,p),x?l.lineTo(c,p):l.moveTo(c,p),l.stroke()))}function P(t){function e(e,i,r,n,o,s){for(var a=e.points,l=e.pointsize,d=0;d<a.length;d+=l)null!=a[d]&&W(a[d],a[d+1],a[d+2],i,r,n,o,s,lt,t.bars.horizontal,t.bars.lineWidth)}var i;switch(lt.save(),lt.translate(ut.left,ut.top),lt.lineWidth=t.bars.lineWidth,lt.strokeStyle=t.color,t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}var r=t.bars.fill?function(e,i){return H(t.bars,t.color,e,i)}:null;e(t.datapoints,i,i+t.bars.barWidth,r,t.xaxis,t.yaxis),lt.restore()}function H(e,i,r,n){var o=e.fill;if(!o)return null;if(e.fillColor)return it(e.fillColor,r,n,i);var s=t.color.parse(i);return s.a="number"==typeof o?o:.4,s.normalize(),s.toString()}function G(){if(null!=nt.legend.container?t(nt.legend.container).html(""):i.find(".legend").remove(),nt.legend.show){for(var e,r,n=[],o=[],s=!1,a=nt.legend.labelFormatter,l=0;l<rt.length;++l)(e=rt[l]).label&&(r=a?a(e.label,e):e.label)&&o.push({label:r,color:e.color});if(nt.legend.sorted)if(t.isFunction(nt.legend.sorted))o.sort(nt.legend.sorted);else if("reverse"==nt.legend.sorted)o.reverse();else{var d="descending"!=nt.legend.sorted;o.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=d?1:-1})}for(l=0;l<o.length;++l){var h=o[l];l%nt.legend.noColumns==0&&(s&&n.push("</tr>"),n.push("<tr>"),s=!0),n.push('<td class="legendColorBox"><div style="border:1px solid '+nt.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+h.label+"</td>")}if(s&&n.push("</tr>"),0!=n.length){var c='<table style="font-size:smaller;color:'+nt.grid.color+'">'+n.join("")+"</table>";if(null!=nt.legend.container)t(nt.legend.container).html(c);else{var u="",p=nt.legend.position,f=nt.legend.margin;null==f[0]&&(f=[f,f]),"n"==p.charAt(0)?u+="top:"+(f[1]+ut.top)+"px;":"s"==p.charAt(0)&&(u+="bottom:"+(f[1]+ut.bottom)+"px;"),"e"==p.charAt(1)?u+="right:"+(f[0]+ut.right)+"px;":"w"==p.charAt(1)&&(u+="left:"+(f[0]+ut.left)+"px;");var _=t('<div class="legend">'+c.replace('style="','style="position:absolute;'+u+";")+"</div>").appendTo(i);if(0!=nt.legend.backgroundOpacity){var g=nt.legend.backgroundColor;null==g&&((g=(g=nt.grid.backgroundColor)&&"string"==typeof g?t.color.parse(g):t.color.extract(_,"background-color")).a=1,g=g.toString());var m=_.children();t('<div style="position:absolute;width:'+m.width()+"px;height:"+m.height()+"px;"+u+"background-color:"+g+';"> </div>').prependTo(_).css("opacity",nt.legend.backgroundOpacity)}}}}}function $(t,e,i){var r,n,o,s=nt.grid.mouseActiveRadius,a=s*s+1,l=null;for(r=rt.length-1;r>=0;--r)if(i(rt[r])){var d=rt[r],h=d.xaxis,c=d.yaxis,u=d.datapoints.points,p=h.c2p(t),f=c.c2p(e),_=s/h.scale,g=s/c.scale;if(o=d.datapoints.pointsize,h.options.inverseTransform&&(_=Number.MAX_VALUE),c.options.inverseTransform&&(g=Number.MAX_VALUE),d.lines.show||d.points.show)for(n=0;n<u.length;n+=o){var m=u[n],x=u[n+1];if(null!=m&&!(m-p>_||m-p<-_||x-f>g||x-f<-g)){var v=Math.abs(h.p2c(m)-t),R=Math.abs(c.p2c(x)-e),y=v*v+R*R;y<a&&(a=y,l=[r,n/o])}}if(d.bars.show&&!l){var b,w;switch(d.bars.align){case"left":b=0;break;case"right":b=-d.bars.barWidth;break;default:b=-d.bars.barWidth/2}for(w=b+d.bars.barWidth,n=0;n<u.length;n+=o){m=u[n],x=u[n+1];var S=u[n+2];null!=m&&((rt[r].bars.horizontal?p<=Math.max(S,m)&&p>=Math.min(S,m)&&f>=x+b&&f<=x+w:p>=m+b&&p<=m+w&&f>=Math.min(S,x)&&f<=Math.max(S,x))&&(l=[r,n/o]))}}}return l?(r=l[0],n=l[1],o=rt[r].datapoints.pointsize,{datapoint:rt[r].datapoints.points.slice(n*o,(n+1)*o),dataIndex:n,series:rt[r],seriesIndex:r}):null}function U(t){nt.grid.hoverable&&X("plothover",t,function(t){return 0!=t.hoverable})}function Y(t){nt.grid.hoverable&&X("plothover",t,function(){return!1})}function q(t){X("plotclick",t,function(t){return 0!=t.clickable})}function X(t,e,r){var n=at.offset(),o=e.pageX-n.left-ut.left,s=e.pageY-n.top-ut.top,a=f({left:o,top:s});a.pageX=e.pageX,a.pageY=e.pageY;var l=$(o,s,r);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+n.left+ut.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+n.top+ut.top,10)),nt.grid.autoHighlight){for(var d=0;d<mt.length;++d){var h=mt[d];h.auto!=t||l&&h.series==l.series&&h.point[0]==l.datapoint[0]&&h.point[1]==l.datapoint[1]||K(h.series,h.point)}l&&J(l.series,l.datapoint,t)}i.trigger(t,[a,l])}function V(){var t=nt.interaction.redrawOverlayInterval;-1!=t?xt||(xt=setTimeout(Q,t)):Q()}function Q(){var t,e;for(xt=null,dt.save(),st.clear(),dt.translate(ut.left,ut.top),t=0;t<mt.length;++t)(e=mt[t]).series.bars.show?et(e.series,e.point):tt(e.series,e.point);dt.restore(),a(_t.drawOverlay,[dt])}function J(t,e,i){if("number"==typeof t&&(t=rt[t]),"number"==typeof e){var r=t.datapoints.pointsize;e=t.datapoints.points.slice(r*e,r*(e+1))}var n=Z(t,e);-1==n?(mt.push({series:t,point:e,auto:i}),V()):i||(mt[n].auto=!1)}function K(t,e){if(null==t&&null==e)return mt=[],void V();if("number"==typeof t&&(t=rt[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var r=Z(t,e);-1!=r&&(mt.splice(r,1),V())}function Z(t,e){for(var i=0;i<mt.length;++i){var r=mt[i];if(r.series==t&&r.point[0]==e[0]&&r.point[1]==e[1])return i}return-1}function tt(e,i){var r=i[0],n=i[1],o=e.xaxis,s=e.yaxis,a="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString();if(!(r<o.min||r>o.max||n<s.min||n>s.max)){var l=e.points.radius+e.points.lineWidth/2;dt.lineWidth=l,dt.strokeStyle=a;var d=1.5*l;r=o.p2c(r),n=s.p2c(n),dt.beginPath(),"circle"==e.points.symbol?dt.arc(r,n,d,0,2*Math.PI,!1):e.points.symbol(dt,r,n,d,!1),dt.closePath(),dt.stroke()}}function et(e,i){var r,n="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString(),o=n;switch(e.bars.align){case"left":r=0;break;case"right":r=-e.bars.barWidth;break;default:r=-e.bars.barWidth/2}dt.lineWidth=e.bars.lineWidth,
dt.strokeStyle=n,W(i[0],i[1],i[2]||0,r,r+e.bars.barWidth,function(){return o},e.xaxis,e.yaxis,dt,e.bars.horizontal,e.bars.lineWidth)}function it(e,i,r,n){if("string"==typeof e)return e;for(var o=lt.createLinearGradient(0,r,0,i),s=0,a=e.colors.length;s<a;++s){var l=e.colors[s];if("string"!=typeof l){var d=t.color.parse(n);null!=l.brightness&&(d=d.scale("rgb",l.brightness)),null!=l.opacity&&(d.a*=l.opacity),l=d.toString()}o.addColorStop(s/(a-1),l)}return o}var rt=[],nt={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},ot=null,st=null,at=null,lt=null,dt=null,ht=[],ct=[],ut={left:0,right:0,top:0,bottom:0},pt=0,ft=0,_t={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},gt=this;gt.setData=h,gt.setupGrid=F,gt.draw=N,gt.getPlaceholder=function(){return i},gt.getCanvas=function(){return ot.element},gt.getPlotOffset=function(){return ut},gt.width=function(){return pt},gt.height=function(){return ft},gt.offset=function(){var t=at.offset();return t.left+=ut.left,t.top+=ut.top,t},gt.getData=function(){return rt},gt.getAxes=function(){var e={};return t.each(ht.concat(ct),function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),e},gt.getXAxes=function(){return ht},gt.getYAxes=function(){return ct},gt.c2p=f,gt.p2c=_,gt.getOptions=function(){return nt},gt.highlight=J,gt.unhighlight=K,gt.triggerRedrawOverlay=V,gt.pointOffset=function(t){return{left:parseInt(ht[u(t,"x")-1].p2c(+t.x)+ut.left,10),top:parseInt(ct[u(t,"y")-1].p2c(+t.y)+ut.top,10)}},gt.shutdown=y,gt.destroy=function(){y(),i.removeData("plot").empty(),rt=[],nt=null,ot=null,st=null,at=null,lt=null,dt=null,ht=[],ct=[],_t=null,mt=[],gt=null},gt.resize=function(){var t=i.width(),e=i.height();ot.resize(t,e),st.resize(t,e)},gt.hooks=_t,l(gt),d(o),v(),h(n),F(),N(),R();var mt=[],xt=null}function r(t,e){return e*Math.floor(t/e)}var n=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var i=this.element,r=this.context,n=this.pixelRatio;this.width!=t&&(i.width=t*n,i.style.width=t+"px",this.width=t),this.height!=e&&(i.height=e*n,i.style.height=e+"px",this.height=e),r.restore(),r.save(),r.scale(n,n)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var t=this._textCache;for(var e in t)if(n.call(t,e)){var i=this.getTextLayer(e),r=t[e];for(var o in i.hide(),r)if(n.call(r,o)){var s=r[o];for(var a in s)if(n.call(s,a)){for(var l,d=s[a].positions,h=0;l=d[h];h++)l.active?l.rendered||(i.append(l.element),l.rendered=!0):(d.splice(h--,1),l.rendered&&l.element.detach());0==d.length&&delete s[a]}}i.show()}},e.prototype.getTextLayer=function(e){var i=this.text[e];return null==i&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i},e.prototype.getTextInfo=function(e,i,r,n,o){var s,a,l,d;if(i=""+i,s="object"==typeof r?r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:r,null==(a=this._textCache[e])&&(a=this._textCache[e]={}),null==(l=a[s])&&(l=a[s]={}),null==(d=l[i])){var h=t("<div></div>").html(i).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof r?h.css({font:s,color:r.color}):"string"==typeof r&&h.addClass(r),d=l[i]={width:h.outerWidth(!0),height:h.outerHeight(!0),element:h,positions:[]},h.detach()}return d},e.prototype.addText=function(t,e,i,r,n,o,s,a,l){var d=this.getTextInfo(t,r,n,o,s),h=d.positions;"center"==a?e-=d.width/2:"right"==a&&(e-=d.width),"middle"==l?i-=d.height/2:"bottom"==l&&(i-=d.height);for(var c,u=0;c=h[u];u++)if(c.x==e&&c.y==i)return void(c.active=!0);c={active:!0,rendered:!1,element:h.length?d.element.clone():d.element,x:e,y:i},h.push(c),c.element.css({top:Math.round(i),left:Math.round(e),"text-align":a})},e.prototype.removeText=function(t,e,i,r,o,s){if(null==r){var a=this._textCache[t];if(null!=a)for(var l in a)if(n.call(a,l)){var d=a[l];for(var h in d)if(n.call(d,h))for(var c=d[h].positions,u=0;p=c[u];u++)p.active=!1}}else{var p;for(c=this.getTextInfo(t,r,o,s).positions,u=0;p=c[u];u++)p.x==e&&p.y==i&&(p.active=!1)}},t.plot=function(e,r,n){return new i(t(e),r,n,t.plot.plugins)},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(e,i){return this.each(function(){t.plot(this,e,i)})}}(jQuery),
/* Flot plugin for selecting regions of a plot.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The plugin supports these options:

selection: {
	mode: null or "x" or "y" or "xy",
	color: color,
	shape: "round" or "miter" or "bevel",
	minSize: number of pixels
}

Selection support is enabled by setting the mode to one of "x", "y" or "xy".
In "x" mode, the user will only be able to specify the x range, similarly for
"y" mode. For "xy", the selection becomes a rectangle where both ranges can be
specified. "color" is color of the selection (if you need to change the color
later on, you can get to it with plot.getOptions().selection.color). "shape"
is the shape of the corners of the selection.

"minSize" is the minimum size a selection can be in pixels. This value can
be customized to determine the smallest size a selection can be and still
have the selection rectangle be displayed. When customizing this value, the
fact that it refers to pixels, not axis units must be taken into account.
Thus, for example, if there is a bar graph in time mode with BarWidth set to 1
minute, setting "minSize" to 1 will not make the minimum selection size 1
minute, but rather 1 pixel. Note also that setting "minSize" to 0 will prevent
"plotunselected" events from being fired when the user clicks the mouse without
dragging.

When selection support is enabled, a "plotselected" event will be emitted on
the DOM element you passed into the plot function. The event handler gets a
parameter with the ranges selected on the axes, like this:

	placeholder.bind( "plotselected", function( event, ranges ) {
		alert("You selected " + ranges.xaxis.from + " to " + ranges.xaxis.to)
		// similar for yaxis - with multiple axes, the extra ones are in
		// x2axis, x3axis, ...
	});

The "plotselected" event is only fired when the user has finished making the
selection. A "plotselecting" event is fired during the process with the same
parameters as the "plotselected" event, in case you want to know what's
happening while it's happening,

A "plotunselected" event with no arguments is emitted when the user clicks the
mouse to remove the selection. As stated above, setting "minSize" to 0 will
destroy this behavior.

The plugin allso adds the following methods to the plot object:

- setSelection( ranges, preventEvent )

  Set the selection rectangle. The passed in ranges is on the same form as
  returned in the "plotselected" event. If the selection mode is "x", you
  should put in either an xaxis range, if the mode is "y" you need to put in
  an yaxis range and both xaxis and yaxis if the selection mode is "xy", like
  this:

	setSelection({ xaxis: { from: 0, to: 10 }, yaxis: { from: 40, to: 60 } });

  setSelection will trigger the "plotselected" event when called. If you don't
  want that to happen, e.g. if you're inside a "plotselected" handler, pass
  true as the second parameter. If you are using multiple axes, you can
  specify the ranges on any of those, e.g. as x2axis/x3axis/... instead of
  xaxis, the plugin picks the first one it sees.

- clearSelection( preventEvent )

  Clear the selection rectangle. Pass in true to avoid getting a
  "plotunselected" event.

- getSelection()

  Returns the current selection in the same format as the "plotselected"
  event. If there's currently no selection, the function returns null.

*/
function(t){function e(e){function i(t){f.active&&(d(t),e.getPlaceholder().trigger("plotselecting",[o()]))}function r(e){1==e.which&&(document.body.focus(),document.onselectstart!==undefined&&null==_.onselectstart&&(_.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag!==undefined&&null==_.ondrag&&(_.ondrag=document.ondrag,document.ondrag=function(){return!1}),l(f.first,e),f.active=!0,g=function(t){n(t)},t(document).one("mouseup",g))}function n(t){return g=null,document.onselectstart!==undefined&&(document.onselectstart=_.onselectstart),document.ondrag!==undefined&&(document.ondrag=_.ondrag),f.active=!1,d(t),p()?s():(e.getPlaceholder().trigger("plotunselected",[]),e.getPlaceholder().trigger("plotselecting",[null])),!1}function o(){if(!p())return null;if(!f.show)return null;var i={},r=f.first,n=f.second;return t.each(e.getAxes(),function(t,e){if(e.used){var o=e.c2p(r[e.direction]),s=e.c2p(n[e.direction]);i[t]={from:Math.min(o,s),to:Math.max(o,s)}}}),i}function s(){var t=o();e.getPlaceholder().trigger("plotselected",[t]),t.xaxis&&t.yaxis&&e.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}function a(t,e,i){return e<t?t:e>i?i:e}function l(t,i){var r=e.getOptions(),n=e.getPlaceholder().offset(),o=e.getPlotOffset();t.x=a(0,i.pageX-n.left-o.left,e.width()),t.y=a(0,i.pageY-n.top-o.top,e.height()),"y"==r.selection.mode&&(t.x=t==f.first?0:e.width()),"x"==r.selection.mode&&(t.y=t==f.first?0:e.height())}function d(t){null!=t.pageX&&(l(f.second,t),p()?(f.show=!0,e.triggerRedrawOverlay()):h(!0))}function h(t){f.show&&(f.show=!1,e.triggerRedrawOverlay(),t||e.getPlaceholder().trigger("plotunselected",[]))}function c(t,i){var r,n,o,s,a=e.getAxes();for(var l in a)if((r=a[l]).direction==i&&(t[s=i+r.n+"axis"]||1!=r.n||(s=i+"axis"),t[s])){n=t[s].from,o=t[s].to;break}if(t[s]||(r="x"==i?e.getXAxes()[0]:e.getYAxes()[0],n=t[i+"1"],o=t[i+"2"]),null!=n&&null!=o&&n>o){var d=n;n=o,o=d}return{from:n,to:o,axis:r}}function u(t,i){var r,n=e.getOptions();"y"==n.selection.mode?(f.first.x=0,f.second.x=e.width()):(r=c(t,"x"),f.first.x=r.axis.p2c(r.from),f.second.x=r.axis.p2c(r.to)),"x"==n.selection.mode?(f.first.y=0,f.second.y=e.height()):(r=c(t,"y"),f.first.y=r.axis.p2c(r.from),f.second.y=r.axis.p2c(r.to)),f.show=!0,e.triggerRedrawOverlay(),!i&&p()&&s()}function p(){var t=e.getOptions().selection.minSize;return Math.abs(f.second.x-f.first.x)>=t&&Math.abs(f.second.y-f.first.y)>=t}var f={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},_={},g=null;e.clearSelection=h,e.setSelection=u,e.getSelection=o,e.hooks.bindEvents.push(function(t,e){null!=t.getOptions().selection.mode&&(e.mousemove(i),e.mousedown(r))}),e.hooks.drawOverlay.push(function(e,i){if(f.show&&p()){var r=e.getPlotOffset(),n=e.getOptions();i.save(),i.translate(r.left,r.top);var o=t.color.parse(n.selection.color);i.strokeStyle=o.scale("a",.8).toString(),i.lineWidth=1,i.lineJoin=n.selection.shape,i.fillStyle=o.scale("a",.4).toString();var s=Math.min(f.first.x,f.second.x)+.5,a=Math.min(f.first.y,f.second.y)+.5,l=Math.abs(f.second.x-f.first.x)-1,d=Math.abs(f.second.y-f.first.y)-1;i.fillRect(s,a,l,d),i.strokeRect(s,a,l,d),i.restore()}}),e.hooks.shutdown.push(function(e,n){n.unbind("mousemove",i),n.unbind("mousedown",r),g&&t(document).unbind("mouseup",g)})}t.plot.plugins.push({init:e,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),
/* Flot plugin for stacking data sets rather than overlyaing them.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The plugin assumes the data is sorted on x (or y if stacking horizontally).
For line charts, it is assumed that if a line has an undefined gap (from a
null point), then the line above it should have the same gap - insert zeros
instead of "null" if you want another behaviour. This also holds for the start
and end of the chart. Note that stacking a mix of positive and negative values
in most instances doesn't make sense (so it looks weird).

Two or more series are stacked when their "stack" attribute is set to the same
key (which can be any number or string or just "true"). To specify the default
stack, you can set the stack option like this:

	series: {
		stack: null/false, true, or a key (number/string)
	}

You can also specify it for a single series, like this:

	$.plot( $("#placeholder"), [{
		data: [ ... ],
		stack: true
	}])

The stacking order is determined by the order of the data series in the array
(later series end up on top of the previous).

Internally, the plugin modifies the datapoints in each series, adding an
offset to the y value. For line series, extra data points are inserted through
interpolation. If there's a second y value, it's also adjusted (e.g for bar
charts or filled areas).

*/
function(){function t(t){function e(t,e){for(var i=null,r=0;r<e.length&&t!=e[r];++r)e[r].stack==t.stack&&(i=e[r]);return i}function i(t,i,r){if(null!=i.stack&&!1!==i.stack){var n=e(i,t.getData());if(n){for(var o,s,a,l,d,h,c,u,p=r.pointsize,f=r.points,_=n.datapoints.pointsize,g=n.datapoints.points,m=[],x=i.lines.show,v=i.bars.horizontal,R=p>2&&(v?r.format[2].x:r.format[2].y),y=x&&i.lines.steps,b=!0,w=v?1:0,S=v?0:1,k=0,D=0;!(k>=f.length);){if(c=m.length,null==f[k]){for(u=0;u<p;++u)m.push(f[k+u]);k+=p}else if(D>=g.length){if(!x)for(u=0;u<p;++u)m.push(f[k+u]);k+=p}else if(null==g[D]){for(u=0;u<p;++u)m.push(null);b=!0,D+=_}else{if(o=f[k+w],s=f[k+S],l=g[D+w],d=g[D+S],h=0,o==l){for(u=0;u<p;++u)m.push(f[k+u]);m[c+S]+=d,h=d,k+=p,D+=_}else if(o>l){if(x&&k>0&&null!=f[k-p]){for(a=s+(f[k-p+S]-s)*(l-o)/(f[k-p+w]-o),m.push(l),m.push(a+d),u=2;u<p;++u)m.push(f[k+u]);h=d}D+=_}else{if(b&&x){k+=p;continue}for(u=0;u<p;++u)m.push(f[k+u]);x&&D>0&&null!=g[D-_]&&(h=d+(g[D-_+S]-d)*(o-l)/(g[D-_+w]-l)),m[c+S]+=h,k+=p}b=!1,c!=m.length&&R&&(m[c+2]+=h)}if(y&&c!=m.length&&c>0&&null!=m[c]&&m[c]!=m[c-p]&&m[c+1]!=m[c-p+1]){for(u=0;u<p;++u)m[c+p+u]=m[c+u];m[c+1]=m[c-p+1]}}r.points=m}}}t.hooks.processDatapoints.push(i)}var e={series:{stack:null}};jQuery.plot.plugins.push({init:t,options:e,name:"stack",version:"1.2"})}(),
/* Pretty handling of time axes.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

Set axis.mode to "time" to enable. See the section "Time series data" in
API.txt for details.

*/
function(t){function e(t,e){return e*Math.floor(t/e)}function i(t,e,i,r){if("function"==typeof t.strftime)return t.strftime(e);var n,o=function(t,e){return e=""+(null==e?"0":e),1==(t=""+t).length?e+t:t},s=[],a=!1,l=t.getHours(),d=l<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==r&&(r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),n=l>12?l-12:0==l?12:l;for(var h=0;h<e.length;++h){var c=e.charAt(h);if(a){switch(c){case"a":c=""+r[t.getDay()];break;case"b":c=""+i[t.getMonth()];break;case"d":c=o(t.getDate());break;case"e":c=o(t.getDate()," ");break;case"h":case"H":c=o(l);break;case"I":c=o(n);break;case"l":c=o(n," ");break;case"m":c=o(t.getMonth()+1);break;case"M":c=o(t.getMinutes());break;case"q":c=""+(Math.floor(t.getMonth()/3)+1);break;case"S":c=o(t.getSeconds());break;case"y":c=o(t.getFullYear()%100);break;case"Y":c=""+t.getFullYear();break;case"p":c=d?"am":"pm";break;case"P":c=d?"AM":"PM";break;case"w":c=""+t.getDay()}s.push(c),a=!1}else"%"==c?a=!0:s.push(c)}return s.join("")}function r(t){function e(t,e,i,r){t[e]=function(){return i[r].apply(i,arguments)}}var i={date:t};t.strftime!=undefined&&e(i,"strftime",t,"strftime"),e(i,"getTime",t,"getTime"),e(i,"setTime",t,"setTime");for(var r=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],n=0;n<r.length;n++)e(i,"get"+r[n],t,"getUTC"+r[n]),e(i,"set"+r[n],t,"setUTC"+r[n]);return i}function n(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(e.timezone),i.setTime(t),i}return r(new Date(t))}return r(new Date(t))}function o(r){r.hooks.processOptions.push(function(r){t.each(r.getAxes(),function(t,r){var o=r.options;"time"==o.mode&&(r.tickGenerator=function(t){var i=[],r=n(t.min,o),s=0,l=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?h:d;null!=o.minTickSize&&(s="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*a[o.minTickSize[1]]);for(var c=0;c<l.length-1&&!(t.delta<(l[c][0]*a[l[c][1]]+l[c+1][0]*a[l[c+1][1]])/2&&l[c][0]*a[l[c][1]]>=s);++c);var u=l[c][0],p=l[c][1];if("year"==p){if(null!=o.minTickSize&&"year"==o.minTickSize[1])u=Math.floor(o.minTickSize[0]);else{var f=Math.pow(10,Math.floor(Math.log(t.delta/a.year)/Math.LN10)),_=t.delta/a.year/f;u=_<1.5?1:_<3?2:_<7.5?5:10,u*=f}u<1&&(u=1)}t.tickSize=o.tickSize||[u,p];var g=t.tickSize[0];p=t.tickSize[1];var m=g*a[p];"second"==p?r.setSeconds(e(r.getSeconds(),g)):"minute"==p?r.setMinutes(e(r.getMinutes(),g)):"hour"==p?r.setHours(e(r.getHours(),g)):"month"==p?r.setMonth(e(r.getMonth(),g)):"quarter"==p?r.setMonth(3*e(r.getMonth()/3,g)):"year"==p&&r.setFullYear(e(r.getFullYear(),g)),r.setMilliseconds(0),m>=a.minute&&r.setSeconds(0),m>=a.hour&&r.setMinutes(0),m>=a.day&&r.setHours(0),m>=4*a.day&&r.setDate(1),m>=2*a.month&&r.setMonth(e(r.getMonth(),3)),m>=2*a.quarter&&r.setMonth(e(r.getMonth(),6)),m>=a.year&&r.setMonth(0);var x,v=0,R=Number.NaN;do{if(x=R,R=r.getTime(),i.push(R),"month"==p||"quarter"==p)if(g<1){r.setDate(1);var y=r.getTime();r.setMonth(r.getMonth()+("quarter"==p?3:1));var b=r.getTime();r.setTime(R+v*a.hour+(b-y)*g),v=r.getHours(),r.setHours(0)}else r.setMonth(r.getMonth()+g*("quarter"==p?3:1));else"year"==p?r.setFullYear(r.getFullYear()+g):r.setTime(R+m)}while(R<t.max&&R!=x);return i},r.tickFormatter=function(t,e){var r=n(t,e.options);if(null!=o.timeformat)return i(r,o.timeformat,o.monthNames,o.dayNames);var s=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],l=e.tickSize[0]*a[e.tickSize[1]],d=e.max-e.min,h=o.twelveHourClock?" %p":"",c=o.twelveHourClock?"%I":"%H";return i(r,l<a.minute?c+":%M:%S"+h:l<a.day?d<2*a.day?c+":%M"+h:"%b %d "+c+":%M"+h:l<a.month?"%b %d":s&&l<a.quarter||!s&&l<a.year?d<a.year?"%b":"%b %Y":s&&l<a.year?d<a.year?"Q%q":"Q%q %Y":"%Y",o.monthNames,o.dayNames)})})})}var s={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},a={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],d=l.concat([[3,"month"],[6,"month"],[1,"year"]]),h=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:o,options:s,name:"time",version:"1.0"}),t.plot.formatDate=i,t.plot.dateGenerator=n}(jQuery),function(t){var e={tooltip:!1,tooltipOpts:{content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,shifts:{x:10,y:20},defaultTheme:!0,onHover:function(){}}},i=function(t){this.tipPosition={x:0,y:0},this.init(t)};i.prototype.init=function(e){function i(t){var e={};e.x=t.pageX,e.y=t.pageY,n.updateTooltipPosition(e)}function r(t,e,i){var r,o=n.getDomElement();i?(r=n.stringFormat(n.tooltipOptions.content,i),o.html(r),n.updateTooltipPosition({x:e.pageX,y:e.pageY}),o.css({left:n.tipPosition.x+n.tooltipOptions.shifts.x,top:n.tipPosition.y+n.tooltipOptions.shifts.y}).show(),"function"==typeof n.tooltipOptions.onHover&&n.tooltipOptions.onHover(i,o)):o.hide().html("")}var n=this;e.hooks.bindEvents.push(function(e,o){if(n.plotOptions=e.getOptions(),!1!==n.plotOptions.tooltip&&"undefined"!=typeof n.plotOptions.tooltip){n.tooltipOptions=n.plotOptions.tooltipOpts;n.getDomElement();t(e.getPlaceholder()).bind("plothover",r),t(o).bind("mousemove",i)}}),e.hooks.shutdown.push(function(e,n){t(e.getPlaceholder()).unbind("plothover",r),t(n).unbind("mousemove",i)})},i.prototype.getDomElement=function(){var e;return t("#flotTip").length>0?e=t("#flotTip"):((e=t("<div />").attr("id","flotTip")).appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&e.css({background:"#fff","z-index":"100",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),e},i.prototype.updateTooltipPosition=function(e){var i=t("#flotTip").outerWidth()+this.tooltipOptions.shifts.x,r=t("#flotTip").outerHeight()+this.tooltipOptions.shifts.y;e.x-t(window).scrollLeft()>t(window).innerWidth()-i&&(e.x-=i),e.y-t(window).scrollTop()>t(window).innerHeight()-r&&(e.y-=r),this.tipPosition.x=e.x,this.tipPosition.y=e.y},i.prototype.stringFormat=function(t,e){var i=/%p\.{0,1}(\d{0,})/,r=/%s/,n=/%x\.{0,1}(?:\d{0,})/,o=/%y\.{0,1}(?:\d{0,})/;return"function"==typeof t&&(t=t(e.series.label,e.series.data[e.dataIndex][0],e.series.data[e.dataIndex][1],e)),"undefined"!=typeof e.series.percent&&(t=this.adjustValPrecision(i,t,e.series.percent)),"undefined"!=typeof e.series.label&&(t=t.replace(r,e.series.label)),this.isTimeMode("xaxis",e)&&this.isXDateFormat(e)&&(t=t.replace(n,this.timestampToDate(e.series.data[e.dataIndex][0],this.tooltipOptions.xDateFormat))),this.isTimeMode("yaxis",e)&&this.isYDateFormat(e)&&(t=t.replace(o,this.timestampToDate(e.series.data[e.dataIndex][1],this.tooltipOptions.yDateFormat))),"number"==typeof e.series.data[e.dataIndex][0]&&(t=this.adjustValPrecision(n,t,e.series.data[e.dataIndex][0])),"number"==typeof e.series.data[e.dataIndex][1]&&(t=this.adjustValPrecision(o,t,e.series.data[e.dataIndex][1])),"undefined"!=typeof e.series.xaxis.tickFormatter&&(t=t.replace(n,e.series.xaxis.tickFormatter(e.series.data[e.dataIndex][0],e.series.xaxis))),"undefined"!=typeof e.series.yaxis.tickFormatter&&(t=t.replace(o,e.series.yaxis.tickFormatter(e.series.data[e.dataIndex][1],e.series.yaxis))),t},i.prototype.isTimeMode=function(t,e){return"undefined"!=typeof e.series[t].options.mode&&"time"===e.series[t].options.mode},i.prototype.isXDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},i.prototype.isYDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},i.prototype.timestampToDate=function(e,i){var r=new Date(e);return t.plot.formatDate(r,i)},i.prototype.adjustValPrecision=function(t,e,i){var r;return null!==e.match(t)&&""!==RegExp.$1&&(r=RegExp.$1,i=i.toFixed(r),e=e.replace(t,i)),e};var r=function(t){new i(t)};t.plot.plugins.push({init:r,options:e,name:"tooltip",version:"0.6.1"})}(jQuery),InvalidBinaryFile.prototype.toString=function(){return this.name+': "'+this.message+'"'},document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n\tIEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n\tIEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n</script>\r\n"),InvalidRRD.prototype.toString=function(){return this.name+': "'+this.message+'"'},RRDDS.prototype.getIdx=function(){return this.my_idx},RRDDS.prototype.getName=function(){return this.rrd_data.getCStringAt(this.rrd_data_idx,20)},RRDDS.prototype.getType=function(){return this.rrd_data.getCStringAt(this.rrd_data_idx+20,20)},RRDDS.prototype.getMin=function(){return this.rrd_data.getDoubleAt(this.rrd_data_idx+48)},RRDDS.prototype.getMax=function(){return this.rrd_data.getDoubleAt(this.rrd_data_idx+56)},RRDRRAInfo.prototype.getIdx=function(){return this.my_idx},RRDRRAInfo.prototype.getNrRows=function(){return this.row_cnt},RRDRRAInfo.prototype.getPdpPerRow=function(){return this.rrd_data.getLongAt(this.rra_pdp_cnt_idx)},RRDRRAInfo.prototype.getStep=function(){return this.pdp_step*this.getPdpPerRow()},RRDRRAInfo.prototype.getCFName=function(){return this.rrd_data.getCStringAt(this.rra_def_idx,20)},RRDRRA.prototype.getIdx=function(){return this.rra_info.getIdx()},RRDRRA.prototype.getNrRows=function(){return this.row_cnt},RRDRRA.prototype.getNrDSs=function(){return this.ds_cnt},RRDRRA.prototype.getStep=function(){return this.rra_info.getStep()},RRDRRA.prototype.getCFName=function(){return this.rra_info.getCFName()},RRDRRA.prototype.getEl=function(t,e){return this.rrd_data.getDoubleAt(this.base_rrd_db_idx+this.calc_idx(t,e))},RRDRRA.prototype.getElFast=function(t,e){return this.rrd_data.getFastDoubleAt(this.base_rrd_db_idx+this.calc_idx(t,e))},RRDHeader.prototype.validate_rrd=function(){if(this.rrd_data.getLength()<1)throw new InvalidRRD("Empty file.");if(this.rrd_data.getLength()<16)throw new InvalidRRD("File too short.");if("RRD"!==this.rrd_data.getCStringAt(0,4))throw new InvalidRRD("Wrong magic id.");if(this.rrd_version=this.rrd_data.getCStringAt(4,5),"0003"!==this.rrd_version&&"0004"!==this.rrd_version&&"0001"!==this.rrd_version)throw new InvalidRRD("Unsupported RRD version "+this.rrd_version+".");if(this.float_width=8,0==this.rrd_data.getLongAt(12)){if(this.float_align=8,8.642135e130!=this.rrd_data.getDoubleAt(16)&&(this.rrd_data.switch_endian=!0),8.642135e130!=this.rrd_data.getDoubleAt(16))throw new InvalidRRD("Magic float not found at 16.");0==this.rrd_data.getLongAt(28)?(this.int_align=8,this.int_width=8):(this.int_align=4,this.int_width=4)}else{if(8.642135e130!=this.rrd_data.getDoubleAt(12)&&(this.rrd_data.switch_endian=!0),8.642135e130!=this.rrd_data.getDoubleAt(12))throw new InvalidRRD("Magic float not found at 12.");this.float_align=4,this.int_align=4,this.int_width=4}if(this.unival_width=this.float_width,this.unival_align=this.float_align,this.ds_cnt_idx=Math.ceil(9/this.float_align)*this.float_align+this.float_width,this.rra_cnt_idx=this.ds_cnt_idx+this.int_width,this.pdp_step_idx=this.rra_cnt_idx+this.int_width,this.ds_cnt=this.rrd_data.getLongAt(this.ds_cnt_idx),this.ds_cnt<1)throw new InvalidRRD("ds count less than 1.");if(this.rra_cnt=this.rrd_data.getLongAt(this.rra_cnt_idx),this.ds_cnt<1)throw new InvalidRRD("rra count less than 1.");if(this.pdp_step=this.rrd_data.getLongAt(this.pdp_step_idx),this.pdp_step<1)throw new InvalidRRD("pdp step less than 1.");if(this.top_header_size=Math.ceil((this.pdp_step_idx+this.int_width)/this.unival_align)*this.unival_align+10*this.unival_width,0==this.rrd_data.getLongAt(this.top_header_size))throw new InvalidRRD("Could not find first DS name.")},RRDHeader.prototype.calc_idxs=function(){this.ds_def_idx=this.top_header_size,this.ds_el_size=Math.ceil(40/this.unival_align)*this.unival_align+10*this.unival_width,this.rra_def_idx=this.ds_def_idx+this.ds_el_size*this.ds_cnt,this.row_cnt_idx=Math.ceil(20/this.int_align)*this.int_align,this.rra_def_el_size=Math.ceil((this.row_cnt_idx+2*this.int_width)/this.unival_align)*this.unival_align+10*this.unival_width,this.live_head_idx=this.rra_def_idx+this.rra_def_el_size*this.rra_cnt,this.live_head_size=2*this.int_width,this.pdp_prep_idx=this.live_head_idx+this.live_head_size,this.pdp_prep_el_size=Math.ceil(30/this.unival_align)*this.unival_align+10*this.unival_width,this.cdp_prep_idx=this.pdp_prep_idx+this.pdp_prep_el_size*this.ds_cnt,this.cdp_prep_el_size=10*this.unival_width,this.rra_ptr_idx=this.cdp_prep_idx+this.cdp_prep_el_size*this.ds_cnt*this.rra_cnt,this.rra_ptr_el_size=1*this.int_width,this.header_size=this.rra_ptr_idx+this.rra_ptr_el_size*this.rra_cnt},RRDHeader.prototype.load_row_cnts=function(){this.rra_def_row_cnts=[],this.rra_def_row_cnt_sums=[];for(var t=0;t<this.rra_cnt;t++)this.rra_def_row_cnts[t]=this.rrd_data.getLongAt(this.rra_def_idx+t*this.rra_def_el_size+this.row_cnt_idx,!1),this.rra_def_row_cnt_sums[t]=0==t?0:this.rra_def_row_cnt_sums[t-1]+this.rra_def_row_cnts[t-1]},RRDHeader.prototype.getMinStep=function(){return this.pdp_step},RRDHeader.prototype.getLastUpdate=function(){return this.rrd_data.getLongAt(this.live_head_idx,!1)},RRDHeader.prototype.getNrDSs=function(){return this.ds_cnt},RRDHeader.prototype.getDSNames=function(){for(var t=[],e=0;e<this.ds_cnt;e++){var i=this.getDSbyIdx(e).getName();t.push(i)}return t},RRDHeader.prototype.getDSbyIdx=function(t){if(t>=0&&t<this.ds_cnt)return new RRDDS(this.rrd_data,this.ds_def_idx+this.ds_el_size*t,t);throw RangeError("DS idx ("+t+") out of range [0-"+this.ds_cnt+").")},RRDHeader.prototype.getDSbyName=function(t){for(var e=0;e<this.ds_cnt;e++){var i=this.getDSbyIdx(e);if(i.getName()==t)return i}throw RangeError("DS name "+t+" unknown.")},RRDHeader.prototype.getNrRRAs=function(){return this.rra_cnt},RRDHeader.prototype.getRRAInfo=function(t){if(t>=0&&t<this.rra_cnt)return new RRDRRAInfo(this.rrd_data,this.rra_def_idx+t*this.rra_def_el_size,this.int_align,this.rra_def_row_cnts[t],this.pdp_step,t);throw RangeError("RRA idx ("+t+") out of range [0-"+this.rra_cnt+").")},rrdFlotSelection.prototype.reset=function(){this.selection_min=null,this.selection_max=null},rrdFlotSelection.prototype.setFromFlotRanges=function(t){this.selection_min=t.xaxis.from,this.selection_max=t.xaxis.to},rrdFlotSelection.prototype.getFlotRanges=function(){return{xaxis:{from:this.selection_min,to:this.selection_max}}},rrdFlotSelection.prototype.isSet=function(){return null!=this.selection_min},rrdFlotSelection.prototype.trim_flot_data=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];e.push({label:r.label,data:this.trim_data(r.data),color:r.color,lines:r.lines,yaxis:r.yaxis})}return e},rrdFlotSelection.prototype.trim_data=function(t){if(null==this.selection_min)return t;for(var e=[],i=0;i<t.length;i++)if(null!=t[i]){var r=t[i][0];r>=this.selection_min&&r<=this.selection_max&&e.push(t[i])}return e},rrdFlotSelection.prototype.trim_flot_timezone_data=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r];i.push({label:n.label,data:this.trim_timezone_data(n.data,e),color:n.color,lines:n.lines,yaxis:n.yaxis})}return i},rrdFlotSelection.prototype.trim_timezone_data=function(t,e){if(null==this.selection_min)return t;for(var i=[],r=0;r<t.length;r++)if(null!=t[r]){var n=t[r][0]+e;n>=this.selection_min&&n<=this.selection_max&&i.push(t[r])}return i};var local_checked_DSs=[],selected_rra=0,window_min=0,window_max=0,elem_group=null,timezone_shift=0;rrdFlot.prototype.createHTML=function(){var t=this,e=document.getElementById(this.html_id);for(this.res_id=this.html_id+"_res",this.ds_cb_id=this.html_id+"_ds_cb",this.graph_id=this.html_id+"_graph",this.scale_id=this.html_id+"_scale",this.legend_sel_id=this.html_id+"_legend_sel",this.time_sel_id=this.html_id+"_time_sel",this.elem_group_id=this.html_id+"_elem_group";null!=e.lastChild;)e.removeChild(e.lastChild);var i=document.createElement("Table");this.external_table=i;var r=i.insertRow(-1),n=r.insertCell(-1);n.colSpan=3,n.appendChild(document.createTextNode("Resolution:"));var o=document.createElement("Select");o.id=this.res_id,o.onchange=function(){t.callback_res_changed()},n.appendChild(o),r.insertCell(-1).appendChild(document.createTextNode("Select elements to plot:"));var s=i.insertRow(-1),a=s.insertCell(-1);a.colSpan=3;var l=document.createElement("Div");null!=this.rrdflot_defaults.graph_width?l.style.width=this.rrdflot_defaults.graph_width:l.style.width="500px",null!=this.rrdflot_defaults.graph_height?l.style.height=this.rrdflot_defaults.graph_height:l.style.height="300px",l.id=this.graph_id,a.appendChild(l);var d=s.insertCell(-1);d.vAlign="top";var h=document.createElement("Form");h.id=this.ds_cb_id,h.onchange=function(){t.callback_ds_cb_changed()},d.appendChild(h);var c=i.insertRow(-1),u=c.insertCell(-1);u.vAlign="top",u.appendChild(document.createTextNode("Legend:")),u.appendChild(document.createElement("br"));var p=document.createElement("Select");p.id=this.legend_sel_id,p.appendChild(new Option("Top","nw","Top"==this.rrdflot_defaults.legend,"Top"==this.rrdflot_defaults.legend)),p.appendChild(new Option("Bottom","sw","Bottom"==this.rrdflot_defaults.legend,"Bottom"==this.rrdflot_defaults.legend)),p.appendChild(new Option("TopRight","ne","TopRight"==this.rrdflot_defaults.legend,"TopRight"==this.rrdflot_defaults.legend)),p.appendChild(new Option("BottomRight","se","BottomRight"==this.rrdflot_defaults.legend,"BottomRight"==this.rrdflot_defaults.legend)),p.appendChild(new Option("None","None","None"==this.rrdflot_defaults.legend,"None"==this.rrdflot_defaults.legend)),p.onchange=function(){t.callback_legend_changed()},u.appendChild(p),u.appendChild(document.createElement("br")),u.appendChild(document.createTextNode("Timezone:")),u.appendChild(document.createElement("br"));var f=document.createElement("Select");f.id=this.time_sel_id;for(var _,g=["+12","+11","+10","+9","+8","+7","+6","+5","+4","+3","+2","+1","0","-1","-2","-3","-4","-5","-6","-7","-8","-9","-10","-11","-12"],m=!1,x=0;x<24;x++)if(Math.ceil(this.rrdflot_defaults.timezone)==Math.ceil(g[x])){m=!0,_=Math.ceil(this.rrdflot_defaults.timezone);break}if(!m){var v=new Date;_=-Math.ceil(v.getTimezoneOffset()/60)}for(x=0;x<24;x++)f.appendChild(new Option(g[x],g[x],_==Math.ceil(g[x]),_==Math.ceil(g[x])));f.onchange=function(){t.callback_timezone_changed()},u.appendChild(f);var R=c.insertCell(-1);R.align="right";var y=document.createElement("Div");null!=this.rrdflot_defaults.scale_width?y.style.width=this.rrdflot_defaults.scale_width:y.style.width="250px",null!=this.rrdflot_defaults.scale_height?y.style.height=this.rrdflot_defaults.scale_height:y.style.height="110px",y.id=this.scale_id,R.appendChild(y);var b=c.insertCell(-1);b.vAlign="top",b.appendChild(document.createTextNode(" ")),b.appendChild(document.createElement("br"));var w=document.createElement("input");w.type="button",w.value="Reset selection",w.onclick=function(){t.callback_scale_reset()},b.appendChild(w),e.appendChild(i)},rrdFlot.prototype.cleanHTMLCruft=function(){this.external_table.deleteRow(-1),this.external_table.deleteRow(0);var t=document.getElementById(this.ds_cb_id);t.removeChild(t.lastChild)},rrdFlot.prototype.populateRes=function(){for(var t=document.getElementById(this.res_id);null!=t.lastChild;)t.removeChild(t.lastChild);for(var e=this.rrd_file.getNrRRAs(),i=0;i<e;i++){var r=this.rrd_file.getRRAInfo(i),n=r.getStep(),o=n*r.getNrRows(),s=rfs_format_time(n)+" ("+rfs_format_time(o)+" total)";this.rrdflot_defaults.multi_rra&&(s+=" "+r.getCFName()),t.appendChild(new Option(s,i))}this.rrdflot_defaults.use_rra&&(t.selectedIndex=this.rrdflot_defaults.rra)},rrdFlot.prototype.populateDScb=function(){var t=this,e=document.getElementById(this.ds_cb_id),i=document.createElement("Table"),r=i.insertRow(-1);r.vAlign="top";var n=null;null==this.rrdflot_defaults.num_cb_rows&&(this.rrdflot_defaults.num_cb_rows=12);for(var o=this.rrd_file.getNrDSs(),s=0,a=0;a<o;a++){if(a%this.rrdflot_defaults.num_cb_rows==0)if(this.rrdflot_defaults.use_element_buttons){if(n=r.insertCell(-1),o>this.rrdflot_defaults.num_cb_rows){s=a/this.rrdflot_defaults.num_cb_rows+1;var l=document.createElement("input");l.type="button",l.value="Group "+s,l.onclick=function(e){return function(){t.callback_elem_group_changed(e)}}(s),n.appendChild(l),n.appendChild(document.createElement("br"))}}else n=r.insertCell(-1);var d=this.rrd_file.getDS(a);if(this.rrdflot_defaults.multi_ds)var h=d.getName()+"-"+d.getType(),c=d.getName();else h=d.getName(),c=d.getName();var u=h;if(this.rrdflot_defaults.use_checked_DSs)if(0==this.rrdflot_defaults.checked_DSs.length)var p=0==a;else p=!1;else p=0==a;if(null!=this.ds_graph_options[h]){var f=this.ds_graph_options[h];null!=f.title?u=f.title:null!=f.label&&(u=f.label),this.rrdflot_defaults.use_checked_DSs?0==this.rrdflot_defaults.checked_DSs.length&&(p=f.checked):null!=f.checked&&(p=f.checked)}if(this.rrdflot_defaults.use_checked_DSs){if(null==this.rrdflot_defaults.checked_DSs)continue;for(var _=0;_<this.rrdflot_defaults.checked_DSs.length;_++)h==this.rrdflot_defaults.checked_DSs[_]&&(p=!0)}var g=document.createElement("input");g.type="checkbox",g.name="ds",g.value=c,g.checked=g.defaultChecked=p,n.appendChild(g),n.appendChild(document.createTextNode(u)),n.appendChild(document.createElement("br"))}e.appendChild(i)},rrdFlot.prototype.drawFlotGraph=function(){var t=document.getElementById(this.res_id),e=Number(t.options[t.selectedIndex].value);selected_rra=e,this.rrdflot_defaults.use_rra&&(t.options[t.selectedIndex].value=this.rrdflot_defaults.rra,e=this.rrdflot_defaults.rra);var i=[],r=[],n=[],o={},s=document.getElementById(this.ds_cb_id);s.ds.length;if(local_checked_DSs=[],s.ds.length>0){for(var a=0;a<s.ds.length;a++)if(1==s.ds[a].checked){var l=s.ds[a].value,d="none";if(local_checked_DSs.push(l),null!=this.ds_graph_options[l])if(null!=(u=this.ds_graph_options[l]).stack)d=u.stack;"positive"==d?i.push(l):"negative"==d?r.push(l):n.push(l),o[l]=a}}else if(1==s.ds.checked){l=s.ds.value;n.push(l),o[l]=0,local_checked_DSs.push(l)}var h=document.getElementById(this.time_sel_id);timezone_shift=h.options[h.selectedIndex].value;var c=rrdRRAStackFlotObj(this.rrd_file,e,i,r,n,3600*timezone_shift);for(a=0;a<c.data.length;a++){var u,p=c.data[a].label,f=o[p];if(null!=this.ds_graph_options[p])null!=(u=this.ds_graph_options[p]).color&&(f=u.color),null!=u.label?c.data[a].label=u.label:null!=u.title&&(c.data[a].label=u.title),null!=u.lines&&(c.data[a].lines=u.lines),null!=u.yaxis&&(c.data[a].yaxis=u.yaxis);c.data[a].color=f}this.bindFlotGraph(c)},rrdFlot.prototype.bindFlotGraph=function(t){var e=this,i=document.getElementById(this.legend_sel_id),r=i.options[i.selectedIndex].value,n="#"+this.graph_id,o="#"+this.scale_id,s={legend:{show:!1,position:"nw",noColumns:3},lines:{show:!0},xaxis:{mode:"time"},yaxis:{autoscaleMargin:.2},selection:{mode:"x"},tooltip:!0,tooltipOpts:{content:"<h4>%s</h4> Value: %y.3"},grid:{hoverable:!0}};if("None"==r||(s.legend.show=!0,s.legend.position=r),null!=this.graph_options&&(s=populateGraphOptions(s,this.graph_options)),0==s.tooltip&&(s.grid.hoverable=!1),this.selection_range.isSet()){var a=this.selection_range.getFlotRanges();this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=a.xaxis.from,s.xaxis.max=a.xaxis.to)}else this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=t.min,s.xaxis.max=t.max);var l={legend:{show:!1},lines:{show:!0},xaxis:{mode:"time",min:t.min,max:t.max},yaxis:s.yaxis,selection:{mode:"x"}},d=t.data,h=this.selection_range.trim_flot_data(d),c=d;this.graph=$.plot($(n),h,s),this.scale=$.plot($(o),c,l),this.rrdflot_defaults.use_windows&&(ranges={},ranges.xaxis=[],ranges.xaxis.from=this.rrdflot_defaults.window_min,ranges.xaxis.to=this.rrdflot_defaults.window_max,e.scale.setSelection(ranges,!0),window_min=ranges.xaxis.from,window_max=ranges.xaxis.to),this.selection_range.isSet()&&this.scale.setSelection(this.selection_range.getFlotRanges(),!0),$(n).unbind("plotselected"),$(n).bind("plotselected",function(t,i){e.selection_range.setFromFlotRanges(i),s.xaxis.min=i.xaxis.from,s.xaxis.max=i.xaxis.to,window_min=i.xaxis.from,window_max=i.xaxis.to,e.graph=$.plot($(n),e.selection_range.trim_flot_data(d),s),e.scale.setSelection(i,!0)}),$(o).unbind("plotselected"),$(o).bind("plotselected",function(t,i){e.graph.setSelection(i)}),$(o).bind("plotunselected",function(){e.selection_range.reset(),s.xaxis.min=t.min,s.xaxis.max=t.max,e.graph=$.plot($(n),e.selection_range.trim_flot_data(d),s),window_min=0,window_max=0})},rrdFlot.prototype.callback_res_changed=function(){this.rrdflot_defaults.use_rra=!1,this.drawFlotGraph()},rrdFlot.prototype.callback_ds_cb_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_scale_reset=function(){this.scale.clearSelection()},rrdFlot.prototype.callback_legend_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_timezone_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_elem_group_changed=function(t){var e=document.getElementById(this.ds_cb_id);e.ds.length;if(e.ds.length>0)for(var i=0;i<e.ds.length;i++)Math.floor(i/this.rrdflot_defaults.num_cb_rows)==t-1?e.ds[i].checked=!0:e.ds[i].checked=!1;this.drawFlotGraph()};
/*
 * RRD graphing libraries, based on Flot
 * Part of the javascriptRRD package
 * Copyright (c) 2010 Frank Wuerthwein, fkw@ucsd.edu
 *                    Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
var local_checked_RRDs=[];selected_rra=0,window_min=0,window_max=0,elem_group=null;rrdFlotMatrix.prototype.createHTML=function(){var t=this,e=document.getElementById(this.html_id);for(this.ds_id=this.html_id+"_ds",this.res_id=this.html_id+"_res",this.rrd_cb_id=this.html_id+"_rrd_cb",this.graph_id=this.html_id+"_graph",this.scale_id=this.html_id+"_scale",this.legend_sel_id=this.html_id+"_legend_sel";null!=e.lastChild;)e.removeChild(e.lastChild);var i=document.createElement("Table");this.external_table=i;var r=i.insertRow(-1).insertCell(-1);r.colSpan=4,r.appendChild(document.createTextNode("Element:"));var n=document.createElement("Select");n.id=this.ds_id,n.onchange=function(){t.callback_ds_changed()},r.appendChild(n);var o=i.insertRow(-1),s=o.insertCell(-1);s.colSpan=3,s.appendChild(document.createTextNode("Resolution:"));var a=document.createElement("Select");a.id=this.res_id,a.onchange=function(){t.callback_res_changed()},s.appendChild(a),o.insertCell(-1).appendChild(document.createTextNode("Select RRDs to plot:"));var l=i.insertRow(-1),d=l.insertCell(-1);d.colSpan=3;var h=document.createElement("Div");null!=this.rrdflot_defaults.graph_width?h.style.width=this.rrdflot_defaults.graph_width:h.style.width="500px",null!=this.rrdflot_defaults.graph_height?h.style.height=this.rrdflot_defaults.graph_height:h.style.height="300px",h.id=this.graph_id,d.appendChild(h);var c=l.insertCell(-1);c.vAlign="top";var u=document.createElement("Form");u.id=this.rrd_cb_id,u.onchange=function(){t.callback_rrd_cb_changed()},c.appendChild(u);var p=i.insertRow(-1),f=p.insertCell(-1);f.vAlign="top",f.appendChild(document.createTextNode("Legend:")),f.appendChild(document.createElement("br"));var _=document.createElement("Select");_.id=this.legend_sel_id,_.appendChild(new Option("Top","nw","Top"==this.rrdflot_defaults.legend,"Top"==this.rrdflot_defaults.legend)),_.appendChild(new Option("Bottom","sw","Bottom"==this.rrdflot_defaults.legend,"Bottom"==this.rrdflot_defaults.legend)),_.appendChild(new Option("TopRight","ne","TopRight"==this.rrdflot_defaults.legend,"TopRight"==this.rrdflot_defaults.legend)),_.appendChild(new Option("BottomRight","se","BottomRight"==this.rrdflot_defaults.legend,"BottomRight"==this.rrdflot_defaults.legend)),_.appendChild(new Option("None","None","None"==this.rrdflot_defaults.legend,"None"==this.rrdflot_defaults.legend)),_.onchange=function(){t.callback_legend_changed()},f.appendChild(_);var g=p.insertCell(-1);g.align="right";var m=document.createElement("Div");null!=this.rrdflot_defaults.scale_width?m.style.width=this.rrdflot_defaults.scale_width:m.style.width="250px",null!=this.rrdflot_defaults.scale_height?m.style.height=this.rrdflot_defaults.scale_height:m.style.height="110px",m.id=this.scale_id,g.appendChild(m);var x=p.insertCell(-1);x.vAlign="top",x.appendChild(document.createTextNode(" ")),x.appendChild(document.createElement("br"));var v=document.createElement("input");v.type="button",v.value="Reset selection",v.onclick=function(){t.callback_scale_reset()},x.appendChild(v),e.appendChild(i)},rrdFlotMatrix.prototype.cleanHTMLCruft=function(){this.external_table.deleteRow(-1),this.external_table.deleteRow(0),this.external_table.deleteRow(0);var t=document.getElementById(this.rrd_cb_id);t.removeChild(t.lastChild)},rrdFlotMatrix.prototype.populateDS=function(){for(var t=document.getElementById(this.ds_id);null!=t.lastChild;)t.removeChild(t.lastChild);for(i in this.ds_list){var e=this.ds_list[i];t.appendChild(new Option(e[1],e[0]))}},rrdFlotMatrix.prototype.populateRes=function(){for(var t=document.getElementById(this.res_id);null!=t.lastChild;)t.removeChild(t.lastChild);for(var e=this.rrd_files[0][1],i=e.getNrRRAs(),r=0;r<i;r++){var n=e.getRRAInfo(r),o=n.getStep(),s=o*n.getNrRows(),a=rfs_format_time(o)+" ("+rfs_format_time(s)+" total)";this.rrdflot_defaults.multi_rra&&(a+=" "+n.getCFName()),t.appendChild(new Option(a,r))}this.rrdflot_defaults.use_rra&&(t.selectedIndex=this.rrdflot_defaults.rra)},rrdFlotMatrix.prototype.populateRRDcb=function(){var t=this,e=document.getElementById(this.rrd_cb_id),i=document.createElement("Table"),r=i.insertRow(-1);r.vAlign="top";var n=null;null==this.rrdflot_defaults.num_cb_rows&&(this.rrdflot_defaults.num_cb_rows=12);for(var o=this.rrd_files.length,s=0,a=0;a<o;a++){if(a%this.rrdflot_defaults.num_cb_rows==0)if(this.rrdflot_defaults.use_element_buttons){if(n=r.insertCell(-1),o>this.rrdflot_defaults.num_cb_rows){s=a/this.rrdflot_defaults.num_cb_rows+1;var l=document.createElement("input");l.type="button",l.value="Group "+s,l.onclick=function(e){return function(){t.callback_elem_group_changed(e)}}(s),n.appendChild(l),n.appendChild(document.createElement("br"))}}else n=r.insertCell(-1);var d=this.rrd_files[a],h=(d[1],d[0]),c=h;if(this.rrdflot_defaults.use_checked_RRDs)if(0==this.rrdflot_defaults.checked_RRDs.length)var u=0==a;else u=!1;else u=0==a;if(null!=this.rrd_graph_options[h]){var p=this.rrd_graph_options[h];null!=p.title?c=p.title:null!=p.label&&(c=p.label),this.rrdflot_defaults.use_checked_RRDs?0==this.rrdflot_defaults.checked_RRDs.length&&(u=p.checked):null!=p.checked&&(u=p.checked)}if(this.rrdflot_defaults.use_checked_RRDs){if(null==this.rrdflot_defaults.checked_RRDs)continue;for(var f=0;f<this.rrdflot_defaults.checked_RRDs.length;f++)h==this.rrdflot_defaults.checked_RRDs[f]&&(u=!0)}var _=document.createElement("input");_.type="checkbox",_.name="rrd",_.value=a,_.checked=_.defaultChecked=u,n.appendChild(_),n.appendChild(document.createTextNode(c)),n.appendChild(document.createElement("br"))}e.appendChild(i)},rrdFlotMatrix.prototype.drawFlotGraph=function(){var t=document.getElementById(this.ds_id),e=t.options[t.selectedIndex].value;t=document.getElementById(this.res_id);var i=Number(t.options[t.selectedIndex].value);selected_rra=i,this.rrdflot_defaults.use_rra&&(t.options[t.selectedIndex].value=this.rrdflot_defaults.rra,i=this.rrdflot_defaults.rra);var r=["#00ff00","#00ffff","#0000ff","#ff00ff","#808080","#ff0000","#ffff00","#e66266","#33cccc","#fff8a9","#ccffff","#a57e81","#7bea81","#8d4dff","#ffcc99","#000000"],n=[],o=[],s=document.getElementById(this.rrd_cb_id);s.rrd.length;if(s.rrd.length>0)for(var a=0;a<s.rrd.length;a++)1==s.rrd[a].checked&&(n.push(this.rrd_files[a]),h=r[a%r.length],a/r.length>=1&&(idiv=Math.floor(a/r.length),c1=parseInt(h[1]+h[2],16),c2=parseInt(h[3]+h[4],16),c3=parseInt(h[5]+h[6],16),m1=Math.floor((c1-128)/Math.sqrt(idiv+1))+128,m2=Math.floor((c2-128)/Math.sqrt(idiv+1))+128,m3=Math.floor((c3-128)/Math.sqrt(idiv+1))+128,m1>15?s1=m1.toString(16):s1="0"+m1.toString(16),m2>15?s2=m2.toString(16):s2="0"+m2.toString(16),m3>15?s3=m3.toString(16):s3="0"+m3.toString(16),h="#"+s1+s2+s3),o.push(h));else 1==s.rrd.checked&&(n.push(this.rrd_files[0]),o.push(r[0]));var l=rrdRRAMultiStackFlotObj(n,i,e);for(a=0;a<l.data.length;a++){var d=l.data[a].label,h=o[l.data.length-a-1],c=null;if(null!=this.rrd_graph_options[d]){var u=this.rrd_graph_options[d];null!=u.color&&(h=u.color),null!=u.label?l.data[a].label=u.label:null!=u.title&&(l.data[a].label=u.title),null!=u.lines&&(l.data[a].lines=u.lines)}null==c&&(l.data[a].lines={show:!0,fill:!0,fillColor:h}),l.data[a].color=h}this.bindFlotGraph(l)},rrdFlotMatrix.prototype.bindFlotGraph=function(t){var e=this,i=document.getElementById(this.legend_sel_id),r=i.options[i.selectedIndex].value,n="#"+this.graph_id,o="#"+this.scale_id,s={legend:{show:!1,position:"nw",noColumns:3},lines:{show:!0},xaxis:{mode:"time"},yaxis:{autoscaleMargin:.2},selection:{mode:"x"},tooltip:!0,tooltipOpts:{content:"<h4>%s</h4> Value: %y.3"},grid:{hoverable:!0}};if("None"==r||(s.legend.show=!0,s.legend.position=r),null!=this.graph_options&&(s=populateGraphOptions(s,this.graph_options)),0==s.tooltip&&(s.grid.hoverable=!1),this.selection_range.isSet()){var a=this.selection_range.getFlotRanges();this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=a.xaxis.from,s.xaxis.max=a.xaxis.to)}else this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=t.min,s.xaxis.max=t.max);var l={legend:{show:!1},lines:{show:!0},xaxis:{mode:"time",min:t.min,max:t.max},selection:{mode:"x"}},d=t.data,h=this.selection_range.trim_flot_data(d),c=d;this.graph=$.plot($(n),h,s),this.scale=$.plot($(o),c,l),this.rrdflot_defaults.use_windows&&(ranges={},ranges.xaxis=[],ranges.xaxis.from=this.rrdflot_defaults.window_min,ranges.xaxis.to=this.rrdflot_defaults.window_max,e.scale.setSelection(ranges,!0),window_min=ranges.xaxis.from,window_max=ranges.xaxis.to),this.selection_range.isSet()&&this.scale.setSelection(this.selection_range.getFlotRanges(),!0),$(n).bind("plotselected",function(t,i){e.selection_range.setFromFlotRanges(i),s.xaxis.min=i.xaxis.from,s.xaxis.max=i.xaxis.to,window_min=i.xaxis.from,window_max=i.xaxis.to,e.graph=$.plot($(n),e.selection_range.trim_flot_data(d),s),e.scale.setSelection(i,!0)}),$(o).bind("plotselected",function(t,i){e.graph.setSelection(i)}),$(o).bind("plotunselected",function(){e.selection_range.reset(),s.xaxis.min=t.min,s.xaxis.max=t.max,e.graph=$.plot($(n),e.selection_range.trim_flot_data(d),s)})},rrdFlotMatrix.prototype.callback_res_changed=function(){this.drawFlotGraph()},rrdFlotMatrix.prototype.callback_ds_changed=function(){this.drawFlotGraph()},rrdFlotMatrix.prototype.callback_rrd_cb_changed=function(){this.drawFlotGraph()},rrdFlotMatrix.prototype.callback_scale_reset=function(){this.scale.clearSelection()},rrdFlotMatrix.prototype.callback_legend_changed=function(){this.drawFlotGraph()},rrdFlotMatrix.prototype.callback_elem_group_changed=function(t){var e=document.getElementById(this.rrd_cb_id);e.rrd.length;if(e.rrd.length>0)for(var i=0;i<e.rrd.length;i++)Math.floor(i/this.rrdflot_defaults.num_cb_rows)==t-1?e.rrd[i].checked=!0:e.rrd[i].checked=!1;this.drawFlotGraph()},RRDRRAFilterDS.prototype.getIdx=function(){return this.rrd_rra.getIdx()},RRDRRAFilterDS.prototype.getNrRows=function(){return this.rrd_rra.getNrRows()},RRDRRAFilterDS.prototype.getNrDSs=function(){return this.ds_list.length},RRDRRAFilterDS.prototype.getStep=function(){return this.rrd_rra.getStep()},RRDRRAFilterDS.prototype.getCFName=function(){return this.rrd_rra.getCFName()},RRDRRAFilterDS.prototype.getEl=function(t,e){if(e>=0&&e<this.ds_list.length){var i=this.ds_list[e].real_ds_idx;return this.rrd_rra.getEl(t,i)}throw RangeError("DS idx ("+e+") out of range [0-"+this.ds_list.length+").")},RRDRRAFilterDS.prototype.getElFast=function(t,e){if(e>=0&&e<this.ds_list.length){var i=this.ds_list[e].real_ds_idx;return this.rrd_rra.getElFast(t,i)}throw RangeError("DS idx ("+e+") out of range [0-"+this.ds_list.length+").")},RRDFilterDS.prototype.getMinStep=function(){return this.rrd_file.getMinStep()},RRDFilterDS.prototype.getLastUpdate=function(){return this.rrd_file.getLastUpdate()},RRDFilterDS.prototype.getNrDSs=function(){return this.ds_list.length},RRDFilterDS.prototype.getDSNames=function(){for(var t=[],e=0;e<this.ds_list.length;e++)t.push(ds_list[e].getName());return t},RRDFilterDS.prototype.getDS=function(t){return"number"==typeof t?this.getDSbyIdx(t):this.getDSbyName(t)},RRDFilterDS.prototype.getDSbyIdx=function(t){if(t>=0&&t<this.ds_list.length)return this.ds_list[t];throw RangeError("DS idx ("+t+") out of range [0-"+this.ds_list.length+").")},RRDFilterDS.prototype.getDSbyName=function(t){for(var e=0;e<this.ds_list.length;e++){var i=this.ds_list[e];if(i.getName()==t)return i}throw RangeError("DS name "+t+" unknown.")},RRDFilterDS.prototype.getNrRRAs=function(){return this.rrd_file.getNrRRAs()},RRDFilterDS.prototype.getRRAInfo=function(t){return this.rrd_file.getRRAInfo(t)},RRDFilterDS.prototype.getRRA=function(t){return new RRDRRAFilterDS(this.rrd_file.getRRA(t),this.ds_list)},RRDDSFilterOp.prototype.getIdx=function(){return this.my_idx},RRDDSFilterOp.prototype.getName=function(){return this.op_obj.getName()},RRDDSFilterOp.prototype.getType=function(){return"function"},RRDDSFilterOp.prototype.getMin=function(){return undefined},RRDDSFilterOp.prototype.getMax=function(){return undefined},RRDDSFilterOp.prototype.getRealDSList=function(){return this.ds_idx_list},RRDDSFilterOp.prototype.computeResult=function(t){return this.op_obj.computeResult(t)},RRDRRAFilterOp.prototype.getIdx=function(){return this.rrd_rra.getIdx()},RRDRRAFilterOp.prototype.getNrRows=function(){return this.rrd_rra.getNrRows()},RRDRRAFilterOp.prototype.getNrDSs=function(){return this.ds_list.length},RRDRRAFilterOp.prototype.getStep=function(){return this.rrd_rra.getStep()},RRDRRAFilterOp.prototype.getCFName=function(){return this.rrd_rra.getCFName()},RRDRRAFilterOp.prototype.getEl=function(t,e){if(e>=0&&e<this.ds_list.length){for(var i=this.ds_list[e].getRealDSList(),r=[],n=0;n<i.length;n++)r.push(this.rrd_rra.getEl(t,i[n]));return this.ds_list[e].computeResult(r)}throw RangeError("DS idx ("+e+") out of range [0-"+this.ds_list.length+").")},RRDRRAFilterOp.prototype.getElFast=function(t,e){if(e>=0&&e<this.ds_list.length){for(var i=this.ds_list[e].getRealDSList(),r=[],n=0;n<i.length;n++)r.push(this.rrd_rra.getEl(t,i[n]));return this.ds_list[e].computeResult(r)}throw RangeError("DS idx ("+e+") out of range [0-"+this.ds_list.length+").")},RRDFilterOp.prototype.getMinStep=function(){return this.rrd_file.getMinStep()},RRDFilterOp.prototype.getLastUpdate=function(){return this.rrd_file.getLastUpdate()},RRDFilterOp.prototype.getNrDSs=function(){return this.ds_list.length},RRDFilterOp.prototype.getDSNames=function(){for(var t=[],e=0;e<this.ds_list.length;e++)t.push(ds_list[e].getName());return t},RRDFilterOp.prototype.getDS=function(t){return"number"==typeof t?this.getDSbyIdx(t):this.getDSbyName(t)},RRDFilterOp.prototype.getDSbyIdx=function(t){if(t>=0&&t<this.ds_list.length)return this.ds_list[t];throw RangeError("DS idx ("+t+") out of range [0-"+this.ds_list.length+").")},RRDFilterOp.prototype.getDSbyName=function(t){for(var e=0;e<this.ds_list.length;e++){var i=this.ds_list[e];if(i.getName()==t)return i}throw RangeError("DS name "+t+" unknown.")},RRDFilterOp.prototype.getNrRRAs=function(){return this.rrd_file.getNrRRAs()},RRDFilterOp.prototype.getRRAInfo=function(t){return this.rrd_file.getRRAInfo(t)},RRDFilterOp.prototype.getRRA=function(t){return new RRDRRAFilterOp(this.rrd_file.getRRA(t),this.ds_list)},RRAFilterShift.prototype.getMinStep=function(){return this.rrd_file.getMinStep()},RRAFilterShift.prototype.getLastUpdate=function(){return this.rrd_file.getLastUpdate()+this.shift_in_seconds},RRAFilterShift.prototype.getNrDSs=function(){return this.rrd_file.getNrDSs()},RRAFilterShift.prototype.getDSNames=function(){return this.rrd_file.getDSNames()},RRAFilterShift.prototype.getDS=function(t){return this.rrd_file.getDS(t)},RRAFilterShift.prototype.getNrRRAs=function(){return this.rra_list.length},RRAFilterShift.prototype.getRRAInfo=function(t){return this.rrd_file.getRRAInfo(t)},RRAFilterShift.prototype.getRRA=function(t){return this.rrd_file.getRRA(t)},RRAInfoFilterAvg.prototype.getIdx=function(){return this.idx},RRAInfoFilterAvg.prototype.getNrRows=function(){return this.rra.getNrRows()},RRAInfoFilterAvg.prototype.getStep=function(){return this.rra.getStep()},RRAInfoFilterAvg.prototype.getCFName=function(){return this.rra.getCFName()},RRAInfoFilterAvg.prototype.getPdpPerRow=function(){return this.rrd_file.getRRAInfo(this.op_obj.getIdx()).getPdpPerRow()*this.scaler},RRAFilterAvg.prototype.getIdx=function(){return this.op_obj.getIdx()},RRAFilterAvg.prototype.getCFName=function(){return this.base_rra.getCFName()},RRAFilterAvg.prototype.getNrRows=function(){return Math.floor(this.base_rra.getNrRows()/this.scaler)},RRAFilterAvg.prototype.getNrDSs=function(){return this.base_rra.getNrDSs()},RRAFilterAvg.prototype.getStep=function(){return null!=this.op_obj.getStep()?this.op_obj.getStep():this.base_rra.getStep()},RRAFilterAvg.prototype.getEl=function(t,e){for(var i=0,r=0;r<this.scaler;r++)i+=this.base_rra.getEl(this.scaler*t+r,e);return i/this.scaler},RRAFilterAvg.prototype.getElFast=function(t,e){for(var i=0,r=0;r<this.scaler;r++)i+=this.base_rra.getElFast(this.scaler*t+r,e);return i/this.scaler},RRDRRAFilterAvg.prototype.getMinStep=function(){return this.rrd_file.getMinStep()},RRDRRAFilterAvg.prototype.getLastUpdate=function(){return this.rrd_file.getLastUpdate()},RRDRRAFilterAvg.prototype.getNrDSs=function(){return this.rrd_file.getNrDSs()},RRDRRAFilterAvg.prototype.getDSNames=function(){return this.rrd_file.getDSNames()},RRDRRAFilterAvg.prototype.getDS=function(t){return this.rrd_file.getDS(t)},RRDRRAFilterAvg.prototype.getNrRRAs=function(){return this.rra_list.length},RRDRRAFilterAvg.prototype.getRRAInfo=function(t){return t>=0&&t<this.rra_list.length?new RRAInfoFilterAvg(this.rrd_file,this.rra_list[t],this.op_obj_list[t],t):this.rrd_file.getRRAInfo(0)},RRDRRAFilterAvg.prototype.getRRA=function(t){if(t>=0&&t<this.rra_list.length)return this.rra_list[t]},RRDRRASum.prototype.getIdx=function(){return this.rra_list[0].getIdx()},RRDRRASum.prototype.getNrRows=function(){return this.row_cnt},RRDRRASum.prototype.getNrDSs=function(){return this.rra_list[0].getNrDSs()},RRDRRASum.prototype.getStep=function(){return this.rra_list[0].getStep()},RRDRRASum.prototype.getCFName=function(){return this.rra_list[0].getCFName()},RRDRRASum.prototype.getEl=function(t,e){var i=0;for(var r in this.rra_list){var n=this.offset_list[r];if(t+n<this.row_cnt){var o=this.rra_list[r];val=o.getEl(t+n,e)}else val=undefined;if(val==undefined){if(!this.treat_undefined_as_zero){i=undefined;break}val=0}i+=val}return i},RRDRRASum.prototype.getElFast=function(t,e){var i=0;for(var r in this.rra_list){var n=this.offset_list[r];if(row_id+n<this.row_cnt){var o=this.rra_list[r];val=o.getElFast(t+n,e)}else val=undefined;if(val==undefined){if(!this.treat_undefined_as_zero){i=undefined;break}val=0}i+=val}return i},rrdFlotAsync.prototype.reload=function(t){this.url=t;try{FetchBinaryURLAsync(t,rrdFlotAsyncCallback,this)}catch(e){alert("Failed loading "+t+"\n"+e)}},rrdFlotAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj,this.customization_callback!=undefined&&this.customization_callback(this);var t=this.rrd_data;this.ds_op_list!=undefined&&(t=new RRDFilterOp(t,this.ds_op_list)),this.rra_op_list!=undefined&&(t=new RRDRRAFilterAvg(t,this.rra_op_list)),this.rrd_flot_obj=new rrdFlot(this.html_id,t,this.graph_options,this.ds_graph_options,this.rrdflot_defaults)},rrdFlotSumAsync.prototype.reload=function(t){rrdFlotMultiAsyncReload(this,t)},rrdFlotSumAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj;var t=new Array;for(i in this.loaded_data){var e=this.loaded_data[i];e!=undefined&&t.push(e)}var r=new RRDFileSum(t,this.sumfile_options);null!=this.rrd_data&&delete this.rrd_data,this.rrd_data=r,this.customization_callback!=undefined&&this.customization_callback(this),r=this.rrd_data,this.ds_op_list!=undefined&&(r=new RRDFilterOp(r,this.ds_op_list)),this.rra_op_list!=undefined&&(r=new RRDRRAFilterAvg(r,this.rra_op_list)),this.rrd_flot_obj=new rrdFlot(this.html_id,r,this.graph_options,this.ds_graph_options,this.rrdflot_defaults)},rrdFlotMatrixAsync.prototype.reload=function(t){this.url_pair_list=t;var e=[];for(var i in this.url_pair_list)e.push(this.url_pair_list[i][1]);rrdFlotMultiAsyncReload(this,e)},rrdFlotMatrixAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj;var t=new Array;for(var e in this.loaded_data){var i=this.loaded_data[e];i!=undefined&&t.push([this.url_pair_list[e][0],i])}for(var e in this.rrd_data=t[0],this.customization_callback!=undefined&&this.customization_callback(this),t)this.ds_op_list!=undefined&&(t[e]=new RRDFilterOp(t[e],this.ds_op_list)),this.rra_op_list!=undefined&&(t[e]=new RRDRRAFilterAvg(t[e],this.rra_op_list));this.rrd_flot_obj=new rrdFlotMatrix(this.html_id,t,this.ds_list,this.graph_options,this.rrd_graph_options,this.rrdflot_defaults)};
/*
 * RRD graphing libraries, based on Flot
 * Part of the javascriptRRD package
 * Copyright (c) 2010 Frank Wuerthwein, fkw@ucsd.edu
 *                    Igor Sfiligoi, isfiligoi@ucsd.edu
 *
 * Original repository: http://javascriptrrd.sourceforge.net/
 * 
 * MIT License [http://www.opensource.org/licenses/mit-license.php]
 *
 */
local_checked_DSs=[],selected_rra=0,window_min=0,window_max=0,elem_group=null,timezone_shift=0;rrdFlot.prototype.createHTML=function(){var t=this,e=document.getElementById(this.html_id);for(this.res_id=this.html_id+"_res",this.ds_cb_id=this.html_id+"_ds_cb",this.graph_id=this.html_id+"_graph",this.scale_id=this.html_id+"_scale",this.legend_sel_id=this.html_id+"_legend_sel",this.time_sel_id=this.html_id+"_time_sel",this.elem_group_id=this.html_id+"_elem_group";null!=e.lastChild;)e.removeChild(e.lastChild);var i=document.createElement("Table");this.external_table=i;var r=i.insertRow(-1),n=r.insertCell(-1);n.colSpan=3,n.appendChild(document.createTextNode("Resolution:"));var o=document.createElement("Select");o.id=this.res_id,o.onchange=function(){t.callback_res_changed()},n.appendChild(o),r.insertCell(-1).appendChild(document.createTextNode("Select elements to plot:"));var s=i.insertRow(-1),a=s.insertCell(-1);a.colSpan=3;var l=document.createElement("Div");null!=this.rrdflot_defaults.graph_width?l.style.width=this.rrdflot_defaults.graph_width:l.style.width="500px",null!=this.rrdflot_defaults.graph_height?l.style.height=this.rrdflot_defaults.graph_height:l.style.height="300px",l.id=this.graph_id,a.appendChild(l);var d=s.insertCell(-1);d.vAlign="top";var h=document.createElement("Form");h.id=this.ds_cb_id,h.onchange=function(){t.callback_ds_cb_changed()},d.appendChild(h);var c=i.insertRow(-1),u=c.insertCell(-1);u.vAlign="top",u.appendChild(document.createTextNode("Legend:")),u.appendChild(document.createElement("br"));var p=document.createElement("Select");p.id=this.legend_sel_id,p.appendChild(new Option("Top","nw","Top"==this.rrdflot_defaults.legend,"Top"==this.rrdflot_defaults.legend)),p.appendChild(new Option("Bottom","sw","Bottom"==this.rrdflot_defaults.legend,"Bottom"==this.rrdflot_defaults.legend)),p.appendChild(new Option("TopRight","ne","TopRight"==this.rrdflot_defaults.legend,"TopRight"==this.rrdflot_defaults.legend)),p.appendChild(new Option("BottomRight","se","BottomRight"==this.rrdflot_defaults.legend,"BottomRight"==this.rrdflot_defaults.legend)),p.appendChild(new Option("None","None","None"==this.rrdflot_defaults.legend,"None"==this.rrdflot_defaults.legend)),p.onchange=function(){t.callback_legend_changed()},u.appendChild(p),u.appendChild(document.createElement("br")),u.appendChild(document.createTextNode("Timezone:")),u.appendChild(document.createElement("br"));var f=document.createElement("Select");f.id=this.time_sel_id;for(var _,g=["+12","+11","+10","+9","+8","+7","+6","+5","+4","+3","+2","+1","0","-1","-2","-3","-4","-5","-6","-7","-8","-9","-10","-11","-12"],m=!1,x=0;x<24;x++)if(Math.ceil(this.rrdflot_defaults.timezone)==Math.ceil(g[x])){m=!0,_=Math.ceil(this.rrdflot_defaults.timezone);break}if(!m){var v=new Date;_=-Math.ceil(v.getTimezoneOffset()/60)}for(x=0;x<24;x++)f.appendChild(new Option(g[x],g[x],_==Math.ceil(g[x]),_==Math.ceil(g[x])));f.onchange=function(){t.callback_timezone_changed()},u.appendChild(f);var R=c.insertCell(-1);R.align="right";var y=document.createElement("Div");null!=this.rrdflot_defaults.scale_width?y.style.width=this.rrdflot_defaults.scale_width:y.style.width="250px",null!=this.rrdflot_defaults.scale_height?y.style.height=this.rrdflot_defaults.scale_height:y.style.height="110px",y.id=this.scale_id,R.appendChild(y);var b=c.insertCell(-1);b.vAlign="top",b.appendChild(document.createTextNode(" ")),b.appendChild(document.createElement("br"));var w=document.createElement("input");w.type="button",w.value="Reset selection",w.onclick=function(){t.callback_scale_reset()},b.appendChild(w),e.appendChild(i)},rrdFlot.prototype.cleanHTMLCruft=function(){this.external_table.deleteRow(-1),this.external_table.deleteRow(0);var t=document.getElementById(this.ds_cb_id);t.removeChild(t.lastChild)},rrdFlot.prototype.populateRes=function(){for(var t=document.getElementById(this.res_id);null!=t.lastChild;)t.removeChild(t.lastChild);for(var e=this.rrd_file.getNrRRAs(),i=0;i<e;i++){var r=this.rrd_file.getRRAInfo(i),n=r.getStep(),o=n*r.getNrRows(),s=rfs_format_time(n)+" ("+rfs_format_time(o)+" total)";this.rrdflot_defaults.multi_rra&&(s+=" "+r.getCFName()),t.appendChild(new Option(s,i))}this.rrdflot_defaults.use_rra&&(t.selectedIndex=this.rrdflot_defaults.rra)},rrdFlot.prototype.populateDScb=function(){var t=this,e=document.getElementById(this.ds_cb_id),i=document.createElement("Table"),r=i.insertRow(-1);r.vAlign="top";var n=null;null==this.rrdflot_defaults.num_cb_rows&&(this.rrdflot_defaults.num_cb_rows=12);for(var o=this.rrd_file.getNrDSs(),s=0,a=0;a<o;a++){if(a%this.rrdflot_defaults.num_cb_rows==0)if(this.rrdflot_defaults.use_element_buttons){if(n=r.insertCell(-1),o>this.rrdflot_defaults.num_cb_rows){s=a/this.rrdflot_defaults.num_cb_rows+1;var l=document.createElement("input");l.type="button",l.value="Group "+s,l.onclick=function(e){return function(){t.callback_elem_group_changed(e)}}(s),n.appendChild(l),n.appendChild(document.createElement("br"))}}else n=r.insertCell(-1);var d=this.rrd_file.getDS(a);if(this.rrdflot_defaults.multi_ds)var h=d.getName()+"-"+d.getType(),c=d.getName();else h=d.getName(),c=d.getName();var u=h;if(this.rrdflot_defaults.use_checked_DSs)if(0==this.rrdflot_defaults.checked_DSs.length)var p=0==a;else p=!1;else p=0==a;if(null!=this.ds_graph_options[h]){var f=this.ds_graph_options[h];null!=f.title?u=f.title:null!=f.label&&(u=f.label),this.rrdflot_defaults.use_checked_DSs?0==this.rrdflot_defaults.checked_DSs.length&&(p=f.checked):null!=f.checked&&(p=f.checked)}if(this.rrdflot_defaults.use_checked_DSs){if(null==this.rrdflot_defaults.checked_DSs)continue;for(var _=0;_<this.rrdflot_defaults.checked_DSs.length;_++)h==this.rrdflot_defaults.checked_DSs[_]&&(p=!0)}var g=document.createElement("input");g.type="checkbox",g.name="ds",g.value=c,g.checked=g.defaultChecked=p,n.appendChild(g),n.appendChild(document.createTextNode(u)),n.appendChild(document.createElement("br"))}e.appendChild(i)},rrdFlot.prototype.drawFlotGraph=function(){var t=document.getElementById(this.res_id),e=Number(t.options[t.selectedIndex].value);selected_rra=e,this.rrdflot_defaults.use_rra&&(t.options[t.selectedIndex].value=this.rrdflot_defaults.rra,e=this.rrdflot_defaults.rra);var i=[],r=[],n=[],o={},s=document.getElementById(this.ds_cb_id);s.ds.length;if(local_checked_DSs=[],s.ds.length>0){for(var a=0;a<s.ds.length;a++)if(1==s.ds[a].checked){var l=s.ds[a].value,d="none";if(local_checked_DSs.push(l),null!=this.ds_graph_options[l])if(null!=(u=this.ds_graph_options[l]).stack)d=u.stack;"positive"==d?i.push(l):"negative"==d?r.push(l):n.push(l),o[l]=a}}else if(1==s.ds.checked){l=s.ds.value;n.push(l),o[l]=0,local_checked_DSs.push(l)}var h=document.getElementById(this.time_sel_id);timezone_shift=h.options[h.selectedIndex].value;var c=rrdRRAStackFlotObj(this.rrd_file,e,i,r,n,3600*timezone_shift);for(a=0;a<c.data.length;a++){var u,p=c.data[a].label,f=o[p];if(null!=this.ds_graph_options[p])null!=(u=this.ds_graph_options[p]).color&&(f=u.color),null!=u.label?c.data[a].label=u.label:null!=u.title&&(c.data[a].label=u.title),null!=u.lines&&(c.data[a].lines=u.lines),null!=u.yaxis&&(c.data[a].yaxis=u.yaxis);c.data[a].color=f}this.bindFlotGraph(c)},rrdFlot.prototype.bindFlotGraph=function(t){var e=this,i=document.getElementById(this.legend_sel_id),r=i.options[i.selectedIndex].value,n="#"+this.graph_id,o="#"+this.scale_id,s={legend:{show:!1,position:"nw",noColumns:3},lines:{show:!0},xaxis:{mode:"time"},yaxis:{autoscaleMargin:.2},selection:{mode:"x"},tooltip:!0,tooltipOpts:{content:"<h4>%s</h4> Value: %y.3"},grid:{hoverable:!0}};if("None"==r||(s.legend.show=!0,s.legend.position=r),null!=this.graph_options&&(s=populateGraphOptions(s,this.graph_options)),0==s.tooltip&&(s.grid.hoverable=!1),this.selection_range.isSet()){var a=this.selection_range.getFlotRanges();this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=a.xaxis.from,s.xaxis.max=a.xaxis.to)}else this.rrdflot_defaults.use_windows?(s.xaxis.min=this.rrdflot_defaults.window_min,s.xaxis.max=this.rrdflot_defaults.window_max):(s.xaxis.min=t.min,s.xaxis.max=t.max);var l={legend:{show:!1},lines:{show:!0},xaxis:{mode:"time",min:t.min,max:t.max},yaxis:s.yaxis,selection:{mode:"x"}},d=t.data,h=this.selection_range.trim_flot_data(d),c=d;this.graph=$.plot($(n),h,s),this.scale=$.plot($(o),c,l),this.rrdflot_defaults.use_windows&&(ranges={},ranges.xaxis=[],ranges.xaxis.from=this.rrdflot_defaults.window_min,ranges.xaxis.to=this.rrdflot_defaults.window_max,e.scale.setSelection(ranges,!0),window_min=ranges.xaxis.from,window_max=ranges.xaxis.to),this.selection_range.isSet()&&this.scale.setSelection(this.selection_range.getFlotRanges(),!0),$(n).unbind("plotselected"),$(n).bind("plotselected",function(t,i){e.selection_range.setFromFlotRanges(i),s.xaxis.min=i.xaxis.from,s.xaxis.max=i.xaxis.to,window_min=i.xaxis.from,window_max=i.xaxis.to,e.graph=$.plot($(n),e.selection_range.trim_flot_data(d),s),e.scale.setSelection(i,!0)}),$(o).unbind("plotselected"),$(o).bind("plotselected",function(t,i){e.graph.setSelection(i)}),$(o).bind("plotunselected",function(){e.selection_range.reset(),s.xaxis.min=t.min,s.xaxis.max=t.max,e.graph=$.plot($(n),e.selection_range.trim_flot_data(d),s),window_min=0,window_max=0})},rrdFlot.prototype.callback_res_changed=function(){this.rrdflot_defaults.use_rra=!1,this.drawFlotGraph()},rrdFlot.prototype.callback_ds_cb_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_scale_reset=function(){this.scale.clearSelection()},rrdFlot.prototype.callback_legend_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_timezone_changed=function(){this.drawFlotGraph()},rrdFlot.prototype.callback_elem_group_changed=function(t){var e=document.getElementById(this.ds_cb_id);e.ds.length;if(e.ds.length>0)for(var i=0;i<e.ds.length;i++)Math.floor(i/this.rrdflot_defaults.num_cb_rows)==t-1?e.ds[i].checked=!0:e.ds[i].checked=!1;this.drawFlotGraph()},rrdFlotAsync.prototype.reload=function(t){this.url=t;try{FetchBinaryURLAsync(t,rrdFlotAsyncCallback,this)}catch(e){alert("Failed loading "+t+"\n"+e)}},rrdFlotAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj,this.customization_callback!=undefined&&this.customization_callback(this);var t=this.rrd_data;this.ds_op_list!=undefined&&(t=new RRDFilterOp(t,this.ds_op_list)),this.rra_op_list!=undefined&&(t=new RRDRRAFilterAvg(t,this.rra_op_list)),this.rrd_flot_obj=new rrdFlot(this.html_id,t,this.graph_options,this.ds_graph_options,this.rrdflot_defaults)},rrdFlotSumAsync.prototype.reload=function(t){rrdFlotMultiAsyncReload(this,t)},rrdFlotSumAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj;var t=new Array;for(i in this.loaded_data){var e=this.loaded_data[i];e!=undefined&&t.push(e)}var r=new RRDFileSum(t,this.sumfile_options);null!=this.rrd_data&&delete this.rrd_data,this.rrd_data=r,this.customization_callback!=undefined&&this.customization_callback(this),r=this.rrd_data,this.ds_op_list!=undefined&&(r=new RRDFilterOp(r,this.ds_op_list)),this.rra_op_list!=undefined&&(r=new RRDRRAFilterAvg(r,this.rra_op_list)),this.rrd_flot_obj=new rrdFlot(this.html_id,r,this.graph_options,this.ds_graph_options,this.rrdflot_defaults)},rrdFlotMatrixAsync.prototype.reload=function(t){this.url_pair_list=t;var e=[];for(var i in this.url_pair_list)e.push(this.url_pair_list[i][1]);rrdFlotMultiAsyncReload(this,e)},rrdFlotMatrixAsync.prototype.callback=function(){null!=this.rrd_flot_obj&&delete this.rrd_flot_obj;var t=new Array;for(var e in this.loaded_data){var i=this.loaded_data[e];i!=undefined&&t.push([this.url_pair_list[e][0],i])}for(var e in this.rrd_data=t[0],this.customization_callback!=undefined&&this.customization_callback(this),t)this.ds_op_list!=undefined&&(t[e]=new RRDFilterOp(t[e],this.ds_op_list)),this.rra_op_list!=undefined&&(t[e]=new RRDRRAFilterAvg(t[e],this.rra_op_list));this.rrd_flot_obj=new rrdFlotMatrix(this.html_id,t,this.ds_list,this.graph_options,this.rrd_graph_options,this.rrdflot_defaults)};